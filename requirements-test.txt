# ============================================
# 测试依赖
# ============================================

# ============================================
# 测试框架
# ============================================
# Pytest 核心
pytest>=7.4.0
pytest-asyncio>=0.21.0
pytest-cov>=4.1.0
pytest-timeout>=2.2.0
pytest-xdist>=3.5.0  # 并行测试

# ============================================
# 属性测试（Property-Based Testing）
# ============================================
# Hypothesis - 用于属性测试
hypothesis>=6.82.0

# ============================================
# Mock 和测试工具
# ============================================
# HTTP 客户端（FastAPI TestClient 需要）
httpx>=0.24.0

# Mock 工具
pytest-mock>=3.12.0

# 异步测试工具
aioresponses>=0.7.6

# ============================================
# 代码质量
# ============================================
# 代码覆盖率报告
coverage[toml]>=7.3.0

# 代码格式化检查（可选）
# black>=23.0.0
# flake8>=6.0.0
# mypy>=1.7.0

# ============================================
# 测试数据生成
# ============================================
# Faker - 生成测试数据
faker>=20.0.0

# ============================================
# 安装说明
# ============================================
# 安装命令（使用清华镜像源）:
#   pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements-test.txt
#
# 运行测试:
#   pytest tests/ -v
#   pytest tests/ -v --cov=agents --cov=core --cov-report=html
#   pytest tests/property_tests/ -v --hypothesis-show-statistics
#
# 注意事项:
# 1. 属性测试每个至少运行 100 次迭代
# 2. 使用 pytest-xdist 可以并行运行测试: pytest -n auto
# 3. 测试覆盖率报告会生成在 htmlcov/ 目录
