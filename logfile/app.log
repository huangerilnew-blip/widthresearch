2026-02-20 15:23:55,330 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:23:55,331 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 15:23:55,470 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:23:55,596 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 15:23:55,723 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:23:55 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 15:23:55,848 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:23:55 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 15:23:55,975 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:23:55 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 15:23:56,101 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:23:56 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 15:23:56 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 15:23:56 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 15:23:56,102 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 15:23:56,231 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 15:23:56 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 15:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 15:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 15:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 15:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 15:23:56,351 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 15:23:56,351 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 15:23:56,351 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 15:23:56,489 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 15:23:56,489 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 15:23:56,490 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 15:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 15:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 15:23:56,494 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:23:58,028 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_c194473d6ba3499d96c395fe', 'type': 'tool_call'}]
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 15:24:02 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 15:24:07 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c194473d6ba3499d96c395fe']
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括但不限于状态管理、条件分支、循环控制、持久化、调试等'}, 'id': 'call_89add57a661b49d8b7e90ae6', 'type': 'tool_call'}]
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 15:24:11 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 15:24:16 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_89add57a661b49d8b7e90ae6']
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑",
    "LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略",
    "在 LangGraph 中实现循环控制与防止无限循环的最佳实践",
    "LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧",
    "LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪"
    ]
}
```
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u590d\u6742\u7684\u72b6\u6001\u7ba1\u7406\u4e0e\u81ea\u5b9a\u4e49\u72b6\u6001\u66f4\u65b0\u903b\u8f91", "LangGraph \u6761\u4ef6\u5206\u652f\uff08conditional edges\uff09\u7684\u9ad8\u9636\u4f7f\u7528\u65b9\u6cd5\u53ca\u52a8\u6001\u8def\u7531\u7b56\u7565", "\u5728 LangGraph \u4e2d\u5b9e\u73b0\u5faa\u73af\u63a7\u5236\u4e0e\u9632\u6b62\u65e0\u9650\u5faa\u73af\u7684\u6700\u4f73\u5b9e\u8df5", "LangGraph \u6301\u4e45\u5316\u673a\u5236\uff08\u5982 Checkpointer\uff09\u7684\u914d\u7f6e\u4e0e\u8de8\u4f1a\u8bdd\u72b6\u6001\u6062\u590d\u6280\u5de7", "LangGraph \u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\uff1a\u5982\u4f55\u5229\u7528 stream_mode \u548c\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u8fdb\u884c\u7ec6\u7c92\u5ea6\u8ffd\u8e2a"]}
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u590d\u6742\u7684\u72b6\u6001\u7ba1\u7406\u4e0e\u81ea\u5b9a\u4e49\u72b6\u6001\u66f4\u65b0\u903b\u8f91", "LangGraph \u6761\u4ef6\u5206\u652f\uff08conditional edges\uff09\u7684\u9ad8\u9636\u4f7f\u7528\u65b9\u6cd5\u53ca\u52a8\u6001\u8def\u7531\u7b56\u7565", "\u5728 LangGraph \u4e2d\u5b9e\u73b0\u5faa\u73af\u63a7\u5236\u4e0e\u9632\u6b62\u65e0\u9650\u5faa\u73af\u7684\u6700\u4f73\u5b9e\u8df5", "LangGraph \u6301\u4e45\u5316\u673a\u5236\uff08\u5982 Checkpointer\uff09\u7684\u914d\u7f6e\u4e0e\u8de8\u4f1a\u8bdd\u72b6\u6001\u6062\u590d\u6280\u5de7", "LangGraph \u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\uff1a\u5982\u4f55\u5229\u7528 stream_mode \u548c\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u8fdb\u884c\u7ec6\u7c92\u5ea6\u8ffd\u8e2a"]}
2026-02-20 15:24:21 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑', 'LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略', '在 LangGraph 中实现循环控制与防止无限循环的最佳实践', 'LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧', 'LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪']}
2026-02-20 15:24:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 15:24:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 15:24:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 15:24:21 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 15:24:21 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 15:24:21 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 15:24:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 15:24:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 15:24:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 15:24:21,142 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:24:21,143 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:24:20,861 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:24:20,971 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 15:24:24 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 15:24:24 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略
2026-02-20 15:24:24 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略
2026-02-20 15:24:28 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 15:24:28 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 15:24:29 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 15:24:31 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 1 条数据
2026-02-20 15:24:31 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 11 条结果
2026-02-20 15:24:31 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:33 - agents.executoragent - INFO - [executoragent.py:174] - wikipedia_search 返回了 2 条数据
2026-02-20 15:24:33 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 10 条数据
2026-02-20 15:24:33 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 22 条结果
2026-02-20 15:24:33 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:34 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:35 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:24:39 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:24:39 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_87a327bfa05d4e31b2e1eee9']
2026-02-20 15:24:39 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 15:24:39 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:40 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:24:40 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e8eb8616be314835a748789a']
2026-02-20 15:24:40 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 15:24:40 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:41 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:44 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d7f336a1711b4cfaa12e3c41']
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:47 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:24:47 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_405e0448796641c1a5a01a7c']
2026-02-20 15:24:47 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 15:24:47 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:24:48 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:24:50 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:24:50 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d4c3fed3309546d48160bbb0']
2026-02-20 15:24:50 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 15:24:50 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中实现复杂的状态管理与自定义状态更新逻辑，主要通过以下几个核心机制：

## 1. 定义复杂状态结构

使用 `TypedDict` 定义状态类型，并支持嵌套结构和自定义字段：

```python
from typing_extensions import TypedDic...
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 15:25:14 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑时sub_url_pool 为空
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zh.wikipedia.org/wiki/HTML
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zh.wikipedia.org/wiki/Java
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/sio2zyh/p/19010575
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/concepts/low_level/
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/muzinan110/p/18554629
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/AAI666666/article/details/143945278
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cn.community.intersystems.com/post/%E6%8F%AD%E5%BC%80-langgraph-%E7%9A%8
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148799017
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148798756
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/multi_agent/
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aicoding.juejin.cn/post/7536422046021615643
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://segmentfault.com/a/1190000046512945
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.lifengdi.com/ren-gong-zhi-neng/4624
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m0_63309778/article/details/151151727
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/llm_way/article/details/147990093
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://apframework.com/blog/essay/2025-06-08-LangGraph-Tutorials
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/command
2026-02-20 15:25:14 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7517488132989681699
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=21, 去重后=21, 去重率=0.0%
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 22 篇
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 21 篇
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 21 篇文档
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 15:25:14 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 21 篇文档
2026-02-20 15:25:14,941 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:25:15,706 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 wikipedia 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 wikipedia_download 处理 wikipedia 数据
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 9 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 wikipedia_download 返回类型: <class 'list'>
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 wikipedia_download 首项类型: <class 'dict'>
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 wikipedia 文档
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=9
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 9 篇 tavily 文档
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 14 篇文档
2026-02-20 15:25:15 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑' 的处理
2026-02-20 15:25:15 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑' 的处理
2026-02-20 15:25:15 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑后 sub_url_pool 包含 21 个 URL
2026-02-20 15:25:15 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑后 downloaded_papers 包含 14 个结果
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 条件分支（Conditional Edges）的高阶使用方法及动态路由策略

LangGraph 提供了强大的条件分支机制，允许开发者根据运行时状态动态决定工作流的下一步执行路径。以下是关于条件分支的高阶使用方法和动态路由策略的详细说明。

## 基础条件分支实现

条件分支...
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 15:25:16 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略时sub_url_pool 为空
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155467460
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/qq_22017479/article/details/149054286
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/148008830
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://qiankunli.github.io/2024/05/16/langchain_graph.html
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/datawhalechina/hello-agents/blob/main/docs/chapter6/%E7%AC%AC
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.53ai.com/news/qianyanjishu/1393.html
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/command
2026-02-20 15:25:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://apframework.com/blog/essay/2026-01-18-content-extraction-LangGraph
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=11, 去重后=11, 去重率=0.0%
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 11 篇
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 11 篇
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 11 篇文档
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 15:25:16 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 11 篇文档
2026-02-20 15:25:16,174 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:25:17,630 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 15:25:17 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 15:25:17 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 15:25:17 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 15:25:17 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 tavily 文档
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 15:25:19 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略' 的处理
2026-02-20 15:25:19 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略' 的处理
2026-02-20 15:25:19 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略后 sub_url_pool 包含 11 个 URL
2026-02-20 15:25:19 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略后 downloaded_papers 包含 4 个结果
2026-02-20 15:25:19 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 15:25:19 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 15:25:19 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 15:25:19 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 30 个 URL
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成2 个子问题的检索
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 30 个 URL
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 15:25:19 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 14 个文件, 阈值=0.8
2026-02-20 15:25:19 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 14 个, 未输出 0 个
2026-02-20 15:25:19 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 14 个, 输出 14 个, 未输出 0 个
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 14 个, 输出 14 个, 未输出 0 个
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 18 个文档元数据
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 15:25:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 15:25:19,299 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 15:25:19,299 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 15:25:19,469 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 15:25:19,469 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑..., 文档数量: 5
2026-02-20 15:25:19,753 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:19,754 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:19,781 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 15:25:19,781 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略..., 文档数量: 5
2026-02-20 15:25:19,875 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:19,876 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:19,902 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 15:25:19,902 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中实现循环控制与防止无限循环的最佳实践..., 文档数量: 5
2026-02-20 15:25:19,973 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:19,973 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:19,998 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 15:25:19,998 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧..., 文档数量: 5
2026-02-20 15:25:20,078 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:20,079 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:20,110 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 15:25:20,110 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪..., 文档数量: 5
2026-02-20 15:25:20,198 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:20,199 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:20,199 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 15:25:20,199 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 15:25:20,199 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 15:25:20,199 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 15:25:20,199 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 15:25:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 15:25:20 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 15:25:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 15:25:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 15:25:20 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:366] - 没有子问题需要执行第二阶段
2026-02-20 15:25:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 15:25:20,203 - core.rag.document_processor - INFO - 开始处理 14 个文档
2026-02-20 15:25:20,204 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/wiki_10831.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 15:25:20,204 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/wiki_2908.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 15:25:20,205 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_深入理解LangGr.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 15:25:20,206 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 2 个 Document 并加入 pipeline
2026-02-20 15:25:20,206 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_揭开LangGrap.md 加载为 30 个 Document 并加入 pipeline
2026-02-20 15:25:20,208 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_WEEK057 - .md 加载为 20 个 Document 并加入 pipeline
2026-02-20 15:25:20,210 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_多智能体系统 - L.md 加载为 14 个 Document 并加入 pipeline
2026-02-20 15:25:20,211 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_解析LangGrap.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 15:25:20,211 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph实.md 加载为 25 个 Document 并加入 pipeline
2026-02-20 15:25:20,212 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_从零开始学LangG.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 15:25:20,213 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph系.md 加载为 27 个 Document 并加入 pipeline
2026-02-20 15:25:20,213 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_第四章：构建你的AI.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 15:25:20,214 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_hello-agen.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 15:25:20,214 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_知识提取：LangG.md 加载为 13 个 Document 并加入 pipeline
2026-02-20 15:25:20,215 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 167 个 Document
2026-02-20 15:25:20,842 - core.rag.document_processor - ERROR - IngestionPipeline 处理失败: AsyncCompletions.create() got an unexpected keyword argument 'tool_choice'
2026-02-20 15:25:20 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:627] - 第一阶段文档处理失败: AsyncCompletions.create() got an unexpected keyword argument 'tool_choice'
2026-02-20 15:25:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 15:25:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 15:25:20,843 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 15:25:20,843 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 15:25:20,870 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 15:25:20,870 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑..., 文档数量: 5
2026-02-20 15:25:20,938 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:20,938 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:20,963 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 15:25:20,963 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略..., 文档数量: 5
2026-02-20 15:25:21,044 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,044 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,069 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 15:25:21,069 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中实现循环控制与防止无限循环的最佳实践..., 文档数量: 5
2026-02-20 15:25:21,144 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,144 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,168 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 15:25:21,168 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧..., 文档数量: 5
2026-02-20 15:25:21,239 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,239 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,275 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 15:25:21,275 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪..., 文档数量: 5
2026-02-20 15:25:21,342 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,343 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,343 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 15:25:21,343 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 15:25:21,343 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 15:25:21,343 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 15:25:21,344 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 15:25:21 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=2
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (2/3)
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：14 + 0 = 0 个去重后的文档
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 15:25:21,346 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 15:25:21,347 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 15:25:21,372 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 15:25:21,372 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑..., 文档数量: 5
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 15:25:21,444 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,444 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,477 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 15:25:21,477 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略..., 文档数量: 5
2026-02-20 15:25:21,557 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,557 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,591 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 15:25:21,591 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中实现循环控制与防止无限循环的最佳实践..., 文档数量: 5
2026-02-20 15:25:21,657 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,658 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,682 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 15:25:21,682 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧..., 文档数量: 5
2026-02-20 15:25:21,748 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,748 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,775 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 15:25:21,776 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪..., 文档数量: 5
2026-02-20 15:25:21,853 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,854 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,854 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 15:25:21,854 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 15:25:21,854 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 15:25:21,854 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 15:25:21,854 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 15:25:21 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=3
2026-02-20 15:25:21 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 15:25:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 15:25:21,857 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 15:25:21,857 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 15:25:21,883 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 15:25:21,883 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑..., 文档数量: 5
2026-02-20 15:25:21 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=3
2026-02-20 15:25:21,956 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:21,957 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:21,982 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 15:25:21,983 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略..., 文档数量: 5
2026-02-20 15:25:22,053 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,053 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,080 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 15:25:22,081 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中实现循环控制与防止无限循环的最佳实践..., 文档数量: 5
2026-02-20 15:25:22,145 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,145 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,170 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 15:25:22,171 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧..., 文档数量: 5
2026-02-20 15:25:22,242 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,243 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,275 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 15:25:22,276 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪..., 文档数量: 5
2026-02-20 15:25:22,347 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,347 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,347 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 15:25:22,348 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 15:25:22,348 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 15:25:22,348 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 15:25:22,348 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 15:25:22 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=4
2026-02-20 15:25:22 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 15:25:22 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=4
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 15:25:22,353 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 15:25:22,353 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 15:25:22,384 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 15:25:22,385 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理与自定义状态更新逻辑..., 文档数量: 5
2026-02-20 15:25:22,461 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,461 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,483 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 15:25:22,483 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高阶使用方法及动态路由策略..., 文档数量: 5
2026-02-20 15:25:22,570 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,570 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,600 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 15:25:22,601 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中实现循环控制与防止无限循环的最佳实践..., 文档数量: 5
2026-02-20 15:25:22,679 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,679 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,700 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 15:25:22,700 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化机制（如 Checkpointer）的配置与跨会话状态恢复技巧..., 文档数量: 5
2026-02-20 15:25:22,769 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,769 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,791 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 15:25:22,791 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性：如何利用 stream_mode 和自定义事件进行细粒度追踪..., 文档数量: 5
2026-02-20 15:25:22,850 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 15:25:22,850 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 15:25:22,850 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 15:25:22,850 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 15:25:22,850 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 15:25:22,850 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 15:25:22,850 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 15:25:22 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=5
2026-02-20 15:25:22 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 15:25:22 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=5
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1207] - 节点执行状态: {'init_vector_store': True, 'plan_query': True, 'execute_first': True, 'collect_first': True, 'process_first_documents': 'error', 'execute_second': False, 'collect_second': True, 'process_second_documents': False, 'vectorize_documents': True, 'rag_retrieve': False, 'generate_answer': False, 'eval_answer': False, 'terminal_error': 'error'}
2026-02-20 15:25:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1231] - 查询处理完成
2026-02-20 15:47:23,949 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:47:23,949 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 15:47:24,106 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:47:24,258 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 15:47:24,402 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:47:24 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 15:47:24,533 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:47:24 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 15:47:24,675 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:47:24 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 15:47:24,841 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:47:24 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 15:47:24 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 15:47:24 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 15:47:24,841 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 15:47:25,081 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 15:47:25 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 15:47:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 15:47:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 15:47:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 15:47:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 15:47:25,219 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 15:47:25,219 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 15:47:25,219 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 15:47:25,440 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 15:47:25,440 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 15:47:25,441 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 15:47:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 15:47:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 15:47:25,445 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:47:27,313 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_9a402a3f223c48e49e6cbe61', 'type': 'tool_call'}]
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 15:47:41 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 15:47:56 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_9a402a3f223c48e49e6cbe61']
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/websites/langchain_oss_python_langgraph', 'query': 'langgraph 高阶技巧有哪些？'}, 'id': 'call_3ff53f35e7c14550b8606eb7', 'type': 'tool_call'}]
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 15:47:58 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 15:48:13 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_3ff53f35e7c14550b8606eb7']
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中如何实现并行节点执行与状态聚合",
    "LangGraph 的函数式 API（@task/@entrypoint）在高并发场景下的使用技巧",
    "如何在 LangGraph 中嵌套子图（subgraph）并实现层级化状态管理",
    "LangGraph 中启用子图输出流（stream_mode + subgraphs=True）的典型应用场景",
    "LangGraph 检查点（checkpoint）机制在子图与主图中的协同使用方式"
    ]
}
```
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u5e76\u884c\u8282\u70b9\u6267\u884c\u4e0e\u72b6\u6001\u805a\u5408", "LangGraph \u7684\u51fd\u6570\u5f0f API\uff08@task/@entrypoint\uff09\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u7684\u4f7f\u7528\u6280\u5de7", "\u5982\u4f55\u5728 LangGraph \u4e2d\u5d4c\u5957\u5b50\u56fe\uff08subgraph\uff09\u5e76\u5b9e\u73b0\u5c42\u7ea7\u5316\u72b6\u6001\u7ba1\u7406", "LangGraph \u4e2d\u542f\u7528\u5b50\u56fe\u8f93\u51fa\u6d41\uff08stream_mode + subgraphs=True\uff09\u7684\u5178\u578b\u5e94\u7528\u573a\u666f", "LangGraph \u68c0\u67e5\u70b9\uff08checkpoint\uff09\u673a\u5236\u5728\u5b50\u56fe\u4e0e\u4e3b\u56fe\u4e2d\u7684\u534f\u540c\u4f7f\u7528\u65b9\u5f0f"]}
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u5e76\u884c\u8282\u70b9\u6267\u884c\u4e0e\u72b6\u6001\u805a\u5408", "LangGraph \u7684\u51fd\u6570\u5f0f API\uff08@task/@entrypoint\uff09\u5728\u9ad8\u5e76\u53d1\u573a\u666f\u4e0b\u7684\u4f7f\u7528\u6280\u5de7", "\u5982\u4f55\u5728 LangGraph \u4e2d\u5d4c\u5957\u5b50\u56fe\uff08subgraph\uff09\u5e76\u5b9e\u73b0\u5c42\u7ea7\u5316\u72b6\u6001\u7ba1\u7406", "LangGraph \u4e2d\u542f\u7528\u5b50\u56fe\u8f93\u51fa\u6d41\uff08stream_mode + subgraphs=True\uff09\u7684\u5178\u578b\u5e94\u7528\u573a\u666f", "LangGraph \u68c0\u67e5\u70b9\uff08checkpoint\uff09\u673a\u5236\u5728\u5b50\u56fe\u4e0e\u4e3b\u56fe\u4e2d\u7684\u534f\u540c\u4f7f\u7528\u65b9\u5f0f"]}
2026-02-20 15:48:19 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何实现并行节点执行与状态聚合', 'LangGraph 的函数式 API（@task/@entrypoint）在高并发场景下的使用技巧', '如何在 LangGraph 中嵌套子图（subgraph）并实现层级化状态管理', 'LangGraph 中启用子图输出流（stream_mode + subgraphs=True）的典型应用场景', 'LangGraph 检查点（checkpoint）机制在子图与主图中的协同使用方式']}
2026-02-20 15:48:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 15:48:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 15:48:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 15:48:19 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 15:48:19 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 15:48:19 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 15:48:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 15:48:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 15:48:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 15:48:19,553 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:48:19,553 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:48:21,268 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:48:21,329 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:48:34 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 15:48:34 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 的函数式 API（@task/@entrypoint）在高并发场景下的使用技巧' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 15:48:34 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 15:48:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 的函数式 API（@task/@entrypoint）在高并发场景下的使用技巧
2026-02-20 15:48:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 的函数式 API（@task/@entrypoint）在高并发场景下的使用技巧
2026-02-20 15:48:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 的函数式 API（@task/@entrypoint）在高并发场景下的使用技巧
2026-02-20 15:48:35 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 15:48:35 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何实现并行节点执行与状态聚合' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 15:48:35 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 15:48:35 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何实现并行节点执行与状态聚合
2026-02-20 15:48:35 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何实现并行节点执行与状态聚合
2026-02-20 15:48:35 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何实现并行节点执行与状态聚合
2026-02-20 15:48:37 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 15:48:37 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 15:48:42 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 15:48:43 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 15:48:48 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 15:48:48 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 10 条结果
2026-02-20 15:48:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:48:49 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 10 条数据
2026-02-20 15:48:49 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 20 条结果
2026-02-20 15:48:49 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:48:50 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:48:51 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_53e5db3d1ad4447287a2f9f9']
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d6240f7df4ef45c0aae8a772']
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:49:05 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:49:07 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 15:49:08 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 15:55:24,229 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:55:24,229 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:55:25,694 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 15:56:12,362 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 15:56:12,362 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 15:56:13,760 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:04:53,056 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:04:53,056 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:04:54,607 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:04:56 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:04:56 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:04:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: langgraph的记忆管理 
2026-02-20 16:04:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: langgraph的记忆管理 
2026-02-20 16:04:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: langgraph的记忆管理 
2026-02-20 16:04:59 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:05:00 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:05:06 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 8 条数据
2026-02-20 16:05:06 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 18 条结果
2026-02-20 16:05:06 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:05:08 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:05:13 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:05:13 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_8c6df25ba0994b71b4aa7026']
2026-02-20 16:05:13 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:05:13 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:05:15 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:05:20 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:05:20 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_45054b1cbab745bd962ced2e']
2026-02-20 16:05:20 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:05:20 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，**记忆管理（Memory Management）** 是通过 **Checkpointer（检查点保存器）** 实现的。它允许你持久化和恢复图（Graph）的状态，从而支持跨多次调用的**有状态对话或工作流**。

---

### 🧠 核心概念

1. **State...
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 16:05:36 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 使用技巧----langgraph的记忆管理 时sub_url_pool 为空
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://adg.csdn.net/697075cf437a6b40336a58b1.html
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1915604388443031303
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/concepts/memory/
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://docs.langchain.com/oss/python/langgraph/memory
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/complementary-strengths-mem0-memory-framew
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aistudio.baidu.com/blog/detail/737084298395525
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1981392181592871894
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2588385
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://medium.com/@suraj.pandey199227/understanding-memory-management-in-langgr
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://sangeethasaravanan.medium.com/langgraph-memory-management-add-context-aw
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/qq_41185191/article/details/148192162
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/memory/
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://kilong31442.medium.com/langgraph-memory-flow-architecture-a-complete-gui
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://kingnight.github.io/aigc/2025/05/30/LangGraph-5-Long-Term-Memory.html
2026-02-20 16:05:36 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langchain-ai.github.io/langgraph/how-tos/memory/
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=15, 去重后=15, 去重率=0.0%
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 18 篇
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 15 篇
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 15 篇文档
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:05:36 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 15 篇文档
2026-02-20 16:05:36,630 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:05:38,039 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 16:05:38 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 5 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:05:38 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 16:05:38 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:05:38 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=5
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 5 篇 tavily 文档
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=7
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 7 篇 exa_context 文档
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 12 篇文档
2026-02-20 16:05:39 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'langgraph的记忆管理 ' 的处理
2026-02-20 16:07:45,752 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:07:45,753 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 16:07:45,907 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:07:46,034 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 16:07:46,162 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:07:46 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 16:07:46,288 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:07:46 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 16:07:46,416 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:07:46 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 16:07:46,544 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:07:46 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 16:07:46 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 16:07:46 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 16:07:46,545 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 16:07:46,665 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 16:07:46 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 16:07:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 16:07:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 16:07:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 16:07:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 16:07:46,836 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 16:07:46,836 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 16:07:46,836 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 16:07:47,138 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 16:07:47,138 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 16:07:47,140 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 16:07:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 16:07:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 16:07:47,145 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:07:47,304 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_ec4f9301476a4a929c5c1dbe', 'type': 'tool_call'}]
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:07:51 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:07:56 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ec4f9301476a4a929c5c1dbe']
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括条件边、状态管理、持久化、调试等'}, 'id': 'call_a32d873b6cd04a07a6fd0fd5', 'type': 'tool_call'}]
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:07:59 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:08:05 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_a32d873b6cd04a07a6fd0fd5']
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/websites/langchain_oss_python_langgraph', 'query': 'langgraph 高阶技巧有哪些？包括条件边、状态管理、持久化、调试等'}, 'id': 'call_b171263eba1b4417bd8c3a6b', 'type': 'tool_call'}]
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:08:08 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:08:13 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_b171263eba1b4417bd8c3a6b']
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中如何使用条件边（conditional edges）实现动态流程控制",
    "LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符",
    "如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、PostgreSQL）以支持跨会话状态恢复",
    "LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查看",
    "LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in-the-loop）和上下文感知节点的实现方式"
    ]
}
```
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u6d41\u7a0b\u63a7\u5236", "LangGraph \u7684\u72b6\u6001\u7ba1\u7406\u673a\u5236\u6709\u54ea\u4e9b\u9ad8\u9636\u7528\u6cd5\uff0c\u4f8b\u5982\u7c7b\u578b\u6821\u9a8c\u3001\u5d4c\u5957\u72b6\u6001\u548c\u6ce8\u89e3\u64cd\u4f5c\u7b26", "\u5982\u4f55\u5728 LangGraph \u4e2d\u914d\u7f6e\u6301\u4e45\u5316\uff08\u5982 InMemorySaver\u3001Redis\u3001PostgreSQL\uff09\u4ee5\u652f\u6301\u8de8\u4f1a\u8bdd\u72b6\u6001\u6062\u590d", "LangGraph \u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5305\u62ec\u6d41\u5f0f\u8f93\u51fa\u3001\u4e2d\u95f4\u72b6\u6001\u8ffd\u8e2a\u548c checkpoint \u67e5\u770b", "LangGraph \u9ad8\u9636\u6a21\u5f0f\u5982 Map-Reduce\uff08Send API\uff09\u3001\u4eba\u7c7b\u5728\u73af\uff08human-in-the-loop\uff09\u548c\u4e0a\u4e0b\u6587\u611f\u77e5\u8282\u70b9\u7684\u5b9e\u73b0\u65b9\u5f0f"]}
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u6d41\u7a0b\u63a7\u5236", "LangGraph \u7684\u72b6\u6001\u7ba1\u7406\u673a\u5236\u6709\u54ea\u4e9b\u9ad8\u9636\u7528\u6cd5\uff0c\u4f8b\u5982\u7c7b\u578b\u6821\u9a8c\u3001\u5d4c\u5957\u72b6\u6001\u548c\u6ce8\u89e3\u64cd\u4f5c\u7b26", "\u5982\u4f55\u5728 LangGraph \u4e2d\u914d\u7f6e\u6301\u4e45\u5316\uff08\u5982 InMemorySaver\u3001Redis\u3001PostgreSQL\uff09\u4ee5\u652f\u6301\u8de8\u4f1a\u8bdd\u72b6\u6001\u6062\u590d", "LangGraph \u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5305\u62ec\u6d41\u5f0f\u8f93\u51fa\u3001\u4e2d\u95f4\u72b6\u6001\u8ffd\u8e2a\u548c checkpoint \u67e5\u770b", "LangGraph \u9ad8\u9636\u6a21\u5f0f\u5982 Map-Reduce\uff08Send API\uff09\u3001\u4eba\u7c7b\u5728\u73af\uff08human-in-the-loop\uff09\u548c\u4e0a\u4e0b\u6587\u611f\u77e5\u8282\u70b9\u7684\u5b9e\u73b0\u65b9\u5f0f"]}
2026-02-20 16:08:17 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何使用条件边（conditional edges）实现动态流程控制', 'LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符', '如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、PostgreSQL）以支持跨会话状态恢复', 'LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查看', 'LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in-the-loop）和上下文感知节点的实现方式']}
2026-02-20 16:08:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 16:08:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 16:08:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 16:08:17 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 16:08:17 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 16:08:17 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 16:08:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:08:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:08:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:08:17,156 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:08:17,157 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:08:18,827 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:08:18,889 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:08:21 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:08:21 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态流程控制' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 16:08:21 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:08:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制
2026-02-20 16:08:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制
2026-02-20 16:08:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制
2026-02-20 16:08:22 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:08:22 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 16:08:22 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:08:22 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符
2026-02-20 16:08:22 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符
2026-02-20 16:08:22 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符
2026-02-20 16:08:26 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:08:26 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:08:26 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:08:27 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:08:28 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 10 条数据
2026-02-20 16:08:28 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 20 条结果
2026-02-20 16:08:28 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:31 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 10 条结果
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 我将帮您了解如何在 LangGraph 中使用条件边实现动态流程控制。首先，让我获取 LangGraph 的相关信息。

...
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:31 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:33 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:08:37 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:08:37 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_7a7ea318789a40bfa5d7de29']
2026-02-20 16:08:37 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:08:37 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:38 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:08:38 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_894ce7a59dfe4ed1b8eda018']
2026-02-20 16:08:38 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:08:38 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 现在我将查询 LangGraph 中条件边的使用方法，以实现动态流程控制。

...
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:40 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:41 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_3d671adceed44b2e9ec7f316']
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_95e743f514f34006a2520dfc']
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:08:44 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 状态管理机制的高阶用法

LangGraph 提供了强大的状态管理机制，支持多种高级功能来构建复杂的代理工作流。以下是您询问的几个关键高阶用法：

## 1. 类型校验与状态定义

LangGraph 使用 `TypedDict` 来定义状态结构，提供类型安全：

```py...
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 16:09:07 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符时sub_url_pool 为空
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/147977370
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://assets.jimmysong.io/books/agentic-design-patterns-zh-20251011.pdf
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690b1b915511483559e2672f.html
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/concepts/low_level
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7546029697222754319
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4fde5511483559e2a937.html
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/define-state
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/command
2026-02-20 16:09:07 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/reference/graphs
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=10, 去重后=10, 去重率=0.0%
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 10 篇
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 10 篇
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 10 篇文档
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:09:07 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 10 篇文档
2026-02-20 16:09:07,304 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:09:09,200 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 16:09:09 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:09:09 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 16:09:10 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 16:09:10 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 16:09:10 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=8
2026-02-20 16:09:10 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 8 篇 exa_context 文档
2026-02-20 16:09:10 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 8 篇文档
2026-02-20 16:09:10 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符' 的处理
2026-02-20 16:09:10 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符' 的处理
2026-02-20 16:09:10 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符后 sub_url_pool 包含 10 个 URL
2026-02-20 16:09:10 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符后 downloaded_papers 包含 8 个结果
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 中使用条件边（Conditional Edges）实现动态流程控制

LangGraph 是一个用于构建、管理和部署长期运行的有状态代理和工作流的低级别编排框架。条件边（conditional edges）是 LangGraph 中实现动态流程控制的关键机制，允许根据当前状态...
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 16:09:35 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何使用条件边（conditional edges）实现动态流程控制时sub_url_pool 为空
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Cheer_RIO/article/details/151070073
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/y525698136/article/details/154681377
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://ithelp.ithome.com.tw/m/articles/10347138
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155467460
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/studyLog-share/p/19289014
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://assets.jimmysong.io/books/agentic-design-patterns-zh-20251011.pdf
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://egoalpha.com/zh/LangGraph/LangGraph_Tutorial.html
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/148008830
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/command
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://kilong31442.medium.com/langgraph-lowlevel-important-concepts-2b8a61499cc
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.53ai.com/news/qianyanjishu/1393.html
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 16:09:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4f625511483559e2a628.html
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=16, 去重后=16, 去重率=0.0%
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 20 篇
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 16 篇
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 16 篇文档
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:09:35 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 16 篇文档
2026-02-20 16:09:35,701 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:09:37,167 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 16:09:37 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 6 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:09:37 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 16:09:37 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:09:37 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=5
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 5 篇 exa_context 文档
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=6
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 6 篇 tavily 文档
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 11 篇文档
2026-02-20 16:09:38 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态流程控制' 的处理
2026-02-20 16:09:38 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态流程控制' 的处理
2026-02-20 16:09:38 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何使用条件边（conditional edges）实现动态流程控制后 sub_url_pool 包含 16 个 URL
2026-02-20 16:09:38 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何使用条件边（conditional edges）实现动态流程控制后 downloaded_papers 包含 11 个结果
2026-02-20 16:09:38 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 16:09:38 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 16:09:38 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 16:09:38 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 23 个 URL
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成2 个子问题的检索
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 23 个 URL
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 16:09:38 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 19 个文件, 阈值=0.8
2026-02-20 16:09:39 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 19 个, 未输出 0 个
2026-02-20 16:09:39 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 19 个, 输出 19 个, 未输出 0 个
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 19 个, 输出 19 个, 未输出 0 个
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 19 个文档元数据
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:09:39,004 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:09:39,004 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:09:39,126 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:09:39,126 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 16:09:37,769 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:37,769 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:37,809 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:09:37,810 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符..., 文档数量: 5
2026-02-20 16:09:37,911 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:37,912 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:37,958 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:09:37,958 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、Postgre..., 文档数量: 5
2026-02-20 16:09:38,056 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:38,056 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:38,099 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:09:38,099 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查..., 文档数量: 5
2026-02-20 16:09:38,191 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:38,191 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:38,234 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:09:38,234 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in..., 文档数量: 5
2026-02-20 16:09:38,312 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:38,313 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:38,313 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:09:38,313 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:09:38,313 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:09:38,313 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:09:38,313 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:09:38 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 16:09:38 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:366] - 没有子问题需要执行第二阶段
2026-02-20 16:09:38 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 16:09:38,316 - core.rag.document_processor - INFO - 开始处理 19 个文档
2026-02-20 16:09:38,319 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 60 个 Document 并加入 pipeline
2026-02-20 16:09:38,319 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_从零开始学LangG.md 加载为 28 个 Document 并加入 pipeline
2026-02-20 16:09:38,320 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_【Day 4】- L.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 16:09:38,321 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph系.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 16:09:38,322 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph：.md 加载为 14 个 Document 并加入 pipeline
2026-02-20 16:09:38,389 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_[PDF] Agen.md 加载为 1 个 Document 并加入 pipeline
2026-02-20 16:09:38,390 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【AI Agent系.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 16:09:38,390 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_WEEK057 -.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 16:09:38,391 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_AI Agent &.md 加载为 12 个 Document 并加入 pipeline
2026-02-20 16:09:38,392 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_无标题_202602.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 16:09:38,392 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_ModelEngin.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 16:09:38,393 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【LangGraph.md 加载为 13 个 Document 并加入 pipeline
2026-02-20 16:09:38,393 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_[PDF] Agen.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 16:09:38,394 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_零基础LangGra.md 加载为 44 个 Document 并加入 pipeline
2026-02-20 16:09:38,394 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph从.md 加载为 23 个 Document 并加入 pipeline
2026-02-20 16:09:38,395 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_从零开始学LangG.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 16:09:38,395 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何定义图状态 -.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 16:09:38,396 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用 Comma.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 16:09:38,397 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_图 - LangCh.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 16:09:38,397 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 264 个 Document
2026-02-20 16:09:39,150 - core.rag.document_processor - ERROR - IngestionPipeline 处理失败: Error code: 400 - {'error': {'message': 'When using `tool_choice`, `tools` must be set.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-a49afc8c-0c06-975e-8a8a-0eb3766f93f0', 'request_id': 'a49afc8c-0c06-975e-8a8a-0eb3766f93f0'}
2026-02-20 16:09:39 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:627] - 第一阶段文档处理失败: Error code: 400 - {'error': {'message': 'When using `tool_choice`, `tools` must be set.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-a49afc8c-0c06-975e-8a8a-0eb3766f93f0', 'request_id': 'a49afc8c-0c06-975e-8a8a-0eb3766f93f0'}
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:09:39,151 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:09:39,151 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:09:39,181 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:09:39,181 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 16:09:39,251 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,252 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,281 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:09:39,281 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符..., 文档数量: 5
2026-02-20 16:09:39,368 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,368 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,398 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:09:39,398 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、Postgre..., 文档数量: 5
2026-02-20 16:09:39,483 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,483 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,515 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:09:39,516 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查..., 文档数量: 5
2026-02-20 16:09:39,593 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,593 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,626 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:09:39,626 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in..., 文档数量: 5
2026-02-20 16:09:39,687 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,688 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,688 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:09:39,688 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:09:39,688 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:09:39,688 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:09:39,688 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:09:39 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=2
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (2/3)
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：19 + 0 = 0 个去重后的文档
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:09:39,691 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:09:39,691 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:09:39,718 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:09:39,718 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:09:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:09:39,793 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,793 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,821 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:09:39,821 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符..., 文档数量: 5
2026-02-20 16:09:39,878 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,879 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:39,910 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:09:39,911 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、Postgre..., 文档数量: 5
2026-02-20 16:09:39,979 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:39,979 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,007 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:09:40,007 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查..., 文档数量: 5
2026-02-20 16:09:40,074 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,075 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,104 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:09:40,104 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in..., 文档数量: 5
2026-02-20 16:09:40,182 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,182 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,182 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:09:40,182 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:09:40,183 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:09:40,183 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:09:40,183 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:09:40 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=3
2026-02-20 16:09:40 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:09:40,185 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:09:40,186 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:09:40,212 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:09:40,212 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 16:09:40 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=3
2026-02-20 16:09:40,281 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,281 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,307 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:09:40,307 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符..., 文档数量: 5
2026-02-20 16:09:40,379 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,380 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,407 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:09:40,407 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、Postgre..., 文档数量: 5
2026-02-20 16:09:40,474 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,474 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,503 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:09:40,503 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查..., 文档数量: 5
2026-02-20 16:09:40,595 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,595 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,625 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:09:40,625 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in..., 文档数量: 5
2026-02-20 16:09:40,776 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,776 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,776 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:09:40,776 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:09:40,776 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:09:40,776 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:09:40,777 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:09:40 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=4
2026-02-20 16:09:40 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 16:09:40 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=4
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:09:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:09:40,780 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:09:40,781 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:09:40,803 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:09:40,803 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 16:09:40,888 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,888 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,910 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:09:40,910 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如类型校验、嵌套状态和注解操作符..., 文档数量: 5
2026-02-20 16:09:40,974 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:40,974 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:40,993 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:09:40,994 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中配置持久化（如 InMemorySaver、Redis、Postgre..., 文档数量: 5
2026-02-20 16:09:41,057 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:41,057 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:41,076 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:09:41,076 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括流式输出、中间状态追踪和 checkpoint 查..., 文档数量: 5
2026-02-20 16:09:41,128 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:41,128 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:41,156 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:09:41,156 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶模式如 Map-Reduce（Send API）、人类在环（human-in..., 文档数量: 5
2026-02-20 16:09:41,201 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:09:41,201 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:09:41,201 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:09:41,201 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:09:41,201 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:09:41,201 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:09:41,201 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:09:41 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:09:41 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=5
2026-02-20 16:09:41 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 16:09:41 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=5
2026-02-20 16:09:41 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1207] - 节点执行状态: {'init_vector_store': True, 'plan_query': True, 'execute_first': True, 'collect_first': True, 'process_first_documents': 'error', 'execute_second': False, 'collect_second': True, 'process_second_documents': False, 'vectorize_documents': True, 'rag_retrieve': False, 'generate_answer': False, 'eval_answer': False, 'terminal_error': 'error'}
2026-02-20 16:09:41 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1231] - 查询处理完成
2026-02-20 16:16:54,353 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:16:54,355 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 16:16:54,507 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:16:54,637 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 16:16:54,764 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:16:54 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 16:16:54,898 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:16:54 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 16:16:55,028 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:16:55 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 16:16:55,156 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:16:55 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 16:16:55 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 16:16:55 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 16:16:55,157 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 16:16:55,289 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 16:16:55 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 16:16:55 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 16:16:55 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 16:16:55 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 16:16:55 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 16:16:55,458 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 16:16:55,458 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 16:16:55,459 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 16:16:55,704 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 16:16:55,705 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 16:16:55,706 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 16:16:55 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 16:16:55 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 16:16:55,710 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:16:57,638 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_9d221114da00411c805a6225', 'type': 'tool_call'}]
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:17:03 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:17:06 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_9d221114da00411c805a6225']
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/websites/langchain_oss_python_langgraph', 'query': 'langgraph 高阶技巧有哪些？'}, 'id': 'call_895ea723e2a14d39aa922109', 'type': 'tool_call'}]
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:17:08 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:17:14 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_895ea723e2a14d39aa922109']
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'langgraph advanced techniques subgraphs parallel execution streaming', 'type': 'deep'}, 'id': 'call_05fe8f3b7a77482b9a1597c4', 'type': 'tool_call'}]
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 16:17:19 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:17:26 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_05fe8f3b7a77482b9a1597c4']
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中实现并行执行的高阶模式有哪些（如 Map-Reduce、Supervisor 模式）",
    "如何在 LangGraph 中使用子图（Subgraphs）封装复杂逻辑并实现嵌套工作流",
    "LangGraph 支持哪些流式输出（Streaming）模式，以及如何从子图中流式获取结果",
    "在 LangGraph 并行节点中如何正确同步状态更新与聚合（如使用 Annotated + reducer）",
    "LangGraph 高阶技巧中如何结合 Checkpointers 实现带记忆的并行与子图执行"
    ]
}
```
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u5e76\u884c\u6267\u884c\u7684\u9ad8\u9636\u6a21\u5f0f\u6709\u54ea\u4e9b\uff08\u5982 Map-Reduce\u3001Supervisor \u6a21\u5f0f\uff09", "\u5982\u4f55\u5728 LangGraph \u4e2d\u4f7f\u7528\u5b50\u56fe\uff08Subgraphs\uff09\u5c01\u88c5\u590d\u6742\u903b\u8f91\u5e76\u5b9e\u73b0\u5d4c\u5957\u5de5\u4f5c\u6d41", "LangGraph \u652f\u6301\u54ea\u4e9b\u6d41\u5f0f\u8f93\u51fa\uff08Streaming\uff09\u6a21\u5f0f\uff0c\u4ee5\u53ca\u5982\u4f55\u4ece\u5b50\u56fe\u4e2d\u6d41\u5f0f\u83b7\u53d6\u7ed3\u679c", "\u5728 LangGraph \u5e76\u884c\u8282\u70b9\u4e2d\u5982\u4f55\u6b63\u786e\u540c\u6b65\u72b6\u6001\u66f4\u65b0\u4e0e\u805a\u5408\uff08\u5982\u4f7f\u7528 Annotated + reducer\uff09", "LangGraph \u9ad8\u9636\u6280\u5de7\u4e2d\u5982\u4f55\u7ed3\u5408 Checkpointers \u5b9e\u73b0\u5e26\u8bb0\u5fc6\u7684\u5e76\u884c\u4e0e\u5b50\u56fe\u6267\u884c"]}
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u5e76\u884c\u6267\u884c\u7684\u9ad8\u9636\u6a21\u5f0f\u6709\u54ea\u4e9b\uff08\u5982 Map-Reduce\u3001Supervisor \u6a21\u5f0f\uff09", "\u5982\u4f55\u5728 LangGraph \u4e2d\u4f7f\u7528\u5b50\u56fe\uff08Subgraphs\uff09\u5c01\u88c5\u590d\u6742\u903b\u8f91\u5e76\u5b9e\u73b0\u5d4c\u5957\u5de5\u4f5c\u6d41", "LangGraph \u652f\u6301\u54ea\u4e9b\u6d41\u5f0f\u8f93\u51fa\uff08Streaming\uff09\u6a21\u5f0f\uff0c\u4ee5\u53ca\u5982\u4f55\u4ece\u5b50\u56fe\u4e2d\u6d41\u5f0f\u83b7\u53d6\u7ed3\u679c", "\u5728 LangGraph \u5e76\u884c\u8282\u70b9\u4e2d\u5982\u4f55\u6b63\u786e\u540c\u6b65\u72b6\u6001\u66f4\u65b0\u4e0e\u805a\u5408\uff08\u5982\u4f7f\u7528 Annotated + reducer\uff09", "LangGraph \u9ad8\u9636\u6280\u5de7\u4e2d\u5982\u4f55\u7ed3\u5408 Checkpointers \u5b9e\u73b0\u5e26\u8bb0\u5fc6\u7684\u5e76\u884c\u4e0e\u5b50\u56fe\u6267\u884c"]}
2026-02-20 16:17:31 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中实现并行执行的高阶模式有哪些（如 Map-Reduce、Supervisor 模式）', '如何在 LangGraph 中使用子图（Subgraphs）封装复杂逻辑并实现嵌套工作流', 'LangGraph 支持哪些流式输出（Streaming）模式，以及如何从子图中流式获取结果', '在 LangGraph 并行节点中如何正确同步状态更新与聚合（如使用 Annotated + reducer）', 'LangGraph 高阶技巧中如何结合 Checkpointers 实现带记忆的并行与子图执行']}
2026-02-20 16:17:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 16:17:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 16:17:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 16:17:31 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 16:17:31 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 16:17:31 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 16:17:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:17:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:17:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:17:31,256 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:17:31,256 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:17:33,182 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:17:33,250 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:17:36 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '如何在 LangGraph 中使用子图（Subgraphs）封装复杂逻辑并实现嵌套工作流' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 如何在 LangGraph 中使用子图（Subgraphs）封装复杂逻辑并实现嵌套工作流
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 如何在 LangGraph 中使用子图（Subgraphs）封装复杂逻辑并实现嵌套工作流
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 如何在 LangGraph 中使用子图（Subgraphs）封装复杂逻辑并实现嵌套工作流
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:17:36 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中实现并行执行的高阶模式有哪些（如 Map-Reduce、Supervisor 模式）' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中实现并行执行的高阶模式有哪些（如 Map-Reduce、Supervisor 模式）
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中实现并行执行的高阶模式有哪些（如 Map-Reduce、Supervisor 模式）
2026-02-20 16:17:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中实现并行执行的高阶模式有哪些（如 Map-Reduce、Supervisor 模式）
2026-02-20 16:19:34 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:19:34 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:19:34 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:19:35 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:19:36 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 16:19:36 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 10 条结果
2026-02-20 16:19:36 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:39 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:19:41 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 10 条数据
2026-02-20 16:19:41 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 20 条结果
2026-02-20 16:19:41 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ee66f1410f8b4ef5b6de5a60']
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:19:44 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:46 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:19:49 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:19:49 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_888ad065f2c346cca2d7b6ab']
2026-02-20 16:19:49 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:19:49 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_5dd8c7a3783749acb04210fd']
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:19:51 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:19:56 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:19:56 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4359ab9fd85a4f589cd9f336']
2026-02-20 16:19:56 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:19:56 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:27:35,704 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:27:35,704 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 16:27:35,844 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:27:35,961 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 16:27:36,077 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:27:36 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 16:27:36,204 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:27:36 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 16:27:36,326 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:27:36 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 16:27:36,445 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 16:27:36 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 16:27:36 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 16:27:36 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 16:27:36,446 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 16:27:36,561 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 16:27:36 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 16:27:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 16:27:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 16:27:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 16:27:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 16:27:36,725 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 16:27:36,725 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 16:27:36,725 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 16:27:36,916 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 16:27:36,916 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 16:27:36,917 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 16:27:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 16:27:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 16:27:36,921 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:27:38,439 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_43bd4b92b6e14a03985eb4ae', 'type': 'tool_call'}]
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:27:42 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:27:47 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_43bd4b92b6e14a03985eb4ae']
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括但不限于状态管理、条件分支、循环控制、持久化、调试等'}, 'id': 'call_8b2317a612c7474ca62e0416', 'type': 'tool_call'}]
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:27:50 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:27:55 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_8b2317a612c7474ca62e0416']
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'LangGraph advanced techniques state management conditional branching persistence debugging', 'type': 'deep'}, 'id': 'call_4f10f327297244a99be752ec', 'type': 'tool_call'}]
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 16:27:58 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 16:28:03 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4f10f327297244a99be752ec']
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流",
    "LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑",
    "如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档重检）",
    "LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointer 选型（PostgreSQL/Redis/MongoDB）、线程管理与长短期记忆分离",
    "LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调试、自定义 GraphDebugger、执行路径追踪与单元测试"
    ]
}
```
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u8bbe\u8ba1\u590d\u6742\u72b6\u6001\uff08\u5982\u5d4c\u5957 TypedDict\u3001\u5e26 reducer \u7684 Annotated \u72b6\u6001\uff09\u4ee5\u652f\u6301\u9ad8\u9636\u5de5\u4f5c\u6d41", "LangGraph \u6761\u4ef6\u5206\u652f\uff08conditional edges\uff09\u7684\u9ad8\u7ea7\u7528\u6cd5\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u57fa\u4e8e\u591a\u6761\u4ef6\u5224\u65ad\u3001\u52a8\u6001\u8def\u7531\u6216\u5de5\u5177\u8c03\u7528\u7ed3\u679c\u7684\u51b3\u7b56\u903b\u8f91", "\u5982\u4f55\u5728 LangGraph \u4e2d\u5b9e\u73b0\u5faa\u73af\u63a7\u5236\u4e0e\u81ea\u9002\u5e94\u91cd\u8bd5\u673a\u5236\uff08\u5982 RAG \u4e2d\u7684 query \u91cd\u5199\u4e0e\u6587\u6863\u91cd\u68c0\uff09", "LangGraph \u6301\u4e45\u5316\uff08Persistence\uff09\u7684\u751f\u4ea7\u7ea7\u5b9e\u8df5\u6709\u54ea\u4e9b\uff0c\u5305\u62ec Checkpointer \u9009\u578b\uff08PostgreSQL/Redis/MongoDB\uff09\u3001\u7ebf\u7a0b\u7ba1\u7406\u4e0e\u957f\u77ed\u671f\u8bb0\u5fc6\u5206\u79bb", "LangGraph \u9ad8\u9636\u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\u6280\u5de7\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u4f7f\u7528 LangGraph Studio \u65ad\u70b9\u8c03\u8bd5\u3001\u81ea\u5b9a\u4e49 GraphDebugger\u3001\u6267\u884c\u8def\u5f84\u8ffd\u8e2a\u4e0e\u5355\u5143\u6d4b\u8bd5"]}
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u8bbe\u8ba1\u590d\u6742\u72b6\u6001\uff08\u5982\u5d4c\u5957 TypedDict\u3001\u5e26 reducer \u7684 Annotated \u72b6\u6001\uff09\u4ee5\u652f\u6301\u9ad8\u9636\u5de5\u4f5c\u6d41", "LangGraph \u6761\u4ef6\u5206\u652f\uff08conditional edges\uff09\u7684\u9ad8\u7ea7\u7528\u6cd5\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u57fa\u4e8e\u591a\u6761\u4ef6\u5224\u65ad\u3001\u52a8\u6001\u8def\u7531\u6216\u5de5\u5177\u8c03\u7528\u7ed3\u679c\u7684\u51b3\u7b56\u903b\u8f91", "\u5982\u4f55\u5728 LangGraph \u4e2d\u5b9e\u73b0\u5faa\u73af\u63a7\u5236\u4e0e\u81ea\u9002\u5e94\u91cd\u8bd5\u673a\u5236\uff08\u5982 RAG \u4e2d\u7684 query \u91cd\u5199\u4e0e\u6587\u6863\u91cd\u68c0\uff09", "LangGraph \u6301\u4e45\u5316\uff08Persistence\uff09\u7684\u751f\u4ea7\u7ea7\u5b9e\u8df5\u6709\u54ea\u4e9b\uff0c\u5305\u62ec Checkpointer \u9009\u578b\uff08PostgreSQL/Redis/MongoDB\uff09\u3001\u7ebf\u7a0b\u7ba1\u7406\u4e0e\u957f\u77ed\u671f\u8bb0\u5fc6\u5206\u79bb", "LangGraph \u9ad8\u9636\u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\u6280\u5de7\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u4f7f\u7528 LangGraph Studio \u65ad\u70b9\u8c03\u8bd5\u3001\u81ea\u5b9a\u4e49 GraphDebugger\u3001\u6267\u884c\u8def\u5f84\u8ffd\u8e2a\u4e0e\u5355\u5143\u6d4b\u8bd5"]}
2026-02-20 16:28:11 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流', 'LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑', '如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档重检）', 'LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointer 选型（PostgreSQL/Redis/MongoDB）、线程管理与长短期记忆分离', 'LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调试、自定义 GraphDebugger、执行路径追踪与单元测试']}
2026-02-20 16:28:11 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 16:28:11 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 16:28:11 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 16:28:11 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 16:28:11 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 16:28:11 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 16:28:11 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:28:11 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:28:11 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:28:11,197 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:28:11,198 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:28:12,643 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:28:12,702 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:28:15 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 16:28:15 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑
2026-02-20 16:28:15 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑
2026-02-20 16:28:18 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:28:19 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:28:19 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 16:28:20 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 10 条数据
2026-02-20 16:28:21 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 16:28:21 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 10 条结果
2026-02-20 16:28:21 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:22 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 10 条数据
2026-02-20 16:28:22 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 20 条结果
2026-02-20 16:28:22 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 我将帮您了解如何在 LangGraph 中设计复杂状态来支持高阶工作流。首先，让我获取 LangGraph 的相关文档。

...
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:24 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 我将为您详细介绍 LangGraph 条件分支的高级用法。首先，让我获取 LangGraph 的官方文档。

...
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:25 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_35a86c3e08d94d5a9c29c03b']
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_64b1ba0357334e0ea5f277b8']
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 16:28:30 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 我将使用 LangGraph 的 Python 版本文档，因为它提供了最全面的代码示例和信息。

...
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 我将使用 Python 版本的 LangGraph 文档，因为它有最多的代码示例：

...
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:33 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:39 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:39 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_5848fc913559461998bd4303']
2026-02-20 16:28:39 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:28:39 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:40 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:40 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_37b21287b71a4e6983d50d65']
2026-02-20 16:28:40 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:28:40 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 现在让我获取更多关于复杂状态设计和嵌套结构的信息：

...
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:42 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 现在让我搜索更多关于动态路由和复杂条件判断的高级用法：

...
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:43 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:47 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:47 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_07cace51c0f345bd837e49e2']
2026-02-20 16:28:47 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:28:47 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:48 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:48 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_00066c45cb15498d9f277056']
2026-02-20 16:28:48 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 16:28:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 让我搜索更多关于复杂嵌套状态和高级工作流的具体实现：

...
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 让我搜索更多关于基于工具调用结果的决策逻辑的示例：

...
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:51 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_6809a5575bf7499c8d436380']
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_b3832b77a7b54013ad24b4a9']
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 16:28:53 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 让我再尝试搜索更具体的 LangGraph 条件分支用法：

...
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:56 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:57 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:57 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_93459211da0f4495af49b850']
2026-02-20 16:28:57 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 16:28:57 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 让我尝试更具体的搜索：

...
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:28:58 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 16:28:59 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 16:28:59 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_363fb683d186480881afce43']
2026-02-20 16:28:59 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 16:28:59 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 16:30:29 - agents.executoragent - ERROR - [executoragent.py:526] - ExecutorAgent-llm_chat_node 状态错误Request timed out.
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 16:30:29 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑时sub_url_pool 为空
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155467460
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m0_53827889/article/details/148460168
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/alex100/article/details/149858782
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/news/3547448
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aneasystone.com/archives/2024/10/create-agents-with-langgraph.html
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/148008830
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.aliyun.com/article/1490420
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/studyLog-share/p/19289014
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/graph-api/
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.53ai.com/news/qianyanjishu/1393.html
2026-02-20 16:30:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/command
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=16, 去重后=16, 去重率=0.0%
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 20 篇
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 16 篇
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 16 篇文档
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 16:30:29 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 16 篇文档
2026-02-20 16:30:29,220 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:30:30,528 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 16:30:30 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 6 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:30:30 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 16:30:30 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:30:30 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 16:30:31 - agents.executoragent - ERROR - [executoragent.py:526] - ExecutorAgent-llm_chat_node 状态错误Request timed out.
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 16:30:31 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流时sub_url_pool 为空
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/yangykaifa/p/19513814
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m0_63309778/article/details/151151727
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/147977370
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.53ai.com/news/langchain/2025120845769.html
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://view.inews.qq.com/a/20251208A06MZ900
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aicoding.juejin.cn/post/7536422046021615643
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/define-state
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148798103
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/zzzlip/langchain-langgraph-learning
2026-02-20 16:30:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7517488132989681699
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=10, 去重后=10, 去重率=0.0%
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 10 篇
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 10 篇
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 10 篇文档
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 16:30:31 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 10 篇文档
2026-02-20 16:30:31,456 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=10
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 10 篇 exa_context 文档
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=6
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 6 篇 tavily 文档
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 16 篇文档
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑' 的处理
2026-02-20 16:30:32 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑' 的处理
2026-02-20 16:30:32 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑后 sub_url_pool 包含 16 个 URL
2026-02-20 16:30:32 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判断、动态路由或工具调用结果的决策逻辑后 downloaded_papers 包含 16 个结果
2026-02-20 16:30:32,845 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 10 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 16:30:32 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 16:30:34 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 16:30:34 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 16:30:34 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=7
2026-02-20 16:30:34 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 7 篇 exa_context 文档
2026-02-20 16:30:34 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 7 篇文档
2026-02-20 16:30:34 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流' 的处理
2026-02-20 16:30:34 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流' 的处理
2026-02-20 16:30:34 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流后 sub_url_pool 包含 10 个 URL
2026-02-20 16:30:34 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Annotated 状态）以支持高阶工作流后 downloaded_papers 包含 7 个结果
2026-02-20 16:30:34 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 16:30:34 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 16:30:34 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 16:30:34 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 26 个 URL
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成2 个子问题的检索
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 26 个 URL
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 16:30:34 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 23 个文件, 阈值=0.8
2026-02-20 16:30:34 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.863): tavily_LangGraph系.md vs tavily_决策与循环：Lang.md
2026-02-20 16:30:34 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.857): tavily_LangGraph系.md vs tavily_AI Agent开发.md
2026-02-20 16:30:34 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 21 个, 未输出 2 个
2026-02-20 16:30:34 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 23 个, 输出 21 个, 未输出 2 个
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 23 个, 输出 21 个, 未输出 2 个
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 23 个文档元数据
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:30:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:30:34,278 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:30:34,279 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:30:34,464 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:30:34,464 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Anno..., 文档数量: 5
2026-02-20 16:30:34,682 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:34,683 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:34,706 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:30:34,706 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判..., 文档数量: 5
2026-02-20 16:30:34,771 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:34,771 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:34,794 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:30:34,794 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档..., 文档数量: 5
2026-02-20 16:30:34,859 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:34,860 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:34,896 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:30:34,896 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointe..., 文档数量: 5
2026-02-20 16:30:34,964 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:34,964 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:34,984 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:30:34,984 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调..., 文档数量: 5
2026-02-20 16:30:35,048 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,048 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:35,048 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:30:35,048 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:30:35,048 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:30:35,049 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:30:35,049 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:30:35 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 16:30:35 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:366] - 没有子问题需要执行第二阶段
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 16:30:35,052 - core.rag.document_processor - INFO - 开始处理 21 个文档
2026-02-20 16:30:35,052 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_实用指南：LangG.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 16:30:35,053 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph.md 加载为 18 个 Document 并加入 pipeline
2026-02-20 16:30:35,053 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_让AI智能体拥有像人.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 16:30:35,054 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_🧠 LangGrap.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 16:30:35,055 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何定义图状态 -.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 16:30:35,055 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_深入理解 LangG.md 加载为 25 个 Document 并加入 pipeline
2026-02-20 16:30:35,056 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_zzzlip_lan.md 加载为 14 个 Document 并加入 pipeline
2026-02-20 16:30:35,057 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph系.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 16:30:35,058 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 23 个 Document 并加入 pipeline
2026-02-20 16:30:35,059 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_基于LangGrap.md 加载为 20 个 Document 并加入 pipeline
2026-02-20 16:30:35,060 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_Multi-Agen.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 16:30:35,060 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【LangGraph.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 16:30:35,060 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【AI Agent系.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 16:30:35,061 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph：.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 16:30:35,061 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_WEEK057 -.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 16:30:35,062 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用图 API.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 16:30:35,062 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_从零开始学LangG.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 16:30:35,063 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_给你的LangGra.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 16:30:35,063 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph从.md 加载为 16 个 Document 并加入 pipeline
2026-02-20 16:30:35,064 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_无标题_202602.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 16:30:35,064 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用 Comma.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 16:30:35,065 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 213 个 Document
2026-02-20 16:30:35,499 - core.rag.document_processor - ERROR - IngestionPipeline 处理失败: No columns to parse from file
2026-02-20 16:30:35 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:627] - 第一阶段文档处理失败: No columns to parse from file
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:30:35,500 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:30:35,500 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:30:35,519 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:30:35,519 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Anno..., 文档数量: 5
2026-02-20 16:30:35,583 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,583 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:35,602 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:30:35,602 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判..., 文档数量: 5
2026-02-20 16:30:35,661 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,661 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:35,680 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:30:35,680 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档..., 文档数量: 5
2026-02-20 16:30:35,745 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,745 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:35,764 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:30:35,764 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointe..., 文档数量: 5
2026-02-20 16:30:35,837 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,837 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:35,855 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:30:35,855 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调..., 文档数量: 5
2026-02-20 16:30:35,907 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,908 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:35,908 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:30:35,908 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:30:35,908 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:30:35,908 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:30:35,908 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:30:35 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=2
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (2/3)
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：21 + 0 = 0 个去重后的文档
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:30:35,911 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:30:35,911 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:30:35,929 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:30:35,930 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Anno..., 文档数量: 5
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:30:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:30:35,984 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:35,984 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,003 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:30:36,003 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判..., 文档数量: 5
2026-02-20 16:30:36,052 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,052 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,070 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:30:36,071 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档..., 文档数量: 5
2026-02-20 16:30:36,131 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,131 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,149 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:30:36,150 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointe..., 文档数量: 5
2026-02-20 16:30:36,213 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,213 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,231 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:30:36,231 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调..., 文档数量: 5
2026-02-20 16:30:36,296 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,296 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,296 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:30:36,296 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:30:36,296 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:30:36,296 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:30:36,297 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:30:36 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=3
2026-02-20 16:30:36 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:30:36,299 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:30:36,299 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:30:36,317 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:30:36,317 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Anno..., 文档数量: 5
2026-02-20 16:30:36 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=3
2026-02-20 16:30:36,388 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,388 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,407 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:30:36,408 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判..., 文档数量: 5
2026-02-20 16:30:36,472 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,472 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,493 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:30:36,493 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档..., 文档数量: 5
2026-02-20 16:30:36,558 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,558 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,577 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:30:36,577 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointe..., 文档数量: 5
2026-02-20 16:30:36,628 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,628 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,647 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:30:36,648 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调..., 文档数量: 5
2026-02-20 16:30:36,713 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,713 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,713 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:30:36,713 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:30:36,713 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:30:36,713 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:30:36,713 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:30:36 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=4
2026-02-20 16:30:36 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 16:30:36 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=4
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 16:30:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 16:30:36,717 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 16:30:36,717 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 16:30:36,736 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 16:30:36,736 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何设计复杂状态（如嵌套 TypedDict、带 reducer 的 Anno..., 文档数量: 5
2026-02-20 16:30:36,800 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,801 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,820 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 16:30:36,820 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件分支（conditional edges）的高级用法有哪些，例如基于多条件判..., 文档数量: 5
2026-02-20 16:30:36,871 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,871 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,890 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 16:30:36,890 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中实现循环控制与自适应重试机制（如 RAG 中的 query 重写与文档..., 文档数量: 5
2026-02-20 16:30:36,946 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:36,946 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:36,965 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 16:30:36,966 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化（Persistence）的生产级实践有哪些，包括 Checkpointe..., 文档数量: 5
2026-02-20 16:30:37,028 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:37,028 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:37,046 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 16:30:37,046 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶调试与可观测性技巧有哪些，例如使用 LangGraph Studio 断点调..., 文档数量: 5
2026-02-20 16:30:37,088 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 16:30:37,089 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 16:30:37,089 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 16:30:37,089 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 16:30:37,089 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 16:30:37,089 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 16:30:37,089 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 16:30:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 16:30:37 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=5
2026-02-20 16:30:37 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 16:30:37 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=5
2026-02-20 16:30:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1207] - 节点执行状态: {'init_vector_store': True, 'plan_query': True, 'execute_first': True, 'collect_first': True, 'process_first_documents': 'error', 'execute_second': False, 'collect_second': True, 'process_second_documents': False, 'vectorize_documents': True, 'rag_retrieve': False, 'generate_answer': False, 'eval_answer': False, 'terminal_error': 'error'}
2026-02-20 16:30:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1231] - 查询处理完成
2026-02-20 17:23:55,394 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:23:55,395 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 17:23:55,593 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:23:55,717 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 17:23:55,837 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:23:55 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 17:23:55,960 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:23:55 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 17:23:56,079 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:23:56 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 17:23:56,198 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:23:56 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 17:23:56 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 17:23:56 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 17:23:56,199 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 17:23:56,199 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 17:23:56,391 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 17:23:56 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 17:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 17:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 17:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 17:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 17:23:56,568 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 17:23:56,568 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 17:23:56,568 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 17:23:56,823 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 17:23:56,823 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 17:23:56,824 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 17:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 17:23:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 17:23:56,828 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:23:58,621 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_c9aa5453a96d4d4e8e8969a8', 'type': 'tool_call'}]
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 17:24:03 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 17:24:08 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c9aa5453a96d4d4e8e8969a8']
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高阶使用技巧，包括条件边、子图、检查点、持久化、自定义状态管理等'}, 'id': 'call_b59e4e18bc8c4b69940d5289', 'type': 'tool_call'}]
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:24:11 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 17:24:16 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_b59e4e18bc8c4b69940d5289']
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高级功能：自定义状态更新逻辑、中断与人工干预、流式输出控制、错误恢复机制'}, 'id': 'call_8b3bb32589d1487c8f7a5ee7', 'type': 'tool_call'}]
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:24:18 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 17:24:23 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_8b3bb32589d1487c8f7a5ee7']
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流",
    "LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流",
    "LangGraph 检查点（checkpointer）机制如何实现状态持久化与跨会话恢复",
    "LangGraph 中如何通过自定义状态管理与更新逻辑控制图的执行行为",
    "LangGraph 如何支持人工干预（interrupt）和人机协同流程控制",
    "LangGraph 的流式输出（streaming）机制有哪些模式，如何用于实时响应生成",
    "LangGraph 中如何利用 Command 和 goto 实现细粒度执行流控制与错误恢复"
    ]
}
```
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u8def\u7531\u548c\u590d\u6742\u51b3\u7b56\u6d41", "LangGraph \u5982\u4f55\u5d4c\u5957\u5b50\u56fe\uff08subgraphs\uff09\u4ee5\u6784\u5efa\u6a21\u5757\u5316\u3001\u53ef\u590d\u7528\u7684\u590d\u6742\u5de5\u4f5c\u6d41", "LangGraph \u68c0\u67e5\u70b9\uff08checkpointer\uff09\u673a\u5236\u5982\u4f55\u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\u4e0e\u8de8\u4f1a\u8bdd\u6062\u590d", "LangGraph \u4e2d\u5982\u4f55\u901a\u8fc7\u81ea\u5b9a\u4e49\u72b6\u6001\u7ba1\u7406\u4e0e\u66f4\u65b0\u903b\u8f91\u63a7\u5236\u56fe\u7684\u6267\u884c\u884c\u4e3a", "LangGraph \u5982\u4f55\u652f\u6301\u4eba\u5de5\u5e72\u9884\uff08interrupt\uff09\u548c\u4eba\u673a\u534f\u540c\u6d41\u7a0b\u63a7\u5236", "LangGraph \u7684\u6d41\u5f0f\u8f93\u51fa\uff08streaming\uff09\u673a\u5236\u6709\u54ea\u4e9b\u6a21\u5f0f\uff0c\u5982\u4f55\u7528\u4e8e\u5b9e\u65f6\u54cd\u5e94\u751f\u6210", "LangGraph \u4e2d\u5982\u4f55\u5229\u7528 Command \u548c goto \u5b9e\u73b0\u7ec6\u7c92\u5ea6\u6267\u884c\u6d41\u63a7\u5236\u4e0e\u9519\u8bef\u6062\u590d"]}
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u8def\u7531\u548c\u590d\u6742\u51b3\u7b56\u6d41", "LangGraph \u5982\u4f55\u5d4c\u5957\u5b50\u56fe\uff08subgraphs\uff09\u4ee5\u6784\u5efa\u6a21\u5757\u5316\u3001\u53ef\u590d\u7528\u7684\u590d\u6742\u5de5\u4f5c\u6d41", "LangGraph \u68c0\u67e5\u70b9\uff08checkpointer\uff09\u673a\u5236\u5982\u4f55\u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\u4e0e\u8de8\u4f1a\u8bdd\u6062\u590d", "LangGraph \u4e2d\u5982\u4f55\u901a\u8fc7\u81ea\u5b9a\u4e49\u72b6\u6001\u7ba1\u7406\u4e0e\u66f4\u65b0\u903b\u8f91\u63a7\u5236\u56fe\u7684\u6267\u884c\u884c\u4e3a", "LangGraph \u5982\u4f55\u652f\u6301\u4eba\u5de5\u5e72\u9884\uff08interrupt\uff09\u548c\u4eba\u673a\u534f\u540c\u6d41\u7a0b\u63a7\u5236", "LangGraph \u7684\u6d41\u5f0f\u8f93\u51fa\uff08streaming\uff09\u673a\u5236\u6709\u54ea\u4e9b\u6a21\u5f0f\uff0c\u5982\u4f55\u7528\u4e8e\u5b9e\u65f6\u54cd\u5e94\u751f\u6210", "LangGraph \u4e2d\u5982\u4f55\u5229\u7528 Command \u548c goto \u5b9e\u73b0\u7ec6\u7c92\u5ea6\u6267\u884c\u6d41\u63a7\u5236\u4e0e\u9519\u8bef\u6062\u590d"]}
2026-02-20 17:24:30 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流', 'LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流', 'LangGraph 检查点（checkpointer）机制如何实现状态持久化与跨会话恢复', 'LangGraph 中如何通过自定义状态管理与更新逻辑控制图的执行行为', 'LangGraph 如何支持人工干预（interrupt）和人机协同流程控制', 'LangGraph 的流式输出（streaming）机制有哪些模式，如何用于实时响应生成', 'LangGraph 中如何利用 Command 和 goto 实现细粒度执行流控制与错误恢复']}
2026-02-20 17:24:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 7 个子问题
2026-02-20 17:24:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 17:24:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 17:24:30 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 17:24:30 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 17:24:30 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 17:24:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:24:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 17:24:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:24:30,318 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:24:30,318 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:24:31,825 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:24:31,882 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 17:24:34 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 17:24:34 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流
2026-02-20 17:24:34 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流
2026-02-20 17:24:38 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 17:24:38 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 17:24:38 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 17:24:39 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 17:24:40 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 17:24:40 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 17:24:40 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:41 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 17:24:41 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 17:24:41 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:42 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:43 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:24:47 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:24:47 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_6fd5389d992c47e89d9991b5']
2026-02-20 17:24:47 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 17:24:47 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:48 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:24:48 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c09a4bd1ebfd4dd09328e114']
2026-02-20 17:24:48 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 17:24:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:49 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:50 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_dbeb0ae89e2041959f8a0ae0']
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_05ea42cfee7f4ab7ab48c3f1']
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 17:24:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 嵌套子图（Subgraphs）构建模块化工作流

LangGraph 通过嵌套子图（subgraphs）提供了一种强大的方式来构建模块化、可复用的复杂工作流。这种模式允许你将大型工作流分解为更小、更易管理的组件，每个组件可以独立开发和测试。

## 核心概念

在 LangG...
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 17:25:22 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流时sub_url_pool 为空
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 17:25:22 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_43844521/article/details/150226357
2026-02-20 17:25:22 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/subgraph/
2026-02-20 17:25:22 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/muzinan110/p/18540191
2026-02-20 17:25:22 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/subgraphs
2026-02-20 17:25:22 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4f625511483559e2a628.html
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 17:25:22 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 17:25:22,393 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:25:23,815 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 17:25:23 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:25:23 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 17:25:23 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:25:23 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 17:25:25 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流' 的处理
2026-02-20 17:25:25 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流' 的处理
2026-02-20 17:25:25 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流后 sub_url_pool 包含 5 个 URL
2026-02-20 17:25:25 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流后 downloaded_papers 包含 5 个结果
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 中使用条件边（Conditional Edges）实现动态路由和复杂决策流

在 LangGraph 中，条件边（conditional edges）是实现动态路由和复杂决策流的关键机制。它允许工作流根据当前状态的值在运行时动态决定下一步执行哪个节点。

## 基本概念

条...
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 17:26:17 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流时sub_url_pool 为空
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 17:26:17 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155467460
2026-02-20 17:26:17 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/e-commerce-intelligent-operation-insight-a
2026-02-20 17:26:17 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/alex100/article/details/149858782
2026-02-20 17:26:17 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 17:26:17 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 17:26:17 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 17:26:17 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 17:26:17,674 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:26:19,034 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 17:26:19 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:26:19 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 17:26:19 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:26:19 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 17:26:20 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流' 的处理
2026-02-20 17:26:20 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流' 的处理
2026-02-20 17:26:20 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流后 sub_url_pool 包含 6 个 URL
2026-02-20 17:26:20 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流后 downloaded_papers 包含 6 个结果
2026-02-20 17:26:20 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 17:26:20 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 17:26:20 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 17:26:20 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 11 个 URL
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成2 个子问题的检索
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 11 个 URL
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 17:26:20 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 11 个文件, 阈值=0.8
2026-02-20 17:26:20 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.874): tavily_LangGraph系.md vs tavily_AI Agent开发.md
2026-02-20 17:26:20 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 10 个, 未输出 1 个
2026-02-20 17:26:20 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 11 个, 输出 10 个, 未输出 1 个
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 11 个, 输出 10 个, 未输出 1 个
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 11 个文档元数据
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:26:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:26:20,708 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:26:20,708 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 7
2026-02-20 17:26:20,993 - core.rag.rag_postprocess_module - DEBUG - 问题 1/7 初步检索到 5 个节点
2026-02-20 17:26:20,993 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态路由和复杂决策流..., 文档数量: 5
2026-02-20 17:26:21,359 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:21,359 - core.rag.rag_postprocess_module - DEBUG - 问题 1/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:21,435 - core.rag.rag_postprocess_module - DEBUG - 问题 2/7 初步检索到 5 个节点
2026-02-20 17:26:21,436 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何嵌套子图（subgraphs）以构建模块化、可复用的复杂工作流..., 文档数量: 5
2026-02-20 17:26:21,551 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:21,551 - core.rag.rag_postprocess_module - DEBUG - 问题 2/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:21,585 - core.rag.rag_postprocess_module - DEBUG - 问题 3/7 初步检索到 5 个节点
2026-02-20 17:26:21,586 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 检查点（checkpointer）机制如何实现状态持久化与跨会话恢复..., 文档数量: 5
2026-02-20 17:26:21,695 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:21,695 - core.rag.rag_postprocess_module - DEBUG - 问题 3/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:21,733 - core.rag.rag_postprocess_module - DEBUG - 问题 4/7 初步检索到 5 个节点
2026-02-20 17:26:21,733 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何通过自定义状态管理与更新逻辑控制图的执行行为..., 文档数量: 5
2026-02-20 17:26:21,838 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:21,838 - core.rag.rag_postprocess_module - DEBUG - 问题 4/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:21,876 - core.rag.rag_postprocess_module - DEBUG - 问题 5/7 初步检索到 5 个节点
2026-02-20 17:26:21,876 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何支持人工干预（interrupt）和人机协同流程控制..., 文档数量: 5
2026-02-20 17:26:21,962 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:21,962 - core.rag.rag_postprocess_module - DEBUG - 问题 5/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:22,027 - core.rag.rag_postprocess_module - DEBUG - 问题 6/7 初步检索到 5 个节点
2026-02-20 17:26:22,028 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的流式输出（streaming）机制有哪些模式，如何用于实时响应生成..., 文档数量: 5
2026-02-20 17:26:22,125 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:22,126 - core.rag.rag_postprocess_module - DEBUG - 问题 6/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:22,158 - core.rag.rag_postprocess_module - DEBUG - 问题 7/7 初步检索到 5 个节点
2026-02-20 17:26:22,158 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何利用 Command 和 goto 实现细粒度执行流控制与错误恢复..., 文档数量: 5
2026-02-20 17:26:22,254 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:26:22,255 - core.rag.rag_postprocess_module - DEBUG - 问题 7/7 重排序+过滤后保留 0 个节点
2026-02-20 17:26:22,255 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:26:22,255 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:26:22,255 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:26:22,255 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 7 个去重后的问题
2026-02-20 17:26:22,255 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 7 个问题
2026-02-20 17:26:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:26:22 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 17:26:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 17:26:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 17:26:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 4 个子问题，使用第一阶段收集的 11 个 URL
2026-02-20 17:26:22 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 4 个子问题 (user_id=test_user_001, url_pool_size=11)
2026-02-20 17:26:22 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 17:26:22 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 17:26:22 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 17:26:22 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 4 到 Agent 0
2026-02-20 17:26:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 17:26:22,259 - core.rag.document_processor - INFO - 开始处理 10 个文档
2026-02-20 17:26:22,261 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph系.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 17:26:22,262 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_电商智能运营洞察自动.md 加载为 18 个 Document 并加入 pipeline
2026-02-20 17:26:22,263 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【AI Agent系.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 17:26:22,263 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph从.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 17:26:22,264 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_WEEK057 -.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 17:26:22,266 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_浅谈LangGrap.md 加载为 49 个 Document 并加入 pipeline
2026-02-20 17:26:22,266 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_如何添加和使用子图 .md 加载为 4 个 Document 并加入 pipeline
2026-02-20 17:26:22,266 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_使用LangGrap.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 17:26:22,267 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_概述 - LangC.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 17:26:22,268 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_ModelEngin.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 17:26:22,268 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 111 个 Document
2026-02-20 17:37:42,831 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:37:42,831 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 17:37:42,962 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:37:43,080 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 17:37:43,198 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:37:43 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 17:37:43,316 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:37:43 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 17:37:43,434 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:37:43 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 17:37:43,553 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:37:43 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 17:37:43 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 17:37:43 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 17:37:43,553 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 17:37:43,554 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 17:37:43,681 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 17:37:43 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 17:37:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 17:37:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 17:37:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 17:37:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 17:37:43,795 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 17:37:43,795 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 17:37:43,795 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 17:37:43,934 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 17:37:43,934 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 17:37:43,935 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 17:37:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 17:37:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 17:37:43,939 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:37:45,341 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_a9d18d4912fc45268dd32e51', 'type': 'tool_call'}]
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 17:37:50 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 17:37:56 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_a9d18d4912fc45268dd32e51']
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括条件边、状态管理、持久化、调试等'}, 'id': 'call_8ae59d34261844fc887a908e', 'type': 'tool_call'}]
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:38:00 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 17:38:05 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_8ae59d34261844fc887a908e']
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/websites/langchain_oss_python_langgraph', 'query': 'langgraph 高阶技巧有哪些？包括条件边、状态管理、持久化、调试等'}, 'id': 'call_cab678bc8603412388cfefa9', 'type': 'tool_call'}]
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:38:07 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 17:38:12 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_cab678bc8603412388cfefa9']
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:```
{
    "tasks": [
    "LangGraph 中如何使用条件边（conditional edges）实现动态流程控制",
    "LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换",
    "LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreSQL、MongoDB）及其实现方式",
    "如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模式",
    "LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调试"
    ]
}
```
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u6d41\u7a0b\u63a7\u5236", "LangGraph \u7684\u72b6\u6001\u7ba1\u7406\u673a\u5236\u6709\u54ea\u4e9b\u9ad8\u9636\u7528\u6cd5\uff0c\u4f8b\u5982\u5d4c\u5957\u72b6\u6001\u3001\u7c7b\u578b\u6821\u9a8c\u4e0e\u81ea\u52a8\u8f6c\u6362", "LangGraph \u652f\u6301\u54ea\u4e9b\u6301\u4e45\u5316\u65b9\u6848\uff08\u5982 InMemorySaver\u3001Redis\u3001PostgreSQL\u3001MongoDB\uff09\u53ca\u5176\u5b9e\u73b0\u65b9\u5f0f", "\u5982\u4f55\u5728 LangGraph \u4e2d\u4f7f\u7528 Send API \u5b9e\u73b0 map-reduce \u7b49\u5e76\u884c\u6216\u5206\u652f\u5904\u7406\u6a21\u5f0f", "LangGraph \u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5305\u62ec checkpoint \u67e5\u770b\u3001\u72b6\u6001\u5feb\u7167\u83b7\u53d6\u548c\u6d41\u5f0f\u8c03\u8bd5"]}
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u6d41\u7a0b\u63a7\u5236", "LangGraph \u7684\u72b6\u6001\u7ba1\u7406\u673a\u5236\u6709\u54ea\u4e9b\u9ad8\u9636\u7528\u6cd5\uff0c\u4f8b\u5982\u5d4c\u5957\u72b6\u6001\u3001\u7c7b\u578b\u6821\u9a8c\u4e0e\u81ea\u52a8\u8f6c\u6362", "LangGraph \u652f\u6301\u54ea\u4e9b\u6301\u4e45\u5316\u65b9\u6848\uff08\u5982 InMemorySaver\u3001Redis\u3001PostgreSQL\u3001MongoDB\uff09\u53ca\u5176\u5b9e\u73b0\u65b9\u5f0f", "\u5982\u4f55\u5728 LangGraph \u4e2d\u4f7f\u7528 Send API \u5b9e\u73b0 map-reduce \u7b49\u5e76\u884c\u6216\u5206\u652f\u5904\u7406\u6a21\u5f0f", "LangGraph \u8c03\u8bd5\u4e0e\u53ef\u89c2\u6d4b\u6027\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5305\u62ec checkpoint \u67e5\u770b\u3001\u72b6\u6001\u5feb\u7167\u83b7\u53d6\u548c\u6d41\u5f0f\u8c03\u8bd5"]}
2026-02-20 17:38:16 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何使用条件边（conditional edges）实现动态流程控制', 'LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换', 'LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreSQL、MongoDB）及其实现方式', '如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模式', 'LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调试']}
2026-02-20 17:38:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 17:38:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 17:38:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 17:38:16 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 17:38:16 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 17:38:16 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 17:38:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:38:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 17:38:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:38:16,696 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:38:16,696 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:38:18,226 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:38:18,300 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 17:38:21 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 17:38:21 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态流程控制' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制
2026-02-20 17:38:21 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制
2026-02-20 17:38:25 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 17:38:25 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 17:38:25 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 17:38:25 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 17:38:27 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 17:38:27 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 17:38:27 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:28 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 17:38:28 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 17:38:28 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:29 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 我将帮您了解如何在 LangGraph 中使用条件边实现动态流程控制。首先，让我查找 LangGraph 的相关信息。

...
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:31 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:38:34 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:38:34 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_614a78158ed545b7bd2fff73']
2026-02-20 17:38:34 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 17:38:34 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_65ea1170161c4bd4bd47a85c']
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:36 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_b04c43b1d06d452e822189b2']
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 现在我将查询 LangGraph 中条件边的使用方法，以了解如何实现动态流程控制。

...
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:38:41 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 17:38:46 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 17:38:46 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_53b471a55e914abd9a6c070c']
2026-02-20 17:38:46 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 17:38:46 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 状态管理机制的高阶用法

LangGraph 提供了强大的状态管理机制，支持多种高级用法，包括嵌套状态、类型校验和自动转换。以下是这些高阶用法的详细介绍：

## 1. 嵌套状态（子图/嵌套图）

LangGraph 允许创建嵌套的子图，每个子图可以拥有自己的状态定义和处理逻...
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 17:39:09 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换时sub_url_pool 为空
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 17:39:09 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/yangykaifa/p/19513814
2026-02-20 17:39:09 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/sio2zyh/p/19010575
2026-02-20 17:39:09 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/neweastsun/article/details/151748303
2026-02-20 17:39:09 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/reference/graphs
2026-02-20 17:39:09 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/graph-api/
2026-02-20 17:39:09 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4fde5511483559e2a937.html
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 17:39:09 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 17:39:09,983 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:39:11,485 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 17:39:11 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:39:11 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 17:39:11 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:39:11 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: # LangGraph 中使用条件边（Conditional Edges）实现动态流程控制

LangGraph 是一个用于构建、管理和部署长期运行、有状态代理的低级编排框架。条件边（conditional edges）是 LangGraph 中实现动态流程控制的关键机制，允许工作流根据当前状态在运...
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 17:39:12 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何使用条件边（conditional edges）实现动态流程控制时sub_url_pool 为空
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 17:39:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Cheer_RIO/article/details/151070073
2026-02-20 17:39:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 17:39:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 17:39:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=4, 去重后=4, 去重率=0.0%
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 4 篇
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 4 篇文档
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 17:39:12 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 4 篇文档
2026-02-20 17:39:12,377 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换' 的处理
2026-02-20 17:39:13 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换' 的处理
2026-02-20 17:39:13 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换后 sub_url_pool 包含 6 个 URL
2026-02-20 17:39:13 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换后 downloaded_papers 包含 6 个结果
2026-02-20 17:39:13,845 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:39:13 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=0
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 0 篇 exa_context 文档
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 tavily 文档
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 1 篇文档
2026-02-20 17:39:15 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态流程控制' 的处理
2026-02-20 17:39:15 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何使用条件边（conditional edges）实现动态流程控制' 的处理
2026-02-20 17:39:15 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何使用条件边（conditional edges）实现动态流程控制后 sub_url_pool 包含 4 个 URL
2026-02-20 17:39:15 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何使用条件边（conditional edges）实现动态流程控制后 downloaded_papers 包含 1 个结果
2026-02-20 17:39:15 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 17:39:15 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 17:39:15 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 17:39:15 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 10 个 URL
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成2 个子问题的检索
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 10 个 URL
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 17:39:15 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 6 个文件, 阈值=0.8
2026-02-20 17:39:15 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 6 个, 未输出 0 个
2026-02-20 17:39:15 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 6 个, 输出 6 个, 未输出 0 个
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 6 个, 输出 6 个, 未输出 0 个
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 7 个文档元数据
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:39:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:39:15,605 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:39:15,605 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 17:39:15,723 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 17:39:15,723 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 17:39:15,880 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:39:15,880 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 17:39:15,913 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 17:39:15,913 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换..., 文档数量: 5
2026-02-20 17:39:15,988 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:39:15,988 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 17:39:16,061 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 17:39:16,061 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreS..., 文档数量: 5
2026-02-20 17:39:16,151 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:39:16,151 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 17:39:16,179 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 17:39:16,179 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模..., 文档数量: 5
2026-02-20 17:39:16,270 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:39:16,270 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 17:39:16,307 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 17:39:16,307 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调..., 文档数量: 5
2026-02-20 17:39:16,387 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:39:16,388 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 17:39:16,388 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:39:16,388 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:39:16,388 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:39:16,388 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 17:39:16,388 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 17:39:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:39:16 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 17:39:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 17:39:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 17:39:16 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:366] - 没有子问题需要执行第二阶段
2026-02-20 17:39:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 17:39:16,391 - core.rag.document_processor - INFO - 开始处理 6 个文档
2026-02-20 17:39:16,392 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 20 个 Document 并加入 pipeline
2026-02-20 17:39:16,397 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_实用指南：LangG.md 加载为 278 个 Document 并加入 pipeline
2026-02-20 17:39:16,397 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_深入理解LangGr.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 17:39:16,398 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_图 - LangCh.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 17:39:16,399 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用图 API.md 加载为 9 个 Document 并加入 pipeline
2026-02-20 17:39:16,399 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 17:39:16,399 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 322 个 Document
2026-02-20 17:41:25,106 - core.rag.document_processor - ERROR - IngestionPipeline 处理失败: Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-7db221fb-6a70-93fa-8297-70e76920c31e', 'request_id': '7db221fb-6a70-93fa-8297-70e76920c31e'}
2026-02-20 17:41:25 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:627] - 第一阶段文档处理失败: Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-7db221fb-6a70-93fa-8297-70e76920c31e', 'request_id': '7db221fb-6a70-93fa-8297-70e76920c31e'}
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:41:25,107 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:41:25,107 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 17:41:25,205 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 17:41:25,205 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 17:41:25,478 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:25,478 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:25,530 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 17:41:25,530 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换..., 文档数量: 5
2026-02-20 17:41:25,606 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:25,607 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:25,645 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 17:41:25,645 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreS..., 文档数量: 5
2026-02-20 17:41:25,725 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:25,725 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:25,759 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 17:41:25,759 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模..., 文档数量: 5
2026-02-20 17:41:25,830 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:25,831 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:25,866 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 17:41:25,866 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调..., 文档数量: 5
2026-02-20 17:41:25,938 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:25,938 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:25,938 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:41:25,938 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:41:25,938 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:41:25,938 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 17:41:25,939 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:41:25 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=2
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (2/3)
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：6 + 0 = 0 个去重后的文档
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:41:25,941 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:41:25,942 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 17:41:25,986 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 17:41:25,986 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 17:41:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:41:26,050 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,051 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,072 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 17:41:26,072 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换..., 文档数量: 5
2026-02-20 17:41:26,140 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,140 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,173 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 17:41:26,173 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreS..., 文档数量: 5
2026-02-20 17:41:26,238 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,239 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,274 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 17:41:26,274 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模..., 文档数量: 5
2026-02-20 17:41:26,334 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,334 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,382 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 17:41:26,382 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调..., 文档数量: 5
2026-02-20 17:41:26,445 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,445 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,445 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:41:26,445 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:41:26,445 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:41:26,445 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 17:41:26,445 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:41:26 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=3
2026-02-20 17:41:26 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:41:26,448 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:41:26,448 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 17:41:26,470 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 17:41:26,471 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 17:41:26 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=3
2026-02-20 17:41:26,533 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,533 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,559 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 17:41:26,559 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换..., 文档数量: 5
2026-02-20 17:41:26,625 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,625 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,659 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 17:41:26,659 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreS..., 文档数量: 5
2026-02-20 17:41:26,713 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,713 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,752 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 17:41:26,752 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模..., 文档数量: 5
2026-02-20 17:41:26,812 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,812 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,836 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 17:41:26,836 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调..., 文档数量: 5
2026-02-20 17:41:26,909 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,909 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:26,909 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:41:26,909 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:41:26,909 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:41:26,909 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 17:41:26,909 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:41:26 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=4
2026-02-20 17:41:26 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 17:41:26 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=4
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:41:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:41:26,913 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:41:26,913 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 17:41:26,933 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 17:41:26,933 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用条件边（conditional edges）实现动态流程控制..., 文档数量: 5
2026-02-20 17:41:26,988 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:26,988 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:27,008 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 17:41:27,008 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的状态管理机制有哪些高阶用法，例如嵌套状态、类型校验与自动转换..., 文档数量: 5
2026-02-20 17:41:27,062 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:27,062 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:27,082 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 17:41:27,083 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 支持哪些持久化方案（如 InMemorySaver、Redis、PostgreS..., 文档数量: 5
2026-02-20 17:41:27,139 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:27,139 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:27,160 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 17:41:27,160 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中使用 Send API 实现 map-reduce 等并行或分支处理模..., 文档数量: 5
2026-02-20 17:41:27,221 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:27,221 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:27,248 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 17:41:27,248 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 调试与可观测性的最佳实践，包括 checkpoint 查看、状态快照获取和流式调..., 文档数量: 5
2026-02-20 17:41:27,312 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:41:27,312 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 0 个节点
2026-02-20 17:41:27,312 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:41:27,312 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:41:27,313 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:41:27,313 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 17:41:27,313 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 17:41:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:41:27 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=5
2026-02-20 17:41:27 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 17:41:27 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=5
2026-02-20 17:41:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1207] - 节点执行状态: {'init_vector_store': True, 'plan_query': True, 'execute_first': True, 'collect_first': True, 'process_first_documents': 'error', 'execute_second': False, 'collect_second': True, 'process_second_documents': False, 'vectorize_documents': True, 'rag_retrieve': False, 'generate_answer': False, 'eval_answer': False, 'terminal_error': 'error'}
2026-02-20 17:41:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1231] - 查询处理完成
2026-02-20 17:49:56,436 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:49:56,436 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 17:49:56,575 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:49:56,708 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 17:49:56,830 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:49:56 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 17:49:56,953 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:49:56 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 17:49:57,076 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:49:57 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 17:49:57,199 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 17:49:57 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 17:49:57 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 17:49:57 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 17:49:57,200 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 17:49:57,200 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 17:49:57,354 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 17:49:57 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 17:49:57 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 17:49:57 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 17:49:57 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 17:49:57 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 17:49:57,472 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 17:49:57,472 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 17:49:57,472 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 17:49:57,653 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4096 个文档
2026-02-20 17:49:57,653 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 17:49:57,655 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 17:49:57 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 17:49:57 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 17:49:57,659 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:49:59,629 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:50:02 - agents.planneragent - ERROR - [planneragent.py:152] - planner_agent llm_chat 分析用户的问题时，出现错误:Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-483a5890-f6ea-9cf2-b7cd-741edddbb21d', 'request_id': '483a5890-f6ea-9cf2-b7cd-741edddbb21d'}
2026-02-20 17:50:02 - agents.planneragent - ERROR - [planneragent.py:324] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 出现错误：Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-483a5890-f6ea-9cf2-b7cd-741edddbb21d', 'request_id': '483a5890-f6ea-9cf2-b7cd-741edddbb21d'}
2026-02-20 17:50:02 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:296] - 查询拆解失败: Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-483a5890-f6ea-9cf2-b7cd-741edddbb21d', 'request_id': '483a5890-f6ea-9cf2-b7cd-741edddbb21d'}
2026-02-20 17:50:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 17:50:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 1 个子问题，初始 URL 池为空
2026-02-20 17:50:02 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 1 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 17:50:02 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 17:50:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:50:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 17:50:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:50:02,721 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:50:04,134 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 17:50:07 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 17:50:07 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'langgraph 高阶技巧有哪些？' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 17:50:07 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 17:50:07 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: langgraph 高阶技巧有哪些？
2026-02-20 17:50:07 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: langgraph 高阶技巧有哪些？
2026-02-20 17:50:07 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: langgraph 高阶技巧有哪些？
2026-02-20 17:50:09 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 17:50:10 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 17:50:11 - agents.executoragent - ERROR - [executoragent.py:526] - ExecutorAgent-llm_chat_node 状态错误Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-720e132c-433e-93a2-8294-9d2817ba71ae', 'request_id': '720e132c-433e-93a2-8294-9d2817ba71ae'}
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 17:50:11 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----langgraph 高阶技巧有哪些？时sub_url_pool 为空
2026-02-20 17:50:11 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/
2026-02-20 17:50:11 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/muzinan110/p/18541090
2026-02-20 17:50:11 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas
2026-02-20 17:50:11 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://jetthoughts.com/blog/langgraph-workflows-state-machines-ai-agents/
2026-02-20 17:50:11 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/branching
2026-02-20 17:50:11 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/studyLog-share/p/19289014
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 17:50:11 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 17:50:11,880 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 17:50:13,254 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 17:50:13 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:50:13 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 17:50:13 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 17:50:13 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 17:50:14 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'langgraph 高阶技巧有哪些？' 的处理
2026-02-20 17:50:14 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'langgraph 高阶技巧有哪些？' 的处理
2026-02-20 17:50:14 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成langgraph 高阶技巧有哪些？后 sub_url_pool 包含 6 个 URL
2026-02-20 17:50:14 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成langgraph 高阶技巧有哪些？后 downloaded_papers 包含 6 个结果
2026-02-20 17:50:14 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 17:50:14 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 1/1, 失败 0
2026-02-20 17:50:14 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 6 个 URL
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成1 个子问题的检索
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 6 个 URL
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 17:50:14 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 6 个文件, 阈值=0.8
2026-02-20 17:50:14 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 6 个, 未输出 0 个
2026-02-20 17:50:14 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 6 个, 输出 6 个, 未输出 0 个
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 6 个, 输出 6 个, 未输出 0 个
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 6 个文档元数据
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:50:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:50:14,797 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:50:14,797 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 1
2026-02-20 17:50:14,972 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 初步检索到 5 个节点
2026-02-20 17:50:14,973 - core.rag.reranker - INFO - 开始异步 rerank，查询: langgraph 高阶技巧有哪些？..., 文档数量: 5
2026-02-20 17:50:15,134 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:50:15,134 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 重排序+过滤后保留 0 个节点
2026-02-20 17:50:15,134 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:50:15,134 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:50:15,134 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:50:15,134 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 1 个去重后的问题
2026-02-20 17:50:15,134 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 1 个问题
2026-02-20 17:50:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:50:15 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 17:50:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 17:50:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 17:50:15 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:366] - 没有子问题需要执行第二阶段
2026-02-20 17:50:15 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 17:50:15,137 - core.rag.document_processor - INFO - 开始处理 6 个文档
2026-02-20 17:50:15,138 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph_.md 加载为 22 个 Document 并加入 pipeline
2026-02-20 17:50:15,138 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph高.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 17:50:15,140 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_快时尚电商行业智能体.md 加载为 35 个 Document 并加入 pipeline
2026-02-20 17:50:15,140 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_Mastering.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 17:50:15,142 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何创建用于并行节点.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 17:50:15,143 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_千年烟雨尽风流.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 17:50:15,143 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 80 个 Document
2026-02-20 17:54:25,464 - core.rag.document_processor - INFO - 文档处理完成: 109 个节点
2026-02-20 17:54:25,465 - core.rag.document_processor - INFO - 另外添加了 4 个来自 可选工具JSON 文档的节点
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:594] - 第一阶段文档处理完成: 113 个片段
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:54:25,465 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:54:25,466 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 1
2026-02-20 17:54:25,566 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 初步检索到 5 个节点
2026-02-20 17:54:25,567 - core.rag.reranker - INFO - 开始异步 rerank，查询: langgraph 高阶技巧有哪些？..., 文档数量: 5
2026-02-20 17:54:25,841 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:54:25,842 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 重排序+过滤后保留 0 个节点
2026-02-20 17:54:25,842 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:54:25,842 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:54:25,842 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:54:25,842 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 1 个去重后的问题
2026-02-20 17:54:25,842 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 1 个问题
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:54:25 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=2
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (2/3)
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：6 + 0 = 0 个去重后的文档
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:54:25,847 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:54:25,847 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 1
2026-02-20 17:54:25,870 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 初步检索到 5 个节点
2026-02-20 17:54:25,870 - core.rag.reranker - INFO - 开始异步 rerank，查询: langgraph 高阶技巧有哪些？..., 文档数量: 5
2026-02-20 17:54:25 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 113 个第一阶段文档到向量库
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:54:30,755 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 17:54:30,755 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 重排序+过滤后保留 0 个节点
2026-02-20 17:54:30,755 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 17:54:30,755 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 17:54:30,755 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 17:54:30,755 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 1 个去重后的问题
2026-02-20 17:54:30,756 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 1 个问题
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 17:54:30 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=3
2026-02-20 17:54:30 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1041] - 检索重试达到上限 3/3，终止流程
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:54:30,758 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:54:30,758 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 1
2026-02-20 17:54:30,779 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 初步检索到 5 个节点
2026-02-20 17:54:30,779 - core.rag.reranker - INFO - 开始异步 rerank，查询: langgraph 高阶技巧有哪些？..., 文档数量: 5
2026-02-20 17:54:30 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1052] - 流程终止: retrieved_epoch=3
2026-02-20 17:54:30,888 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 17:54:30,890 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 重排序+过滤后保留 5 个节点
2026-02-20 17:54:30,890 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 5 个节点
2026-02-20 17:54:30,890 - core.rag.rag_postprocess_module - INFO - 去重后保留 5 个节点
2026-02-20 17:54:30,893 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 5 个节点
2026-02-20 17:54:30,893 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 1 个去重后的问题
2026-02-20 17:54:30,893 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 1 个问题
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 5 个节点
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2474
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1978
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1375
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1811
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1651
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 79 个问题
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 17:54:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 17:54:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 113 个第一阶段文档到向量库
2026-02-20 17:54:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 17:54:35 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'Access denied, please make sure your account is in good standing. For details, see: https://help.aliyun.com/zh/model-studio/error-code#overdue-payment', 'type': 'Arrearage', 'param': None, 'code': 'Arrearage'}, 'id': 'chatcmpl-98552195-2d45-9022-bddc-0c804b515000', 'request_id': '98552195-2d45-9022-bddc-0c804b515000'}
2026-02-20 17:54:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 17:54:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 17:54:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 17:54:35,318 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 17:54:35,318 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 1
2026-02-20 17:54:35,338 - core.rag.rag_postprocess_module - DEBUG - 问题 1/1 初步检索到 5 个节点
2026-02-20 17:54:35,338 - core.rag.reranker - INFO - 开始异步 rerank，查询: langgraph 高阶技巧有哪些？..., 文档数量: 5
2026-02-20 17:54:35 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1235] - 处理查询失败: name 'instance' is not defined
2026-02-20 18:08:47,193 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47,193 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47,337 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47,459 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 18:08:47,582 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 18:08:47,701 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 18:08:47,823 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 18:08:47,950 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:08:47 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 18:08:47 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 18:08:47 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 18:08:47,950 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 18:08:47,951 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 18:08:48,094 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 18:08:48 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 18:08:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 18:08:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 18:08:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 18:08:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 18:08:48,207 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 18:08:48,207 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 18:08:48,207 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 18:08:48,412 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4209 个文档
2026-02-20 18:08:48,412 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 18:08:48,414 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 18:08:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 18:08:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 18:08:48,418 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:08:49,957 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_d6545b630ba24a15adb478', 'type': 'tool_call'}]
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:08:54 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 18:08:59 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d6545b630ba24a15adb478']
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括状态管理、条件分支、循环控制、错误恢复等'}, 'id': 'call_2b56684c58a74ea6bf07c7', 'type': 'tool_call'}]
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:09:00 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 18:09:05 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_2b56684c58a74ea6bf07c7']
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'langgraph 高阶技巧 最佳实践 条件分支 循环控制 状态持久化 并行执行', 'type': 'deep'}, 'id': 'call_9c0a5075dfc845c1ac8ef6', 'type': 'tool_call'}]
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 18:09:08 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 18:09:14 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_9c0a5075dfc845c1ac8ef6']
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支",
        "LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式",
        "LangGraph 如何通过 InMemorySaver 等 checkpointer 实现状态持久化与跨会话恢复",
        "LangGraph 中如何构建嵌套子图（Subgraph）并将其作为节点集成到主工作流中",
        "在 LangGraph 条件分支场景下，如何设计结构化输出 schema 以提升 LLM 路由决策的可靠性"
    ]
}
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528 add_conditional_edges \u5b9e\u73b0\u57fa\u4e8e\u72b6\u6001\u7684\u52a8\u6001\u8def\u7531\u548c\u6761\u4ef6\u5206\u652f", "LangGraph \u4e2d\u5982\u4f55\u5229\u7528 Send \u7c7b\u5b9e\u73b0\u8282\u70b9\u95f4\u7684\u5e76\u884c\u6267\u884c\u4e0e map-reduce \u6a21\u5f0f", "LangGraph \u5982\u4f55\u901a\u8fc7 InMemorySaver \u7b49 checkpointer \u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\u4e0e\u8de8\u4f1a\u8bdd\u6062\u590d", "LangGraph \u4e2d\u5982\u4f55\u6784\u5efa\u5d4c\u5957\u5b50\u56fe\uff08Subgraph\uff09\u5e76\u5c06\u5176\u4f5c\u4e3a\u8282\u70b9\u96c6\u6210\u5230\u4e3b\u5de5\u4f5c\u6d41\u4e2d", "\u5728 LangGraph \u6761\u4ef6\u5206\u652f\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u8bbe\u8ba1\u7ed3\u6784\u5316\u8f93\u51fa schema \u4ee5\u63d0\u5347 LLM \u8def\u7531\u51b3\u7b56\u7684\u53ef\u9760\u6027"]}
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528 add_conditional_edges \u5b9e\u73b0\u57fa\u4e8e\u72b6\u6001\u7684\u52a8\u6001\u8def\u7531\u548c\u6761\u4ef6\u5206\u652f", "LangGraph \u4e2d\u5982\u4f55\u5229\u7528 Send \u7c7b\u5b9e\u73b0\u8282\u70b9\u95f4\u7684\u5e76\u884c\u6267\u884c\u4e0e map-reduce \u6a21\u5f0f", "LangGraph \u5982\u4f55\u901a\u8fc7 InMemorySaver \u7b49 checkpointer \u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\u4e0e\u8de8\u4f1a\u8bdd\u6062\u590d", "LangGraph \u4e2d\u5982\u4f55\u6784\u5efa\u5d4c\u5957\u5b50\u56fe\uff08Subgraph\uff09\u5e76\u5c06\u5176\u4f5c\u4e3a\u8282\u70b9\u96c6\u6210\u5230\u4e3b\u5de5\u4f5c\u6d41\u4e2d", "\u5728 LangGraph \u6761\u4ef6\u5206\u652f\u573a\u666f\u4e0b\uff0c\u5982\u4f55\u8bbe\u8ba1\u7ed3\u6784\u5316\u8f93\u51fa schema \u4ee5\u63d0\u5347 LLM \u8def\u7531\u51b3\u7b56\u7684\u53ef\u9760\u6027"]}
2026-02-20 18:09:18 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支', 'LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式', 'LangGraph 如何通过 InMemorySaver 等 checkpointer 实现状态持久化与跨会话恢复', 'LangGraph 中如何构建嵌套子图（Subgraph）并将其作为节点集成到主工作流中', '在 LangGraph 条件分支场景下，如何设计结构化输出 schema 以提升 LLM 路由决策的可靠性']}
2026-02-20 18:09:18 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 18:09:18 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 18:09:18 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 2 个子问题，初始 URL 池为空
2026-02-20 18:09:18 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 18:09:18 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 18:09:18 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 18:09:18 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 18:09:18 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 18:09:18 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 18:09:18,341 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:09:18,341 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:09:19,885 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:09:19,947 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 18:09:23 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 18:09:23 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式
2026-02-20 18:09:23 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式
2026-02-20 18:09:26 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:09:26 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:09:27 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:09:27 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:09:28 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:09:28 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:09:28 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:29 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:09:29 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:09:29 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:30 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:33 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:09:35 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:09:35 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ae0eadc59fda429fac5572']
2026-02-20 18:09:35 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 18:09:35 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:36 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:09:37 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:09:37 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_1b473c305bc4446480cfb4']
2026-02-20 18:09:37 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 18:09:37 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:39 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:09:41 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:09:41 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_f6915ecd265144bba3b425']
2026-02-20 18:09:41 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:09:41 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:44 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:09:44 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_3cb0ae4217df42409e613d']
2026-02-20 18:09:44 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:09:44 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，`add_conditional_edges` 是实现**基于状态的动态路由和条件分支**的核心方法。它允许工作流根据当前状态值，在运行时决定下一步执行哪个节点，从而创建灵活、自适应的智能体行为。

以下是关键概念和使用方法：

---

### 1. 核心原理

- `...
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:09:53 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支时sub_url_pool 为空
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:09:53 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.53ai.com/news/qianyanjishu/1393.html
2026-02-20 18:09:53 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/M1rage/article/details/146586179
2026-02-20 18:09:53 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/news/3547448
2026-02-20 18:09:53 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/studyLog-share/p/19289014
2026-02-20 18:09:53 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 18:09:53 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7517488132989681699
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:09:53 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 18:09:53,947 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:09:55,694 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 18:09:55 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:09:55 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:09:55 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:09:55 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 18:09:57 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支' 的处理
2026-02-20 18:09:57 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支' 的处理
2026-02-20 18:09:57 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支后 sub_url_pool 包含 6 个 URL
2026-02-20 18:09:57 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和条件分支后 downloaded_papers 包含 6 个结果
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，`Send` 类是实现节点间并行执行和 map-reduce 模式的强大工具。其核心思想是“分而治之”：一个节点（通常是起始节点或决策节点）将任务“分发”给多个下游节点实例进行并行处理，然后将结果汇总。

以下是其实现原理和步骤：

1.  **定义状态 (`State`...
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:09:58 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式时sub_url_pool 为空
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:09:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_41645817/article/details/149813487
2026-02-20 18:09:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/147334408
2026-02-20 18:09:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aidoczh.com/langgraph/concepts/low_level/
2026-02-20 18:09:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/map-reduce/
2026-02-20 18:09:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/graph-api/
2026-02-20 18:09:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/pregel/index.html
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:09:58 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 18:09:58,601 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:09:59,972 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 18:09:59 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:09:59 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:09:59 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:09:59 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 18:10:01 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式' 的处理
2026-02-20 18:10:01 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式' 的处理
2026-02-20 18:10:01 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式后 sub_url_pool 包含 6 个 URL
2026-02-20 18:10:01 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式后 downloaded_papers 包含 6 个结果
2026-02-20 18:10:01 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 18:10:01 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 18:10:01 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 18:10:01 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 12 个 URL
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成2 个子问题的检索
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 12 个 URL
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 18:10:01 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 11 个文件, 阈值=0.8
2026-02-20 18:10:01 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.863): tavily_LangGraph学.md vs tavily_用Map-Reduc.md
2026-02-20 18:10:01 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 10 个, 未输出 1 个
2026-02-20 18:10:01 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 11 个, 输出 10 个, 未输出 1 个
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 11 个, 输出 10 个, 未输出 1 个
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 12 个文档元数据
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 18:10:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 18:10:01,512 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 18:10:01,512 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 18:10:01,768 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 18:10:01,768 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用 add_conditional_edges 实现基于状态的动态路由和..., 文档数量: 5
2026-02-20 18:10:02,174 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:10:02,177 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 18:10:02,206 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 18:10:02,206 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何利用 Send 类实现节点间的并行执行与 map-reduce 模式..., 文档数量: 5
2026-02-20 18:10:02,299 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:10:02,299 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 5 个节点
2026-02-20 18:10:02,325 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 18:10:02,325 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过 InMemorySaver 等 checkpointer 实现状态持久..., 文档数量: 5
2026-02-20 18:10:02,409 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:10:02,409 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 18:10:02,432 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 18:10:02,432 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何构建嵌套子图（Subgraph）并将其作为节点集成到主工作流中..., 文档数量: 5
2026-02-20 18:10:02,610 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:10:02,610 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 18:10:02,636 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 18:10:02,637 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 条件分支场景下，如何设计结构化输出 schema 以提升 LLM 路由决策的..., 文档数量: 5
2026-02-20 18:10:02,718 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:10:02,718 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 18:10:02,718 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 25 个节点
2026-02-20 18:10:02,718 - core.rag.rag_postprocess_module - INFO - 去重后保留 19 个节点
2026-02-20 18:10:02,726 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 18 个节点
2026-02-20 18:10:02,726 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 18:10:02,727 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 18 个节点
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2260
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2868
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1803
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1817
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2350
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2277
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 832
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1983
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1482
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2767
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1344
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2718
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2579
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas-and-application-practice-part-two/, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2371
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas-and-application-practice-part-two/, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1216
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 161 个问题
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 18:10:02 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:366] - 没有子问题需要执行第二阶段
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 18:10:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 18:10:02,736 - core.rag.document_processor - INFO - 开始处理 10 个文档
2026-02-20 18:10:02,737 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_讲解LangGrap.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 18:10:02,738 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph学.md 加载为 12 个 Document 并加入 pipeline
2026-02-20 18:10:02,739 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 23 个 Document 并加入 pipeline
2026-02-20 18:10:02,740 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph：.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 18:10:02,740 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph从.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 18:10:02,741 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_无标题_202602.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 18:10:02,742 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph认.md 加载为 38 个 Document 并加入 pipeline
2026-02-20 18:10:02,742 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何创建用于并行执行.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 18:10:02,743 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用图 API.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 18:10:02,743 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_运行时概览 - La.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 18:10:02,744 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 116 个 Document
2026-02-20 18:15:39,497 - core.rag.document_processor - INFO - 文档处理完成: 158 个节点
2026-02-20 18:15:39,497 - core.rag.document_processor - INFO - 另外添加了 2 个来自 可选工具JSON 文档的节点
2026-02-20 18:15:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:594] - 第一阶段文档处理完成: 160 个片段
2026-02-20 18:15:40 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'if content is list. item must be dict and key[type] should in dict', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-4cbcc73b-6694-93c6-9f3b-2b9b66ade08b', 'request_id': '4cbcc73b-6694-93c6-9f3b-2b9b66ade08b'}
2026-02-20 18:15:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 18:15:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 18:15:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 18:15:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：10 + 0 = 0 个去重后的文档
2026-02-20 18:15:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 18:15:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 18:15:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 160 个第一阶段文档到向量库
2026-02-20 18:15:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 18:15:46 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1235] - 处理查询失败: name 'instance' is not defined
2026-02-20 18:42:13,133 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13,134 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13,277 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13,397 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 18:42:13,518 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 18:42:13,640 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 18:42:13,762 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 18:42:13,883 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 18:42:13 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 18:42:13 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 18:42:13 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 18:42:13,884 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 18:42:13,884 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 18:42:14,028 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 18:42:14 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 18:42:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 18:42:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 18:42:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 18:42:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 18:42:14,161 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 18:42:14,162 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 18:42:14,162 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 18:42:14,489 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4369 个文档
2026-02-20 18:42:14,489 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 18:42:14,490 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 18:42:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 18:42:14 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 18:42:14,494 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:42:16,145 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶使用技巧和最佳实践', 'libraryName': 'langgraph'}, 'id': 'call_ea7adf95ebe045af9755a9', 'type': 'tool_call'}]
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:42:25 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 18:42:30 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ea7adf95ebe045af9755a9']
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高阶技巧和最佳实践，包括状态管理、条件分支、循环控制、错误处理、持久化等'}, 'id': 'call_85b130882ad74d2fad04ed', 'type': 'tool_call'}]
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:42:31 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 18:42:36 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_85b130882ad74d2fad04ed']
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'LangGraph 高阶技巧 最佳实践 状态管理 条件分支 循环控制 错误处理 持久化', 'type': 'deep'}, 'id': 'call_ba9f302880684ae59aeb64', 'type': 'tool_call'}]
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 18:42:37 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 18:42:44 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ba9f302880684ae59aeb64']
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态",
        "LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑",
        "在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题",
        "LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复",
        "LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例",
        "LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式",
        "如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解"
    ]
}
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528 TypedDict \u6216 Pydantic \u5b9a\u4e49\u548c\u7ba1\u7406\u590d\u6742\u7684\u5de5\u4f5c\u6d41\u72b6\u6001", "LangGraph \u7684 add_conditional_edges \u65b9\u6cd5\u5982\u4f55\u5b9e\u73b0\u52a8\u6001\u8def\u7531\u548c\u6761\u4ef6\u5206\u652f\u903b\u8f91", "\u5728 LangGraph \u4e2d\uff0c\u5982\u4f55\u901a\u8fc7\u81ea\u5b9a\u4e49 Reducer \u51fd\u6570\u89e3\u51b3\u591a\u8282\u70b9\u5e76\u53d1\u4fee\u6539\u72b6\u6001\u7684\u51b2\u7a81\u95ee\u9898", "LangGraph \u5982\u4f55\u5229\u7528 checkpointer \u5b9e\u73b0\u5bf9\u8bdd\u6216\u5de5\u4f5c\u6d41\u72b6\u6001\u7684\u6301\u4e45\u5316\u4e0e\u5386\u53f2\u6062\u590d", "LangGraph \u4e2d\u6784\u5efa\u5faa\u73af\u63a7\u5236\u7ed3\u6784\uff08\u5982\u91cd\u8bd5\u673a\u5236\uff09\u7684\u6700\u4f73\u5b9e\u8df5\u548c\u4ee3\u7801\u793a\u4f8b", "LangGraph \u5de5\u4f5c\u6d41\u4e2d\u96c6\u6210\u9519\u8bef\u5904\u7406\u548c\u5f02\u5e38\u6355\u83b7\u7684\u63a8\u8350\u8bbe\u8ba1\u6a21\u5f0f", "\u5982\u4f55\u5728 LangGraph \u4e2d\u6784\u5efa\u5e76\u96c6\u6210\u5b50\u56fe\uff08Subgraph\uff09\u4ee5\u5b9e\u73b0\u6a21\u5757\u5316\u548c\u590d\u6742\u4efb\u52a1\u5206\u89e3"]}
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528 TypedDict \u6216 Pydantic \u5b9a\u4e49\u548c\u7ba1\u7406\u590d\u6742\u7684\u5de5\u4f5c\u6d41\u72b6\u6001", "LangGraph \u7684 add_conditional_edges \u65b9\u6cd5\u5982\u4f55\u5b9e\u73b0\u52a8\u6001\u8def\u7531\u548c\u6761\u4ef6\u5206\u652f\u903b\u8f91", "\u5728 LangGraph \u4e2d\uff0c\u5982\u4f55\u901a\u8fc7\u81ea\u5b9a\u4e49 Reducer \u51fd\u6570\u89e3\u51b3\u591a\u8282\u70b9\u5e76\u53d1\u4fee\u6539\u72b6\u6001\u7684\u51b2\u7a81\u95ee\u9898", "LangGraph \u5982\u4f55\u5229\u7528 checkpointer \u5b9e\u73b0\u5bf9\u8bdd\u6216\u5de5\u4f5c\u6d41\u72b6\u6001\u7684\u6301\u4e45\u5316\u4e0e\u5386\u53f2\u6062\u590d", "LangGraph \u4e2d\u6784\u5efa\u5faa\u73af\u63a7\u5236\u7ed3\u6784\uff08\u5982\u91cd\u8bd5\u673a\u5236\uff09\u7684\u6700\u4f73\u5b9e\u8df5\u548c\u4ee3\u7801\u793a\u4f8b", "LangGraph \u5de5\u4f5c\u6d41\u4e2d\u96c6\u6210\u9519\u8bef\u5904\u7406\u548c\u5f02\u5e38\u6355\u83b7\u7684\u63a8\u8350\u8bbe\u8ba1\u6a21\u5f0f", "\u5982\u4f55\u5728 LangGraph \u4e2d\u6784\u5efa\u5e76\u96c6\u6210\u5b50\u56fe\uff08Subgraph\uff09\u4ee5\u5b9e\u73b0\u6a21\u5757\u5316\u548c\u590d\u6742\u4efb\u52a1\u5206\u89e3"]}
2026-02-20 18:42:48 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态', 'LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑', '在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题', 'LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复', 'LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例', 'LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式', '如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解']}
2026-02-20 18:42:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 7 个子问题
2026-02-20 18:42:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 18:42:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 18:42:48 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 18:42:48 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 18:42:48 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 18:42:48 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 18:42:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 18:42:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 18:42:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 18:42:48,548 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:42:48,548 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:42:48,548 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:42:50,207 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:42:50,267 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:42:50,323 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 18:42:53 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 18:42:53 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 18:42:53 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题
2026-02-20 18:42:53 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题
2026-02-20 18:42:58 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:42:58 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:42:58 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:42:58 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:42:58 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:42:58 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:43:00 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:01 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:02 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4eb87cbcd8eb4daaa72165']
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_29ca8e3e398f4a42ab65af']
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_51e253604d3e4b5980fb9a']
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 18:43:06 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:07 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_8168a5cc1ec94b699fe8f6']
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_82f28dc608f54ebbb5f5e6']
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e88c2729f1c14b65908d00']
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:43:12 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:13 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_6621ac13f521468f9c8159']
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4a9c00326ceb42ccbf2533']
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 18:43:15 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，可以使用 `TypedDict` 或 Pydantic 模型来定义和管理复杂的工作流状态。以下是具体方法和示例：

### 1. 使用 TypedDict 定义状态

`TypedDict` 是 Python 的类型提示工具，用于定义具有固定键和值类型的字典结构。在 La...
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:43:27 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态时sub_url_pool 为空
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148798756
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aidoczh.com/langgraph/how-tos/state-model/
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148798103
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aidoczh.com/langgraph/concepts/low_level/
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 18:43:27,123 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，目前官方文档和公开代码库中并未直接提供“通过自定义 Reducer 函数解决多节点并发修改状态冲突”的完整机制或示例。不过，我们可以结合其现有功能进行合理推断和设计：

---

### ✅ LangGraph 的状态管理基础

LangGraph 使用 `StateGr...
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:43:27 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题时sub_url_pool 为空
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/qq_43588095/article/details/147480123
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aidoczh.com/langgraph/concepts/low_level/
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4fde5511483559e2a937.html
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/news/3547448
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/General_zy/article/details/148352365
2026-02-20 18:43:27 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/troubleshooting/errors/INVALID_CONCURRENT_GRAPH_UPDATE/
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:43:27 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 18:43:27,801 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:43:29,165 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:43:29,308 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，`add_conditional_edges` 方法是实现动态路由和条件分支逻辑的核心机制。它允许工作流根据当前状态的值，在运行时决定下一步执行哪个节点，从而创建灵活、自适应的控制流。

以下是其核心实现原理和使用方式：

### 1. 核心概念

*   **动态路由*...
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:43:29 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑时sub_url_pool 为空
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:43:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/alex100/article/details/149858782
2026-02-20 18:43:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155467460
2026-02-20 18:43:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/studyLog-share/p/19289014
2026-02-20 18:43:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 18:43:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.53ai.com/news/qianyanjishu/1393.html
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:43:29 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 18:43:29,615 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态' 的处理
2026-02-20 18:43:31 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态' 的处理
2026-02-20 18:43:31 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态后 sub_url_pool 包含 5 个 URL
2026-02-20 18:43:31 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态后 downloaded_papers 包含 5 个结果
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 '在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题' 的处理
2026-02-20 18:43:31 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 '在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题' 的处理
2026-02-20 18:43:31 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题后 sub_url_pool 包含 6 个 URL
2026-02-20 18:43:31 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题后 downloaded_papers 包含 4 个结果
2026-02-20 18:43:31,557 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:43:31 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:43:32 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:43:32 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:43:32 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 18:43:32 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 18:43:33 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:43:33 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:43:33 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:43:33 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:43:33 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 18:43:33 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑' 的处理
2026-02-20 18:43:33 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑' 的处理
2026-02-20 18:43:33 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑后 sub_url_pool 包含 5 个 URL
2026-02-20 18:43:33 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻辑后 downloaded_papers 包含 5 个结果
2026-02-20 18:43:33 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 18:43:33 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 18:43:33 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 18:43:33 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 18:43:33 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 15 个 URL
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 15 个 URL
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 18:43:33 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 12 个文件, 阈值=0.8
2026-02-20 18:43:33 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.853): tavily_LangGraph .md vs tavily_AI Agent开发.md
2026-02-20 18:43:33 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.830): tavily_LangGraph .md vs tavily_LangGraph系.md
2026-02-20 18:43:33 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.823): tavily_LangGraph .md vs tavily_LangGraph状.md
2026-02-20 18:43:33 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 9 个, 未输出 3 个
2026-02-20 18:43:33 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 12 个, 输出 9 个, 未输出 3 个
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 12 个, 输出 9 个, 未输出 3 个
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 14 个文档元数据
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 18:43:33 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 18:43:33,110 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 18:43:33,110 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 7
2026-02-20 18:43:33,379 - core.rag.rag_postprocess_module - DEBUG - 问题 1/7 初步检索到 5 个节点
2026-02-20 18:43:33,379 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用 TypedDict 或 Pydantic 定义和管理复杂的工作流状态..., 文档数量: 5
2026-02-20 18:43:33,684 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:33,686 - core.rag.rag_postprocess_module - DEBUG - 问题 1/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:33,709 - core.rag.rag_postprocess_module - DEBUG - 问题 2/7 初步检索到 5 个节点
2026-02-20 18:43:33,710 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的 add_conditional_edges 方法如何实现动态路由和条件分支逻..., 文档数量: 5
2026-02-20 18:43:33,786 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:33,787 - core.rag.rag_postprocess_module - DEBUG - 问题 2/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:33,813 - core.rag.rag_postprocess_module - DEBUG - 问题 3/7 初步检索到 5 个节点
2026-02-20 18:43:33,813 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中，如何通过自定义 Reducer 函数解决多节点并发修改状态的冲突问题..., 文档数量: 5
2026-02-20 18:43:33,887 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:33,887 - core.rag.rag_postprocess_module - DEBUG - 问题 3/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:33,910 - core.rag.rag_postprocess_module - DEBUG - 问题 4/7 初步检索到 5 个节点
2026-02-20 18:43:33,910 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复..., 文档数量: 5
2026-02-20 18:43:33,958 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:33,959 - core.rag.rag_postprocess_module - DEBUG - 问题 4/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:33,981 - core.rag.rag_postprocess_module - DEBUG - 问题 5/7 初步检索到 5 个节点
2026-02-20 18:43:33,981 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例..., 文档数量: 5
2026-02-20 18:43:34,053 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:34,053 - core.rag.rag_postprocess_module - DEBUG - 问题 5/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:34,077 - core.rag.rag_postprocess_module - DEBUG - 问题 6/7 初步检索到 5 个节点
2026-02-20 18:43:34,077 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式..., 文档数量: 5
2026-02-20 18:43:34,138 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:34,138 - core.rag.rag_postprocess_module - DEBUG - 问题 6/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:34,161 - core.rag.rag_postprocess_module - DEBUG - 问题 7/7 初步检索到 5 个节点
2026-02-20 18:43:34,161 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解..., 文档数量: 5
2026-02-20 18:43:34,220 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 18:43:34,220 - core.rag.rag_postprocess_module - DEBUG - 问题 7/7 重排序+过滤后保留 5 个节点
2026-02-20 18:43:34,220 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 35 个节点
2026-02-20 18:43:34,220 - core.rag.rag_postprocess_module - INFO - 去重后保留 27 个节点
2026-02-20 18:43:34,227 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 27 个节点
2026-02-20 18:43:34,228 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 7 个去重后的问题
2026-02-20 18:43:34,228 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 7 个问题
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 27 个节点
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1299
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1274
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/weixin_41645817/article/details/149813487, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2051
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraph/how-tos/graph-api/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1289
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2236
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 298
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1369
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2288
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1326
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 517
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1982
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2908
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2350
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1817
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2161
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1983
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2767
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2719
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1631
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1819
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2162
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1375
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 792
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/map-reduce/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1102
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/map-reduce/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1370
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/map-reduce/, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 459 个问题
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 4 个子问题，使用第一阶段收集的 15 个 URL
2026-02-20 18:43:34 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 4 个子问题 (user_id=test_user_001, url_pool_size=15)
2026-02-20 18:43:34 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 18:43:34 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 18:43:34 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 18:43:34 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 4 到 Agent 0
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 18:43:34 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 18:43:34,236 - core.rag.document_processor - INFO - 开始处理 9 个文档
2026-02-20 18:43:34,238 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 19 个 Document 并加入 pipeline
2026-02-20 18:43:34,239 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_快时尚电商行业智能体.md 加载为 35 个 Document 并加入 pipeline
2026-02-20 18:43:34,239 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用 Pydan.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 18:43:34,240 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_深入理解 LangG.md 加载为 24 个 Document 并加入 pipeline
2026-02-20 18:43:34,240 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 18:43:34,241 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph：.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 18:43:34,241 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【AI Agent系.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 18:43:34,242 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_无标题_202602.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 18:43:34,242 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_INVALID_CO.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 18:43:34,242 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 108 个 Document
2026-02-20 18:49:12,099 - core.rag.document_processor - INFO - 文档处理完成: 153 个节点
2026-02-20 18:49:12,099 - core.rag.document_processor - INFO - 另外添加了 3 个来自 可选工具JSON 文档的节点
2026-02-20 18:49:12 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:594] - 第一阶段文档处理完成: 156 个片段
2026-02-20 18:49:12 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 18:49:12 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 18:49:12 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式
2026-02-20 18:49:12 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式
2026-02-20 18:49:12 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'if content is list. item must be dict and key[type] should in dict', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-009b62e0-55d2-90e5-ae52-c9bf46b50de8', 'request_id': '009b62e0-55d2-90e5-ae52-c9bf46b50de8'}
2026-02-20 18:49:18 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:49:18 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:49:18 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:49:18 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:49:18 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:49:18 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:49:19 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:49:19 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:49:19 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:19 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:49:19 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:49:19 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 2 条数据
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 5 条结果
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:20 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:21 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:22 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4b56cb4575c74c429aef4a']
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_37a1cd9539c54355afc546']
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:49:26 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:27 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:27 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_18b608c4f5cc4470a49ba7']
2026-02-20 18:49:27 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:49:27 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:28 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:29 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:29 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_905f00ecfd3444e7a623d5']
2026-02-20 18:49:29 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 18:49:29 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d64fc5fae2454412a57b99']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_a06e1fbc58a145a7bb4439']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=13
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:30 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=13
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_7f57b81c656741bcaca019']
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 18:49:32 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:36 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:49:36 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d90bc9d574c7414a8f02ab']
2026-02-20 18:49:36 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:49:36 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，虽然没有直接的 `for` 或 `while` 循环语法，但可以通过**条件边 (`add_conditional_edges`)** 和**状态管理**来巧妙地实现循环控制结构，如重试机制。其核心思想是：当某个节点执行失败或结果不满足要求时，通过条件路由将其“送回”到之...
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:49:52 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://adg.csdn.net/6973104a437a6b40336b7a9e.html
2026-02-20 18:49:52 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://view.inews.qq.com/a/20260202A06WUE00
2026-02-20 18:49:52 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/node-retry-policies
2026-02-20 18:49:52 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/node-retries/
2026-02-20 18:49:52 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/recursion-limit
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:49:52 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 18:49:54 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例' 的处理
2026-02-20 18:49:54 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例' 的处理
2026-02-20 18:49:54 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例后 sub_url_pool 包含 20 个 URL
2026-02-20 18:49:54 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中构建循环控制结构（如重试机制）的最佳实践和代码示例后 downloaded_papers 包含 4 个结果
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=15
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，虽然没有提供“全局异常拦截器”或“中间件式错误处理”，但可以通过以下几种**推荐设计模式**来优雅地集成错误处理和异常捕获，确保工作流的健壮性和可观测性。

---

## ✅ 一、节点内 Try-Catch 模式（最常用）

在每个可能出错的节点函数内部使用 `try-...
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:49:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7447421809756012595
2026-02-20 18:49:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/148119232
2026-02-20 18:49:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c50345511483559e2abfa.html
2026-02-20 18:49:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155556955
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=4, 去重后=4, 去重率=0.0%
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 4 篇
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 4 篇文档
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 4 篇文档
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:49:57 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=15
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，**Checkpointer（检查点器）** 是实现对话或工作流状态持久化与历史恢复的核心机制。它允许你：

- ✅ **跨会话保存状态**：用户下次回来时可从断点继续。
- ✅ **时间旅行调试**：回溯到任意历史状态节点。
- ✅ **多线程隔离**：不同用户/会话使...
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:49:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://jimmysong.io/zh/book/ai-handbook/agent/langgraph/
2026-02-20 18:49:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://ai.aiking123.com/73902.html
2026-02-20 18:49:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/persistence.1.html
2026-02-20 18:49:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7546130612173750272
2026-02-20 18:49:58 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/persistence
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 5 篇
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:49:58 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 tavily 文档
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式' 的处理
2026-02-20 18:49:59 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式' 的处理
2026-02-20 18:49:59 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式后 sub_url_pool 包含 19 个 URL
2026-02-20 18:49:59 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 工作流中集成错误处理和异常捕获的推荐设计模式后 downloaded_papers 包含 4 个结果
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 18:49:59 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复' 的处理
2026-02-20 18:50:00 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复' 的处理
2026-02-20 18:50:00 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复后 sub_url_pool 包含 20 个 URL
2026-02-20 18:50:00 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何利用 checkpointer 实现对话或工作流状态的持久化与历史恢复后 downloaded_papers 包含 5 个结果
2026-02-20 18:50:00 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解' (user_id=test_user_001, thread_id=test_thread_001_executor_3)
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解
2026-02-20 18:50:00 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解
2026-02-20 18:50:02 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 18:50:02 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 18:50:04 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 18:50:04 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 18:50:04 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:50:05 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:50:10 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:50:10 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_3eccd899b4d5423492c1bd']
2026-02-20 18:50:10 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 18:50:10 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:50:11 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 18:50:16 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 18:50:16 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_dbe41b84d7f14086a17ee6']
2026-02-20 18:50:16 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 18:50:16 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中构建并集成子图（Subgraph）是一种实现模块化设计和复杂任务分解的有效方法。其核心思想是：**将一个大型工作流拆分为多个独立、可复用的子图，由父图（Outer Graph）负责整体流程编排，并通过节点调用子图执行特定任务。**

以下是完整的实现步骤：

---

##...
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 18:50:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_42398658/article/details/148904832
2026-02-20 18:50:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/subgraph/
2026-02-20 18:50:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/muzinan110/p/18540191
2026-02-20 18:50:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/subgraphs
2026-02-20 18:50:29 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1981392181592871894
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 18:50:29 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 18:50:31 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 '如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解' 的处理
2026-02-20 18:50:31 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 '如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解' 的处理
2026-02-20 18:50:31 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解后 sub_url_pool 包含 20 个 URL
2026-02-20 18:50:31 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成如何在 LangGraph 中构建并集成子图（Subgraph）以实现模块化和复杂任务分解后 downloaded_papers 包含 5 个结果
2026-02-20 18:50:31 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 18:50:31 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 18:50:31 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 18:50:31 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 4 执行成功
2026-02-20 18:50:31 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 4/4, 失败 0
2026-02-20 18:50:31 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 15 -> 34 个 URL
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:388] - 第二阶段执行完成，获得 4 个结果
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:389] - 第二阶段 URL Pool: 15 -> 34
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 18:50:31 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 16 个文件, 阈值=0.8
2026-02-20 18:50:31 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.839): tavily_LangGraph .md vs tavily_LangGraph-.md
2026-02-20 18:50:31 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 15 个, 未输出 1 个
2026-02-20 18:50:31 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 16 个, 输出 15 个, 未输出 1 个
2026-02-20 18:50:31 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 24 个文件, 阈值=0.8
2026-02-20 18:50:31 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=1.000): tavily_LangGraph .md vs tavily_LangGraph .md
2026-02-20 18:50:31 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 23 个, 未输出 1 个
2026-02-20 18:50:31 - core.file_deduplicator - INFO - [file_deduplicator.py:335] - 跨集合去重完成: 候选 15 个, 输出 15 个, 未输出 0 个
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 16 个, 输出 15 个, 未输出 1 个
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 18 个文档元数据
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：9 + 15 = 15 个去重后的文档
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 18:50:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 18:50:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 156 个第一阶段文档到向量库
2026-02-20 18:50:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 18:50:37 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1235] - 处理查询失败: name 'instance' is not defined
2026-02-20 19:02:29,557 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:02:29,558 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 19:02:29,703 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:02:29,822 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 19:02:29,942 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:02:29 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 19:02:30,063 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:02:30 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 19:02:30,183 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:02:30 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 19:02:30,303 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:02:30 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 19:02:30 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 19:02:30 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 19:02:30,303 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 19:02:30,304 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 19:02:30,439 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 19:02:30 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 19:02:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 19:02:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 19:02:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 19:02:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 19:02:30,583 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 19:02:30,583 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 19:02:30,583 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 19:02:30,957 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4525 个文档
2026-02-20 19:02:30,957 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 19:02:30,958 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 19:02:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 19:02:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 19:02:30,962 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:02:32,619 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_3d2a6d20967548ea9be5b5', 'type': 'tool_call'}]
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:02:36 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:02:41 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_3d2a6d20967548ea9be5b5']
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高阶技巧有哪些？包括复杂状态管理、多代理协作、条件分支控制、持久化与恢复、调试与监控等方面'}, 'id': 'call_0343586270774778a4b927', 'type': 'tool_call'}]
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:02:43 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:02:48 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_0343586270774778a4b927']
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'LangGraph 高阶技巧：复杂状态管理、多代理协作、条件分支控制、持久化与恢复、调试与监控', 'type': 'deep'}, 'id': 'call_ec16bceb53b44853a7bbbd', 'type': 'tool_call'}]
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 19:02:49 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:02:55 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ec16bceb53b44853a7bbbd']
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中如何实现复杂状态管理，包括嵌套状态、类型化状态和状态聚合的具体方法",
        "LangGraph 支持哪些多代理协作模式（如 Supervisor 模式），其通信与协调机制如何实现",
        "LangGraph 中条件分支控制的实现方式有哪些，例如基于状态值或 LLM 输出的动态路由策略",
        "LangGraph 如何通过 Checkpointer 实现状态持久化与对话恢复，支持哪些存储后端",
        "LangGraph 提供哪些调试与监控工具，如状态快照查看、执行轨迹追踪和错误诊断方法"
    ]
}
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\uff0c\u5305\u62ec\u5d4c\u5957\u72b6\u6001\u3001\u7c7b\u578b\u5316\u72b6\u6001\u548c\u72b6\u6001\u805a\u5408\u7684\u5177\u4f53\u65b9\u6cd5", "LangGraph \u652f\u6301\u54ea\u4e9b\u591a\u4ee3\u7406\u534f\u4f5c\u6a21\u5f0f\uff08\u5982 Supervisor \u6a21\u5f0f\uff09\uff0c\u5176\u901a\u4fe1\u4e0e\u534f\u8c03\u673a\u5236\u5982\u4f55\u5b9e\u73b0", "LangGraph \u4e2d\u6761\u4ef6\u5206\u652f\u63a7\u5236\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u57fa\u4e8e\u72b6\u6001\u503c\u6216 LLM \u8f93\u51fa\u7684\u52a8\u6001\u8def\u7531\u7b56\u7565", "LangGraph \u5982\u4f55\u901a\u8fc7 Checkpointer \u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\u4e0e\u5bf9\u8bdd\u6062\u590d\uff0c\u652f\u6301\u54ea\u4e9b\u5b58\u50a8\u540e\u7aef", "LangGraph \u63d0\u4f9b\u54ea\u4e9b\u8c03\u8bd5\u4e0e\u76d1\u63a7\u5de5\u5177\uff0c\u5982\u72b6\u6001\u5feb\u7167\u67e5\u770b\u3001\u6267\u884c\u8f68\u8ff9\u8ffd\u8e2a\u548c\u9519\u8bef\u8bca\u65ad\u65b9\u6cd5"]}
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\uff0c\u5305\u62ec\u5d4c\u5957\u72b6\u6001\u3001\u7c7b\u578b\u5316\u72b6\u6001\u548c\u72b6\u6001\u805a\u5408\u7684\u5177\u4f53\u65b9\u6cd5", "LangGraph \u652f\u6301\u54ea\u4e9b\u591a\u4ee3\u7406\u534f\u4f5c\u6a21\u5f0f\uff08\u5982 Supervisor \u6a21\u5f0f\uff09\uff0c\u5176\u901a\u4fe1\u4e0e\u534f\u8c03\u673a\u5236\u5982\u4f55\u5b9e\u73b0", "LangGraph \u4e2d\u6761\u4ef6\u5206\u652f\u63a7\u5236\u7684\u5b9e\u73b0\u65b9\u5f0f\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u57fa\u4e8e\u72b6\u6001\u503c\u6216 LLM \u8f93\u51fa\u7684\u52a8\u6001\u8def\u7531\u7b56\u7565", "LangGraph \u5982\u4f55\u901a\u8fc7 Checkpointer \u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\u4e0e\u5bf9\u8bdd\u6062\u590d\uff0c\u652f\u6301\u54ea\u4e9b\u5b58\u50a8\u540e\u7aef", "LangGraph \u63d0\u4f9b\u54ea\u4e9b\u8c03\u8bd5\u4e0e\u76d1\u63a7\u5de5\u5177\uff0c\u5982\u72b6\u6001\u5feb\u7167\u67e5\u770b\u3001\u6267\u884c\u8f68\u8ff9\u8ffd\u8e2a\u548c\u9519\u8bef\u8bca\u65ad\u65b9\u6cd5"]}
2026-02-20 19:02:58 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何实现复杂状态管理，包括嵌套状态、类型化状态和状态聚合的具体方法', 'LangGraph 支持哪些多代理协作模式（如 Supervisor 模式），其通信与协调机制如何实现', 'LangGraph 中条件分支控制的实现方式有哪些，例如基于状态值或 LLM 输出的动态路由策略', 'LangGraph 如何通过 Checkpointer 实现状态持久化与对话恢复，支持哪些存储后端', 'LangGraph 提供哪些调试与监控工具，如状态快照查看、执行轨迹追踪和错误诊断方法']}
2026-02-20 19:02:58 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 19:02:58 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 19:02:58 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 19:02:58 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 19:02:58 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:02:58 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:02:58 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 19:02:58 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:02:58 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 19:02:58 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:02:58,439 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:02:58,439 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:02:58,439 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:03:00,049 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:03:00,184 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:03:00,243 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:03:02 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:03:02 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何实现复杂状态管理，包括嵌套状态、类型化状态和状态聚合的具体方法' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 19:03:02 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:03:02 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何实现复杂状态管理，包括嵌套状态、类型化状态和状态聚合的具体方法
2026-02-20 19:03:02 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何实现复杂状态管理，包括嵌套状态、类型化状态和状态聚合的具体方法
2026-02-20 19:03:02 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何实现复杂状态管理，包括嵌套状态、类型化状态和状态聚合的具体方法
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:03:03 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 支持哪些多代理协作模式（如 Supervisor 模式），其通信与协调机制如何实现' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:03:03 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中条件分支控制的实现方式有哪些，例如基于状态值或 LLM 输出的动态路由策略' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 支持哪些多代理协作模式（如 Supervisor 模式），其通信与协调机制如何实现
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 支持哪些多代理协作模式（如 Supervisor 模式），其通信与协调机制如何实现
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 支持哪些多代理协作模式（如 Supervisor 模式），其通信与协调机制如何实现
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中条件分支控制的实现方式有哪些，例如基于状态值或 LLM 输出的动态路由策略
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中条件分支控制的实现方式有哪些，例如基于状态值或 LLM 输出的动态路由策略
2026-02-20 19:03:03 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中条件分支控制的实现方式有哪些，例如基于状态值或 LLM 输出的动态路由策略
2026-02-20 19:03:50 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:03:50 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:03:50 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:03:52 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:03:52 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:03:53 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:03:55 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:03:55 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:03:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:03:55 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:03:55 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:03:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:03:55 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:03:55 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:03:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:01,725 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:06:01,726 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 19:06:01,866 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:06:01,986 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 19:06:02,115 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:06:02 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 19:06:02,238 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:06:02 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 19:06:02,359 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:06:02 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 19:06:02,481 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:06:02 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 19:06:02 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 19:06:02 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 19:06:02,482 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 19:06:02,482 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 19:06:02,617 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 19:06:02 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 19:06:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 19:06:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 19:06:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 19:06:02 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 19:06:02,765 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 19:06:02,765 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 19:06:02,765 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 19:06:03,108 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4525 个文档
2026-02-20 19:06:03,108 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 19:06:03,110 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 19:06:03 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 19:06:03 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 19:06:03,113 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:06:04,671 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶使用技巧和最佳实践', 'libraryName': 'langgraph'}, 'id': 'call_7face130dab84359957a22', 'type': 'tool_call'}]
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:06:08 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:06:13 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_7face130dab84359957a22']
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高阶技巧：状态管理、条件分支、循环控制、持久化、错误恢复'}, 'id': 'call_2f30f17e910c4e9594387d', 'type': 'tool_call'}]
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:06:15 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:06:21 - agents.planneragent - ERROR - [planneragent.py:177] - planner_agent tool_node 执行失败: unhandled errors in a TaskGroup (1 sub-exception)
2026-02-20 19:06:21 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=0, tool_message_ids=[]
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'LangGraph 高阶使用技巧 状态管理 条件分支 循环控制 持久化 错误恢复', 'type': 'deep'}, 'id': 'call_327a0e46e1d24512bfaee2', 'type': 'tool_call'}]
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 19:06:22 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:06:29 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_327a0e46e1d24512bfaee2']
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流",
        "在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些",
        "LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景",
        "LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性",
        "结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么"
    ]
}
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u590d\u6742\u7684\u72b6\u6001\u7ba1\u7406\u4ee5\u652f\u6301\u591a\u6b65\u9aa4\u3001\u4e0a\u4e0b\u6587\u611f\u77e5\u7684\u5de5\u4f5c\u6d41", "\u5728 LangGraph \u4e2d\u8bbe\u7f6e\u6761\u4ef6\u5206\u652f\uff08Conditional Edge\uff09\u7684\u5177\u4f53\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\u6709\u54ea\u4e9b", "LangGraph \u5982\u4f55\u901a\u8fc7\u5faa\u73af\u63a7\u5236\uff08Cyclic Graph\uff09\u652f\u6301\u8fed\u4ee3\u6216\u91cd\u590d\u6267\u884c\u8282\u70b9\u7684\u573a\u666f", "LangGraph \u7684\u4e2d\u65ad\u4e0e\u6062\u590d\u673a\u5236\u5982\u4f55\u5b9e\u73b0\u6301\u4e45\u5316\u548c\u9519\u8bef\u6062\u590d\uff0c\u786e\u4fdd\u5de5\u4f5c\u6d41\u97e7\u6027", "\u7ed3\u5408\u5916\u90e8\u5b58\u50a8\uff08\u5982\u6570\u636e\u5e93\uff09\u5b9e\u73b0 LangGraph \u957f\u671f\u72b6\u6001\u6301\u4e45\u5316\u7684\u63a8\u8350\u67b6\u6784\u662f\u4ec0\u4e48"]}
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u5b9e\u73b0\u590d\u6742\u7684\u72b6\u6001\u7ba1\u7406\u4ee5\u652f\u6301\u591a\u6b65\u9aa4\u3001\u4e0a\u4e0b\u6587\u611f\u77e5\u7684\u5de5\u4f5c\u6d41", "\u5728 LangGraph \u4e2d\u8bbe\u7f6e\u6761\u4ef6\u5206\u652f\uff08Conditional Edge\uff09\u7684\u5177\u4f53\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\u6709\u54ea\u4e9b", "LangGraph \u5982\u4f55\u901a\u8fc7\u5faa\u73af\u63a7\u5236\uff08Cyclic Graph\uff09\u652f\u6301\u8fed\u4ee3\u6216\u91cd\u590d\u6267\u884c\u8282\u70b9\u7684\u573a\u666f", "LangGraph \u7684\u4e2d\u65ad\u4e0e\u6062\u590d\u673a\u5236\u5982\u4f55\u5b9e\u73b0\u6301\u4e45\u5316\u548c\u9519\u8bef\u6062\u590d\uff0c\u786e\u4fdd\u5de5\u4f5c\u6d41\u97e7\u6027", "\u7ed3\u5408\u5916\u90e8\u5b58\u50a8\uff08\u5982\u6570\u636e\u5e93\uff09\u5b9e\u73b0 LangGraph \u957f\u671f\u72b6\u6001\u6301\u4e45\u5316\u7684\u63a8\u8350\u67b6\u6784\u662f\u4ec0\u4e48"]}
2026-02-20 19:06:31 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流', '在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些', 'LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景', 'LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性', '结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么']}
2026-02-20 19:06:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 19:06:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 19:06:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 19:06:31 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 19:06:31 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:06:31 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:06:31 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 19:06:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:06:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 19:06:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:06:31,760 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:06:31,760 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:06:31,761 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:06:33,314 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:06:33,380 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:06:33,440 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:06:36 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:06:36 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:06:36 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流
2026-02-20 19:06:36 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流
2026-02-20 19:06:40 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:06:41 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:06:41 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:06:41 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:06:41 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:06:41 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 2 条数据
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 5 条结果
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:06:43 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:44 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:06:48 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:06:48 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_2d631f94335c4cb59f5e37']
2026-02-20 19:06:48 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:06:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c6dcc9e8373647c4be0f0d']
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:49 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c22d8ebd78ed46aa838e2a']
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:50 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:51 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:06:54 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:06:54 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e1f914273002426ba471fa']
2026-02-20 19:06:54 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:06:54 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:55 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:06:55 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_12c428f6f0a9426db4f7a6']
2026-02-20 19:06:55 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:06:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:06:56 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:06:56 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_b7238f469d8349849d7932']
2026-02-20 19:06:56 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:06:56 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: LangGraph 通过**循环图（Cyclic Graph）** 支持迭代或重复执行节点的场景，其核心机制是通过 **条件边（Conditional Edges）** 和 **状态管理（State Management）** 实现控制流和终止条件。以下是具体实现方式：

---

### 1. *...
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:07:04 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景时sub_url_pool 为空
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:07:04 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/news/3547448
2026-02-20 19:07:04 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://apframework.com/blog/essay/2026-01-17-content-extraction-langchain
2026-02-20 19:07:04 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690b1b925511483559e2673a.html
2026-02-20 19:07:04 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/recursion-limit
2026-02-20 19:07:04 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4f625511483559e2a628.html
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:07:04 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 19:07:04,607 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:07:05,997 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:07:05 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:07:05 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中实现复杂的状态管理以支持多步骤、上下文感知的工作流，主要依赖于以下几个核心概念和工具：

---

### 1. **定义状态结构 (`StateGraph` 和 `TypedDict`)**
LangGraph 使用 `StateGraph` 来定义工作流的状态结构。通过...
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:07:06 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流时sub_url_pool 为空
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:07:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/news/2490695
2026-02-20 19:07:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/sio2zyh/p/19010575
2026-02-20 19:07:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aicoding.juejin.cn/post/7536422046021615643
2026-02-20 19:07:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 19:07:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://egoalpha.com/zh/LangGraph/LangGraph_Tutorial.html
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 5 篇
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:07:06 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 19:07:06,383 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 19:07:07 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景' 的处理
2026-02-20 19:07:07 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景' 的处理
2026-02-20 19:07:07 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景后 sub_url_pool 包含 5 个 URL
2026-02-20 19:07:07 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景后 downloaded_papers 包含 4 个结果
2026-02-20 19:07:08,101 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:07:08 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:07:08 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:07:08 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:07:08 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 19:07:09 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流' 的处理
2026-02-20 19:07:09 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流' 的处理
2026-02-20 19:07:09 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流后 sub_url_pool 包含 5 个 URL
2026-02-20 19:07:09 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流后 downloaded_papers 包含 5 个结果
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中设置条件分支（Conditional Edge）是实现动态工作流和智能路由的核心功能。以下是具体方法和最佳实践的总结：

---

## 一、核心方法：`add_conditional_edges`

### 基本语法：
```python
builder.add_cond...
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:07:12 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些时sub_url_pool 为空
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:07:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/y525698136/article/details/154681377
2026-02-20 19:07:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/studyLog-share/p/19289014
2026-02-20 19:07:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 19:07:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.aliyun.com/article/1490420
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=4, 去重后=4, 去重率=0.0%
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 4 篇
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 4 篇文档
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:07:12 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 4 篇文档
2026-02-20 19:07:12,871 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:07:14,464 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:07:14 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:07:14 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:07:14 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:07:14 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 tavily 文档
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=0
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 0 篇 exa_context 文档
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 1 篇文档
2026-02-20 19:07:16 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 '在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些' 的处理
2026-02-20 19:07:16 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 '在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些' 的处理
2026-02-20 19:07:16 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些后 sub_url_pool 包含 4 个 URL
2026-02-20 19:07:16 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些后 downloaded_papers 包含 1 个结果
2026-02-20 19:07:16 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 19:07:16 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 19:07:16 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 19:07:16 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 19:07:16 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 14 个 URL
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 14 个 URL
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 19:07:16 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 9 个文件, 阈值=0.8
2026-02-20 19:07:16 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 9 个, 未输出 0 个
2026-02-20 19:07:16 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 9 个, 输出 9 个, 未输出 0 个
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 9 个, 输出 9 个, 未输出 0 个
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 10 个文档元数据
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 19:07:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 19:07:16,191 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 19:07:16,191 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 19:08:39,569 - core.rag.rag_postprocess_module - ERROR - 处理问题 1 失败: Error code: 502
2026-02-20 19:09:58,863 - core.rag.rag_postprocess_module - ERROR - 处理问题 2 失败: Error code: 502
2026-02-20 19:11:21,231 - core.rag.rag_postprocess_module - ERROR - 处理问题 3 失败: Error code: 502
2026-02-20 19:12:45,826 - core.rag.rag_postprocess_module - ERROR - 处理问题 4 失败: Error code: 502
2026-02-20 19:14:06,182 - core.rag.rag_postprocess_module - ERROR - 处理问题 5 失败: Error code: 502
2026-02-20 19:14:06,182 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 0 个节点
2026-02-20 19:14:06,182 - core.rag.rag_postprocess_module - INFO - 去重后保留 0 个节点
2026-02-20 19:14:06,183 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 0 个节点
2026-02-20 19:14:06,183 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 19:14:06,183 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 19:14:06 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 0 个节点
2026-02-20 19:14:06 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:746] - RAG 检索为空，准备重试: retrieved_epoch=1
2026-02-20 19:14:06 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1046] - 检索为空，继续重试 (1/3)
2026-02-20 19:14:06 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 19:14:06 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 2 个子问题，使用第一阶段收集的 14 个 URL
2026-02-20 19:14:06 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=14)
2026-02-20 19:14:06 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:14:06 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:14:06 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 19:14:06,187 - core.rag.document_processor - INFO - 开始处理 9 个文档
2026-02-20 19:14:06,189 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 19 个 Document 并加入 pipeline
2026-02-20 19:14:06,190 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_深入理解LangGr.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 19:14:06,190 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_🧠 LangGrap.md 加载为 14 个 Document 并加入 pipeline
2026-02-20 19:14:06,191 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_从零开始学LangG.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 19:14:06,191 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_AI Agent &.md 加载为 22 个 Document 并加入 pipeline
2026-02-20 19:14:06,192 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_从零开始学LangG.md 加载为 28 个 Document 并加入 pipeline
2026-02-20 19:14:06,194 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_知识提取：LangC.md 加载为 38 个 Document 并加入 pipeline
2026-02-20 19:14:06,194 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph智.md 加载为 13 个 Document 并加入 pipeline
2026-02-20 19:14:06,195 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_从入门到实践：Lan.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 19:14:06,196 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 157 个 Document
2026-02-20 19:15:52,034 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52,034 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52,174 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52,291 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 19:15:52,408 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 19:15:52,529 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 19:15:52,646 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 19:15:52,765 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:15:52 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 19:15:52 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 19:15:52 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 19:15:52,766 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 19:15:52,766 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 19:15:52,892 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 19:15:52 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 19:15:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 19:15:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 19:15:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 19:15:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 19:15:53,067 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 19:15:53,068 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 19:15:53,068 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 19:15:53,432 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4525 个文档
2026-02-20 19:15:53,433 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 19:15:53,434 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 19:15:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 19:15:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 19:15:53,438 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:15:55,057 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶使用技巧和最佳实践', 'libraryName': 'langgraph'}, 'id': 'call_cb7986381a7140538e94e2', 'type': 'tool_call'}]
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:15:59 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:16:04 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_cb7986381a7140538e94e2']
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高阶技巧，包括状态管理、条件跳转、多代理协作、错误恢复机制'}, 'id': 'call_9b19e8d8478741bfacf4df', 'type': 'tool_call'}]
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:16:05 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:16:10 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_9b19e8d8478741bfacf4df']
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'LangGraph 高阶技巧：状态持久化、多代理协作、错误恢复、条件跳转最佳实践', 'type': 'deep'}, 'id': 'call_1eb989e691674671ac19fb', 'type': 'tool_call'}]
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 19:16:12 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:16:18 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_1eb989e691674671ac19fb']
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践",
        "在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）",
        "如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略",
        "LangGraph 条件跳转（add_conditional_edges）的最佳实践，包括路由函数设计与状态判断逻辑优化",
        "LangGraph 高阶应用场景中，如何结合状态管理、条件路由与多代理协作构建复杂生产级工作流"
    ]
}
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\uff08\u5982\u4f7f\u7528 InMemorySaver \u6216\u5916\u90e8\u6570\u636e\u5e93\uff09\u7684\u5177\u4f53\u914d\u7f6e\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5", "\u5728 LangGraph \u4e2d\u8bbe\u8ba1\u591a\u4ee3\u7406\u534f\u4f5c\u67b6\u6784\u7684\u4e3b\u6d41\u6a21\u5f0f\u6709\u54ea\u4e9b\uff08\u5982 Supervisor\u3001Collaboration\u3001Parallel Execution\uff09", "\u5982\u4f55\u5728 LangGraph \u5de5\u4f5c\u6d41\u4e2d\u5b9e\u73b0\u9519\u8bef\u6062\u590d\u673a\u5236\uff0c\u4f8b\u5982\u901a\u8fc7 checkpoint \u6062\u590d\u5d29\u6e83\u524d\u72b6\u6001\u6216\u91cd\u8bd5\u7b56\u7565", "LangGraph \u6761\u4ef6\u8df3\u8f6c\uff08add_conditional_edges\uff09\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5305\u62ec\u8def\u7531\u51fd\u6570\u8bbe\u8ba1\u4e0e\u72b6\u6001\u5224\u65ad\u903b\u8f91\u4f18\u5316", "LangGraph \u9ad8\u9636\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u5982\u4f55\u7ed3\u5408\u72b6\u6001\u7ba1\u7406\u3001\u6761\u4ef6\u8def\u7531\u4e0e\u591a\u4ee3\u7406\u534f\u4f5c\u6784\u5efa\u590d\u6742\u751f\u4ea7\u7ea7\u5de5\u4f5c\u6d41"]}
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u72b6\u6001\u6301\u4e45\u5316\uff08\u5982\u4f7f\u7528 InMemorySaver \u6216\u5916\u90e8\u6570\u636e\u5e93\uff09\u7684\u5177\u4f53\u914d\u7f6e\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5", "\u5728 LangGraph \u4e2d\u8bbe\u8ba1\u591a\u4ee3\u7406\u534f\u4f5c\u67b6\u6784\u7684\u4e3b\u6d41\u6a21\u5f0f\u6709\u54ea\u4e9b\uff08\u5982 Supervisor\u3001Collaboration\u3001Parallel Execution\uff09", "\u5982\u4f55\u5728 LangGraph \u5de5\u4f5c\u6d41\u4e2d\u5b9e\u73b0\u9519\u8bef\u6062\u590d\u673a\u5236\uff0c\u4f8b\u5982\u901a\u8fc7 checkpoint \u6062\u590d\u5d29\u6e83\u524d\u72b6\u6001\u6216\u91cd\u8bd5\u7b56\u7565", "LangGraph \u6761\u4ef6\u8df3\u8f6c\uff08add_conditional_edges\uff09\u7684\u6700\u4f73\u5b9e\u8df5\uff0c\u5305\u62ec\u8def\u7531\u51fd\u6570\u8bbe\u8ba1\u4e0e\u72b6\u6001\u5224\u65ad\u903b\u8f91\u4f18\u5316", "LangGraph \u9ad8\u9636\u5e94\u7528\u573a\u666f\u4e2d\uff0c\u5982\u4f55\u7ed3\u5408\u72b6\u6001\u7ba1\u7406\u3001\u6761\u4ef6\u8def\u7531\u4e0e\u591a\u4ee3\u7406\u534f\u4f5c\u6784\u5efa\u590d\u6742\u751f\u4ea7\u7ea7\u5de5\u4f5c\u6d41"]}
2026-02-20 19:16:21 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践', '在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）', '如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略', 'LangGraph 条件跳转（add_conditional_edges）的最佳实践，包括路由函数设计与状态判断逻辑优化', 'LangGraph 高阶应用场景中，如何结合状态管理、条件路由与多代理协作构建复杂生产级工作流']}
2026-02-20 19:16:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 19:16:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 19:16:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 19:16:21 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 19:16:21 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:16:21 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:16:21 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 19:16:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:16:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 19:16:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:16:21,639 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:16:21,639 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:16:21,639 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:16:23,241 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:16:23,316 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:16:23,376 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:16:26 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:16:26 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:16:26 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略
2026-02-20 19:16:26 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略
2026-02-20 19:16:30 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:16:30 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:16:31 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:16:31 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:16:31 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:16:31 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:16:32 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:16:32 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:16:32 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:33 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:16:33 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:16:33 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:34 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:36 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 2 条数据
2026-02-20 19:16:36 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 5 条结果
2026-02-20 19:16:36 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:37 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:38 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:38 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_12c930263478410f96f88b']
2026-02-20 19:16:38 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:16:38 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:39 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:39 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_9159eb3113ae4b1aaf7722']
2026-02-20 19:16:39 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:16:39 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:40 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:42 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:42 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_60d0e2ef09034d049aaeb9']
2026-02-20 19:16:42 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:16:42 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:43 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e83e2be3792d41fda522fb']
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e74e69ecac9b4f1e80b80f']
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:16:45 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:48 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:48 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_0254d5dd2eda468d9b5ce4']
2026-02-20 19:16:48 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:16:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:50 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:16:55 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:16:55 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_0d3a51e11ce440b2bfc3d4']
2026-02-20 19:16:55 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:16:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中设计多代理协作架构，虽然没有明确命名为 “Supervisor” 或 “Collaboration” 的官方模式，但其核心设计理念和提供的工具天然支持构建这些复杂的协作系统。以下是几种主流的、基于 LangGraph能力实现的多代理协作模式：

### 1. 并行执行 (P...
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:16:56 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）时sub_url_pool 为空
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:16:56 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 19:16:56 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/JavaEdge/p/18474779
2026-02-20 19:16:56 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://tobyqin.cn/posts/2025-11-26/agent-design/
2026-02-20 19:16:56 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://ithelp.ithome.com.tw/articles/10348601
2026-02-20 19:16:56 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/multi_agent.1.html
2026-02-20 19:16:56 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: http://www.heartthinkdo.com/?p=4317
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:16:56 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 19:16:56,610 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 工作流中实现错误恢复机制主要通过两个核心功能：**Checkpoint（检查点）持久化**和**RetryPolicy（重试策略）**。以下是具体实现方法：

---

### 1. 使用 Checkpoint 恢复崩溃前状态

LangGraph 提供了多种 `Checkp...
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:16:57 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略时sub_url_pool 为空
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:16:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690b1def5511483559e2720d.html
2026-02-20 19:16:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/news/3547448
2026-02-20 19:16:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 19:16:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/durable_execution
2026-02-20 19:16:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/persistence.1.html
2026-02-20 19:16:57 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/zhanggaoxing/p/18791377
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:16:57 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 19:16:57,488 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:16:58,057 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:16:58 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:16:58 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:16:58 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:16:58 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:16:59,047 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 19:16:59 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 '在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）' 的处理
2026-02-20 19:16:59 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 '在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）' 的处理
2026-02-20 19:16:59 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）后 sub_url_pool 包含 6 个 URL
2026-02-20 19:16:59 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collaboration、Parallel Execution）后 downloaded_papers 包含 6 个结果
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 19:17:00 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 '如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略' 的处理
2026-02-20 19:17:00 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 '如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略' 的处理
2026-02-20 19:17:00 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略后 sub_url_pool 包含 6 个 URL
2026-02-20 19:17:00 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态或重试策略后 downloaded_papers 包含 4 个结果
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中实现状态持久化，无论是使用内置的 `InMemorySaver` 还是外部数据库（如 Redis），其核心都是通过配置一个 **Checkpointer** 来实现的。以下是具体的配置方法和最佳实践：

---

### **一、 核心概念：Checkpointer**

...
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:17:16 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践时sub_url_pool 为空
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:17:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/clnchanpin/p/19338460
2026-02-20 19:17:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/rootb/article/details/148721295
2026-02-20 19:17:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/gitblog_00154/article/details/150793260
2026-02-20 19:17:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1981392181592871894
2026-02-20 19:17:16 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/persistence.1.html
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 5 篇
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:17:16 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 19:17:16,524 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:17:17,902 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:17:17 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:17:17 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:17:17 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:17:17 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 3 篇文档
2026-02-20 19:17:19 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践' 的处理
2026-02-20 19:17:19 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践' 的处理
2026-02-20 19:17:19 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践后 sub_url_pool 包含 5 个 URL
2026-02-20 19:17:19 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方法和最佳实践后 downloaded_papers 包含 3 个结果
2026-02-20 19:17:19 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 19:17:19 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 19:17:19 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 19:17:19 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 19:17:19 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 16 个 URL
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 16 个 URL
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 19:17:19 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 13 个文件, 阈值=0.8
2026-02-20 19:17:19 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 13 个, 未输出 0 个
2026-02-20 19:17:19 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 13 个, 输出 13 个, 未输出 0 个
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 13 个, 输出 13 个, 未输出 0 个
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 13 个文档元数据
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 19:17:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 19:17:19,473 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 19:17:19,474 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 19:17:19,719 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 19:17:19,719 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中实现状态持久化（如使用 InMemorySaver 或外部数据库）的具体配置方..., 文档数量: 5
2026-02-20 19:17:20,035 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:17:20,037 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 19:17:20,147 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 19:17:20,147 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中设计多代理协作架构的主流模式有哪些（如 Supervisor、Collab..., 文档数量: 5
2026-02-20 19:17:20,374 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:17:20,375 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 5 个节点
2026-02-20 19:17:20,398 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 19:17:20,398 - core.rag.reranker - INFO - 开始异步 rerank，查询: 如何在 LangGraph 工作流中实现错误恢复机制，例如通过 checkpoint 恢复崩溃前状态..., 文档数量: 5
2026-02-20 19:17:20,554 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:17:20,555 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 19:17:20,577 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 19:17:20,577 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 条件跳转（add_conditional_edges）的最佳实践，包括路由函数设..., 文档数量: 5
2026-02-20 19:17:20,655 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:17:20,656 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 19:17:20,713 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 19:17:20,713 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶应用场景中，如何结合状态管理、条件路由与多代理协作构建复杂生产级工作流..., 文档数量: 5
2026-02-20 19:17:20,803 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:17:20,804 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 19:17:20,804 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 25 个节点
2026-02-20 19:17:20,804 - core.rag.rag_postprocess_module - INFO - 去重后保留 22 个节点
2026-02-20 19:17:20,809 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 20 个节点
2026-02-20 19:17:20,809 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 19:17:20,809 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 20 个节点
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2177
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2498
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1876
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1243
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2161
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2474
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1511
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2550
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas-and-application-practice-part-two/, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2908
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1369
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1344
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1982
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1631
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1405
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 298
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1125
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2164
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1766
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2236
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 398 个问题
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 2 个子问题，使用第一阶段收集的 16 个 URL
2026-02-20 19:17:20 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=16)
2026-02-20 19:17:20 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:17:20 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 19:17:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 19:17:20,819 - core.rag.document_processor - INFO - 开始处理 13 个文档
2026-02-20 19:17:20,819 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_实用指南：LangG.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 19:17:20,821 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph核.md 加载为 44 个 Document 并加入 pipeline
2026-02-20 19:17:20,821 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph持.md 加载为 27 个 Document 并加入 pipeline
2026-02-20 19:17:20,822 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_Multi-Agen.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 19:17:20,824 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_使用LangGrap.md 加载为 17 个 Document 并加入 pipeline
2026-02-20 19:17:20,824 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_多Agent 架构的.md 加载为 15 个 Document 并加入 pipeline
2026-02-20 19:17:20,825 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_【Day 16】-.md 加载为 23 个 Document 并加入 pipeline
2026-02-20 19:17:20,826 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_多代理系统 ¶.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 19:17:20,827 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_Related Po.md 加载为 21 个 Document 并加入 pipeline
2026-02-20 19:17:20,827 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph重.md 加载为 17 个 Document 并加入 pipeline
2026-02-20 19:17:20,828 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 19 个 Document 并加入 pipeline
2026-02-20 19:17:20,830 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_WEEK057 - .md 加载为 20 个 Document 并加入 pipeline
2026-02-20 19:17:20,830 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_三）使用LangGr.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 19:17:20,832 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 221 个 Document
2026-02-20 19:21:26,818 - core.rag.document_processor - INFO - 文档处理完成: 196 个节点
2026-02-20 19:21:26,819 - core.rag.document_processor - INFO - 另外添加了 24 个来自 可选工具JSON 文档的节点
2026-02-20 19:21:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:594] - 第一阶段文档处理完成: 220 个片段
2026-02-20 19:21:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 19:21:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 19:21:26,819 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 19:21:26,820 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 19:21:26,949 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 19:21:26,949 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流..., 文档数量: 5
2026-02-20 19:21:26 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 19:21:26 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 19:21:26 - agents.executoragent - ERROR - [executoragent.py:1067] - executor 处理子问题 'LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性' 时出错: terminating connection due to administrator command
2026-02-20 19:21:26 - agents.executor_pool - ERROR - [executor_pool.py:187] - executor 处理子问题 'LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性' 时出错: terminating connection due to administrator command
2026-02-20 19:21:26 - agents.executoragent - ERROR - [executoragent.py:1067] - executor 处理子问题 '结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么' 时出错: terminating connection due to administrator command
2026-02-20 19:21:26 - agents.executor_pool - ERROR - [executor_pool.py:187] - executor 处理子问题 '结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么' 时出错: terminating connection due to administrator command
2026-02-20 19:21:26 - agents.executor_pool - ERROR - [executor_pool.py:122] - 子问题 1 执行失败: terminating connection due to administrator command
2026-02-20 19:21:26 - agents.executor_pool - ERROR - [executor_pool.py:122] - 子问题 2 执行失败: terminating connection due to administrator command
2026-02-20 19:21:26 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 0/2, 失败 2
2026-02-20 19:21:26 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 14 -> 14 个 URL
2026-02-20 19:21:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:388] - 第二阶段执行完成，获得 0 个结果
2026-02-20 19:21:26 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:389] - 第二阶段 URL Pool: 14 -> 14
2026-02-20 19:21:27,213 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:27,214 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:27,236 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 19:21:27,236 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些..., 文档数量: 5
2026-02-20 19:21:27,326 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 19:21:27,327 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 4 个节点
2026-02-20 19:21:27,350 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 19:21:27,350 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景..., 文档数量: 5
2026-02-20 19:21:27,415 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:27,415 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:27,445 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 19:21:27,445 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性..., 文档数量: 5
2026-02-20 19:21:27,520 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:27,521 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:27,554 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 19:21:27,555 - core.rag.reranker - INFO - 开始异步 rerank，查询: 结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么..., 文档数量: 5
2026-02-20 19:21:27,595 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:27,596 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:27,596 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 24 个节点
2026-02-20 19:21:27,596 - core.rag.rag_postprocess_module - INFO - 去重后保留 18 个节点
2026-02-20 19:21:27,606 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 18 个节点
2026-02-20 19:21:27,606 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 19:21:27,606 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 18 个节点
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 411
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.53ai.com/news/qianyanjishu/1393.html, 相似度得分: 0.9645224
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2288
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.95998776
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1243
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.9079672
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1230
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.8707073
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1678
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1511
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1533
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1369
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 517
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 596
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1915
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798103, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1819
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1982
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2177
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2517
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7517488132989681699, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2161
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2498
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 467 个问题
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 0 个, 输出 0 个, 未输出 0 个
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 0 个文档元数据
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：9 + 0 = 0 个去重后的文档
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 19:21:27 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:21:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 220 个第一阶段文档到向量库
2026-02-20 19:21:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:21:36 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'if content is list. item must be dict and key[type] should in dict', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-3a895805-5b6a-9ce7-ac6a-59ba98be698f', 'request_id': '3a895805-5b6a-9ce7-ac6a-59ba98be698f'}
2026-02-20 19:21:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 19:21:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 19:21:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 19:21:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 19:21:36,663 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 19:21:36,663 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 19:21:36,682 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 19:21:36,683 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流..., 文档数量: 5
2026-02-20 19:21:36,722 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:36,723 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:36,750 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 19:21:36,750 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些..., 文档数量: 5
2026-02-20 19:21:36,922 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 19:21:36,923 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 4 个节点
2026-02-20 19:21:36,946 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 19:21:36,947 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景..., 文档数量: 5
2026-02-20 19:21:37,060 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:37,061 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:37,084 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 19:21:37,084 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性..., 文档数量: 5
2026-02-20 19:21:37,189 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:37,190 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:37,212 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 19:21:37,213 - core.rag.reranker - INFO - 开始异步 rerank，查询: 结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么..., 文档数量: 5
2026-02-20 19:21:37,282 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:37,282 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:37,282 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 24 个节点
2026-02-20 19:21:37,283 - core.rag.rag_postprocess_module - INFO - 去重后保留 22 个节点
2026-02-20 19:21:37,288 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 20 个节点
2026-02-20 19:21:37,288 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 19:21:37,288 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 20 个节点
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 411
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.53ai.com/news/qianyanjishu/1393.html, 相似度得分: 0.9644556
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2288
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.95998776
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1243
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.90829307
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1230
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.8708172
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1307
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/sio2zyh/p/19010575, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1974
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1678
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1511
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1369
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2681
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1673
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 504
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1791
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1915
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798103, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1927
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2177
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 3181
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1912
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1690
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 451 个问题
2026-02-20 19:21:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:997] - 评估模型原始输出: {
  "passed": false,
  "suggestions": [
    "答案未明确围绕用户问题展开，缺乏结构化组织，内容堆砌检索片段而未提炼核心观点。",
    "关键结论（如条件边用法、状态管理、检查点机制）未标注具体来源出处，证据与主张匹配度低，部分段落无引用支持。"
  ]
}
2026-02-20 19:21:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:965] - 评估结果解析成功: {'passed': False, 'suggestions': ['答案未明确围绕用户问题展开，缺乏结构化组织，内容堆砌检索片段而未提炼核心观点。', '关键结论（如条件边用法、状态管理、检查点机制）未标注具体来源出处，证据与主张匹配度低，部分段落无引用支持。']}
2026-02-20 19:21:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1010] - 评估结果原始内容(str格式): {
  "passed": false,
  "suggestions": [
    "答案未明确围绕用户问题展开，缺乏结构化组织，内容堆砌检索片段而未提炼核心观点。",
    "关键结论（如条件边用法、状态管理、检查点机制）未标注具体来源出处，证据与主张匹配度低，部分段落无引用支持。"
  ]
}
2026-02-20 19:21:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 19:21:39 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:21:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 220 个第一阶段文档到向量库
2026-02-20 19:21:46 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:21:47 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'if content is list. item must be dict and key[type] should in dict', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-8131dd65-f6d8-9e3f-9342-407987f9ad2b', 'request_id': '8131dd65-f6d8-9e3f-9342-407987f9ad2b'}
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 19:21:47,415 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 19:21:47,415 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 19:21:47,435 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 19:21:47,435 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何实现复杂的状态管理以支持多步骤、上下文感知的工作流..., 文档数量: 5
2026-02-20 19:21:47,478 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:47,479 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:47,500 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 19:21:47,500 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中设置条件分支（Conditional Edge）的具体方法和最佳实践有哪些..., 文档数量: 5
2026-02-20 19:21:47,589 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 19:21:47,590 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 4 个节点
2026-02-20 19:21:47,610 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 19:21:47,610 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过循环控制（Cyclic Graph）支持迭代或重复执行节点的场景..., 文档数量: 5
2026-02-20 19:21:47,646 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:47,646 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:47,665 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 19:21:47,665 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的中断与恢复机制如何实现持久化和错误恢复，确保工作流韧性..., 文档数量: 5
2026-02-20 19:21:47,717 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:47,717 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:47,737 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 19:21:47,737 - core.rag.reranker - INFO - 开始异步 rerank，查询: 结合外部存储（如数据库）实现 LangGraph 长期状态持久化的推荐架构是什么..., 文档数量: 5
2026-02-20 19:21:47,777 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:21:47,778 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 19:21:47,778 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 24 个节点
2026-02-20 19:21:47,778 - core.rag.rag_postprocess_module - INFO - 去重后保留 22 个节点
2026-02-20 19:21:47,783 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 20 个节点
2026-02-20 19:21:47,783 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 19:21:47,783 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 20 个节点
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 411
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.53ai.com/news/qianyanjishu/1393.html, 相似度得分: 0.9645224
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2288
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/studyLog-share/p/19289014, 相似度得分: 0.95998776
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1243
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.90829307
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1230
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.8710367
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1307
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/sio2zyh/p/19010575, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1974
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1678
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1511
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1369
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2681
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1673
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 504
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1791
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1915
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798103, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1927
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2177
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 3181
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1912
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1690
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:21:47 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 451 个问题
2026-02-20 19:21:50 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:997] - 评估模型原始输出: {
  "passed": false,
  "suggestions": [
    "回答维度不合理：未明确围绕一个具体问题展开，内容零散堆砌多个LangGraph技术点（如条件边、状态管理、Command、缓存等），缺乏结构化组织和逻辑主线。",
    "证据标注不准确或缺失：关键结论（如Command用法、add_conditional_edges参数说明、状态持久化机制）未在正文中明确标注来源URL或段落，读者无法验证信息出处；部分引用重复（如CSDN和腾讯云开发者文章多次出现但未区分内容差异）；未说明检索结果局限性（如缺少官方文档或权威教程支撑）。"
  ]
}
2026-02-20 19:21:50 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:965] - 评估结果解析成功: {'passed': False, 'suggestions': ['回答维度不合理：未明确围绕一个具体问题展开，内容零散堆砌多个LangGraph技术点（如条件边、状态管理、Command、缓存等），缺乏结构化组织和逻辑主线。', '证据标注不准确或缺失：关键结论（如Command用法、add_conditional_edges参数说明、状态持久化机制）未在正文中明确标注来源URL或段落，读者无法验证信息出处；部分引用重复（如CSDN和腾讯云开发者文章多次出现但未区分内容差异）；未说明检索结果局限性（如缺少官方文档或权威教程支撑）。']}
2026-02-20 19:21:50 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1010] - 评估结果原始内容(str格式): {
  "passed": false,
  "suggestions": [
    "回答维度不合理：未明确围绕一个具体问题展开，内容零散堆砌多个LangGraph技术点（如条件边、状态管理、Command、缓存等），缺乏结构化组织和逻辑主线。",
    "证据标注不准确或缺失：关键结论（如Command用法、add_conditional_edges参数说明、状态持久化机制）未在正文中明确标注来源URL或段落，读者无法验证信息出处；部分引用重复（如CSDN和腾讯云开发者文章多次出现但未区分内容差异）；未说明检索结果局限性（如缺少官方文档或权威教程支撑）。"
  ]
}
2026-02-20 19:21:50 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 19:21:51 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'if content is list. item must be dict and key[type] should in dict', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-6b79a0b3-944d-9dad-a84a-f2c04d8d02be', 'request_id': '6b79a0b3-944d-9dad-a84a-f2c04d8d02be'}
2026-02-20 19:21:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 19:21:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:997] - 评估模型原始输出: {
  "passed": false,
  "suggestions": [
    "回答维度不合理：未围绕具体问题展开，缺乏结构化内容（如无标题、无分点、无总结），仅堆砌检索片段，未形成连贯论述。",
    "证据标注不准确：关键结论未标注来源（如状态管理机制、Command使用场景等），部分引用重复或未说明其支撑观点，缺乏对证据不足的说明。"
  ]
}
2026-02-20 19:21:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:965] - 评估结果解析成功: {'passed': False, 'suggestions': ['回答维度不合理：未围绕具体问题展开，缺乏结构化内容（如无标题、无分点、无总结），仅堆砌检索片段，未形成连贯论述。', '证据标注不准确：关键结论未标注来源（如状态管理机制、Command使用场景等），部分引用重复或未说明其支撑观点，缺乏对证据不足的说明。']}
2026-02-20 19:21:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1010] - 评估结果原始内容(str格式): {
  "passed": false,
  "suggestions": [
    "回答维度不合理：未围绕具体问题展开，缺乏结构化内容（如无标题、无分点、无总结），仅堆砌检索片段，未形成连贯论述。",
    "证据标注不准确：关键结论未标注来源（如状态管理机制、Command使用场景等），部分引用重复或未说明其支撑观点，缺乏对证据不足的说明。"
  ]
}
2026-02-20 19:21:53 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:1031] - 达到最大迭代次数 3，结束生成
2026-02-20 19:21:53 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:1235] - 处理查询失败: consuming input failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
2026-02-20 19:40:03,692 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:40:03,693 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 19:40:03,835 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:40:03,956 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 19:40:04,077 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:40:04 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 19:40:04,197 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:40:04 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 19:40:04,318 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:40:04 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 19:40:04,441 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 19:40:04 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 19:40:04 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 19:40:04 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 19:40:04,441 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 19:40:04,442 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 19:40:04,700 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 19:40:04 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 19:40:04 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 19:40:04 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 19:40:04 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 19:40:04 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 19:40:04,832 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 19:40:04,832 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 19:40:04,832 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 19:40:05,472 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4745 个文档
2026-02-20 19:40:05,473 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 19:40:05,476 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 19:40:05 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 19:40:05 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 19:40:05,480 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:40:07,421 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_d780161ed0604fdd81f213', 'type': 'tool_call'}]
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:40:11 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:40:15 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d780161ed0604fdd81f213']
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括状态管理、条件跳转、并行执行、错误恢复等'}, 'id': 'call_67d7867ef7ee4bba958afa', 'type': 'tool_call'}]
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:40:17 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:40:22 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_67d7867ef7ee4bba958afa']
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'langgraph 高阶技巧 最佳实践 状态管理 条件跳转 并行执行 错误恢复', 'type': 'deep'}, 'id': 'call_0ee4234223e448f2bcf174', 'type': 'tool_call'}]
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 19:40:24 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 19:40:32 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_0ee4234223e448f2bcf174']
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些",
        "LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例",
        "LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递",
        "LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用",
        "LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些"
    ]
}
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528 Send \u7c7b\u5b9e\u73b0\u8282\u70b9\u7684\u5e76\u884c\u6267\u884c\uff0c\u5177\u4f53\u4ee3\u7801\u793a\u4f8b\u548c\u9002\u7528\u573a\u666f\u6709\u54ea\u4e9b", "LangGraph \u4e2d Command \u7c7b\u5982\u4f55\u7528\u4e8e\u6761\u4ef6\u8df3\u8f6c\u548c\u72b6\u6001\u66f4\u65b0\uff0c\u7279\u522b\u662f\u5728\u4eba\u673a\u4ea4\u4e92\u5ba1\u6279\u6d41\u7a0b\u4e2d\u7684\u5e94\u7528\u6848\u4f8b", "LangGraph \u5982\u4f55\u901a\u8fc7 StateGraph \u548c TypedDict \u5b9e\u73b0\u590d\u6742\u7684\u72b6\u6001\u7ba1\u7406\u4e0e\u8de8\u8282\u70b9\u72b6\u6001\u4f20\u9012", "LangGraph \u4e2d\u6784\u5efa\u5d4c\u5957\u5b50\u56fe\uff08Inner Graph\uff09\u7684\u6700\u4f73\u5b9e\u8df5\u53ca\u5176\u5728\u6a21\u5757\u5316\u5de5\u4f5c\u6d41\u8bbe\u8ba1\u4e2d\u7684\u4f5c\u7528", "LangGraph \u7cfb\u7edf\u4e2d\u5b9e\u73b0\u9519\u8bef\u6062\u590d\u6216\u4e2d\u65ad\u6062\u590d\u673a\u5236\u7684\u5178\u578b\u65b9\u6cd5\u6709\u54ea\u4e9b"]}
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5982\u4f55\u4f7f\u7528 Send \u7c7b\u5b9e\u73b0\u8282\u70b9\u7684\u5e76\u884c\u6267\u884c\uff0c\u5177\u4f53\u4ee3\u7801\u793a\u4f8b\u548c\u9002\u7528\u573a\u666f\u6709\u54ea\u4e9b", "LangGraph \u4e2d Command \u7c7b\u5982\u4f55\u7528\u4e8e\u6761\u4ef6\u8df3\u8f6c\u548c\u72b6\u6001\u66f4\u65b0\uff0c\u7279\u522b\u662f\u5728\u4eba\u673a\u4ea4\u4e92\u5ba1\u6279\u6d41\u7a0b\u4e2d\u7684\u5e94\u7528\u6848\u4f8b", "LangGraph \u5982\u4f55\u901a\u8fc7 StateGraph \u548c TypedDict \u5b9e\u73b0\u590d\u6742\u7684\u72b6\u6001\u7ba1\u7406\u4e0e\u8de8\u8282\u70b9\u72b6\u6001\u4f20\u9012", "LangGraph \u4e2d\u6784\u5efa\u5d4c\u5957\u5b50\u56fe\uff08Inner Graph\uff09\u7684\u6700\u4f73\u5b9e\u8df5\u53ca\u5176\u5728\u6a21\u5757\u5316\u5de5\u4f5c\u6d41\u8bbe\u8ba1\u4e2d\u7684\u4f5c\u7528", "LangGraph \u7cfb\u7edf\u4e2d\u5b9e\u73b0\u9519\u8bef\u6062\u590d\u6216\u4e2d\u65ad\u6062\u590d\u673a\u5236\u7684\u5178\u578b\u65b9\u6cd5\u6709\u54ea\u4e9b"]}
2026-02-20 19:40:35 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些', 'LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例', 'LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递', 'LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用', 'LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些']}
2026-02-20 19:40:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 19:40:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 19:40:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 19:40:35 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 19:40:35 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:40:35 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:40:35 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 19:40:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:40:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 19:40:35 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:40:35,655 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:40:35,655 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:40:35,656 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:40:37,563 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:40:37,625 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:40:37,625 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:40:40 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:40:40 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 19:40:40 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些
2026-02-20 19:40:40 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些
2026-02-20 19:40:45 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:40:45 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:40:45 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:40:45 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:40:46 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:40:46 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:40:47 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 1 条数据
2026-02-20 19:40:47 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 4 条结果
2026-02-20 19:40:47 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 19:40:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:49 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_189131db5c0f494aaac8b9']
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_700ea9414dfe45298dfbd3']
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:40:53 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_907fdaf6675d4d93beece1']
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:54 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:40:55 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:40:59 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:40:59 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_65a665e20da947a19a9dde']
2026-02-20 19:40:59 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:40:59 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e1cdf1b4ccfe49e6ba22ed']
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_fbf9412551a745fbbfce63']
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:41:00 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:41:01 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:41:02 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:41:02 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_902d1b8db84248d0aecc7a']
2026-02-20 19:41:02 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 19:41:02 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，`Send` 类是实现节点并行执行的核心工具，它允许一个节点向多个目标节点实例分发不同的状态，从而触发并行处理（map-reduce 模式）。以下是具体的使用方法、代码示例和适用场景：

---

### 一、核心概念

- **`Send` 类**：用于“扇出”（fan...
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:41:10 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些时sub_url_pool 为空
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:41:10 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/rootb/article/details/148797512
2026-02-20 19:41:10 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_41645817/article/details/149813487
2026-02-20 19:41:10 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 19:41:10 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/async/
2026-02-20 19:41:10 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/graph-api
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:41:10 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 19:41:10,758 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:41:12,122 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，`Command` 类是实现**条件跳转与状态更新**的核心工具，尤其适用于需要人工介入的审批流程。其核心机制是：节点函数返回一个 `Command` 对象，该对象可以同时指定对当前状态的更新（`update`）和下一步要执行的节点（`goto`），从而精确控制工作流的走...
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:41:12 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例时sub_url_pool 为空
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:41:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/Answer1215/p/19620165
2026-02-20 19:41:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/command
2026-02-20 19:41:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 19:41:12 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://qiankunli.github.io/2024/05/16/langchain_graph.html
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=4, 去重后=4, 去重率=0.0%
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 4 篇
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 4 篇
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 4 篇文档
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:41:12 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 4 篇文档
2026-02-20 19:41:12,939 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 19:41:13 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些' 的处理
2026-02-20 19:41:13 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些' 的处理
2026-02-20 19:41:13 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些后 sub_url_pool 包含 5 个 URL
2026-02-20 19:41:13 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些后 downloaded_papers 包含 4 个结果
2026-02-20 19:41:14,399 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:41:14 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:41:14 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:41:14 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:41:14 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:41:15 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:41:15 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:41:15 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:41:15 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 19:41:16 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:41:16 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:41:16 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:41:16 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 tavily 文档
2026-02-20 19:41:16 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 3 篇文档
2026-02-20 19:41:16 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例' 的处理
2026-02-20 19:41:16 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例' 的处理
2026-02-20 19:41:16 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例后 sub_url_pool 包含 4 个 URL
2026-02-20 19:41:16 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应用案例后 downloaded_papers 包含 3 个结果
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，通过 `StateGraph` 和 `TypedDict` 实现复杂状态管理与跨节点状态传递的核心机制如下：

---

### 1. **定义状态结构：使用 `TypedDict`**

首先，你需要定义一个 `TypedDict` 类来明确整个工作流中共享状态的数据结...
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:41:18 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递时sub_url_pool 为空
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 19:41:18 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aidoczh.com/langgraph/concepts/low_level/
2026-02-20 19:41:18 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://ithelp.ithome.com.tw/m/articles/10347138
2026-02-20 19:41:18 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_41645817/article/details/149915750
2026-02-20 19:41:18 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aicoding.juejin.cn/post/7536422046021615643
2026-02-20 19:41:18 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690b1b915511483559e2672f.html
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 19:41:18 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 19:41:18,379 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 19:41:19,722 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 19:41:19 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:41:19 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 19:41:19 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:41:19 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 3 篇文档
2026-02-20 19:41:21 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递' 的处理
2026-02-20 19:41:21 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递' 的处理
2026-02-20 19:41:21 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递后 sub_url_pool 包含 5 个 URL
2026-02-20 19:41:21 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节点状态传递后 downloaded_papers 包含 3 个结果
2026-02-20 19:41:21 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 19:41:21 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 19:41:21 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 19:41:21 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 19:41:21 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 14 个 URL
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 14 个 URL
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 19:41:21 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 10 个文件, 阈值=0.8
2026-02-20 19:41:21 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 10 个, 未输出 0 个
2026-02-20 19:41:21 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 10 个, 输出 10 个, 未输出 0 个
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 10 个, 输出 10 个, 未输出 0 个
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 10 个文档元数据
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 19:41:21 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 19:41:21,249 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 19:41:21,250 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 19:41:21,465 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 19:41:21,465 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何使用 Send 类实现节点的并行执行，具体代码示例和适用场景有哪些..., 文档数量: 5
2026-02-20 19:41:21,755 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:41:21,757 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 19:41:21,781 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 19:41:21,781 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中 Command 类如何用于条件跳转和状态更新，特别是在人机交互审批流程中的应..., 文档数量: 5
2026-02-20 19:41:21,844 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:41:21,844 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 5 个节点
2026-02-20 19:41:21,869 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 19:41:21,869 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过 StateGraph 和 TypedDict 实现复杂的状态管理与跨节..., 文档数量: 5
2026-02-20 19:41:21,924 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:41:21,925 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 19:41:21,948 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 19:41:21,948 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用..., 文档数量: 5
2026-02-20 19:41:22,013 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:41:22,013 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 19:41:22,036 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 19:41:22,037 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些..., 文档数量: 5
2026-02-20 19:41:22,117 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 19:41:22,117 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 19:41:22,117 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 25 个节点
2026-02-20 19:41:22,117 - core.rag.rag_postprocess_module - INFO - 去重后保留 25 个节点
2026-02-20 19:41:22,126 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 25 个节点
2026-02-20 19:41:22,126 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 19:41:22,126 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 25 个节点
2026-02-20 19:41:22 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1603
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/weixin_41645817/article/details/149813487, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1439
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/weixin_41645817/article/details/149813487, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2172
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1817
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/branching, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1550
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 504
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1673
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1541
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1390
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798103, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2159
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.aidoczh.com/langgraph/concepts/low_level/, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1978
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1783
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2331
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1766
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2639
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://modelengine.csdn.net/690c4f625511483559e2a628.html, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2162
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1420
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ywctech.net/ml-ai/langchain-langgraph-agent-part2/, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 792
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/map-reduce/, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1791
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1369
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1965
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://aicoding.juejin.cn/post/7536422046021615643, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1871
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 509 个问题
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 2 个子问题，使用第一阶段收集的 14 个 URL
2026-02-20 19:41:22 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=14)
2026-02-20 19:41:22 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 19:41:22 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 19:41:22 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 19:41:22,138 - core.rag.document_processor - INFO - 开始处理 10 个文档
2026-02-20 19:41:22,140 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph批.md 加载为 30 个 Document 并加入 pipeline
2026-02-20 19:41:22,141 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph认.md 加载为 38 个 Document 并加入 pipeline
2026-02-20 19:41:22,142 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何异步运行图 -.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 19:41:22,143 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_使用 Graph A.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 19:41:22,143 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_[LangGraph.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 19:41:22,143 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何使用 Comma.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 19:41:22,151 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph工.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 19:41:22,152 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 19 个 Document 并加入 pipeline
2026-02-20 19:41:22,153 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_【Day 4】- L.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 19:41:22,154 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_零基础LangGra.md 加载为 44 个 Document 并加入 pipeline
2026-02-20 19:41:22,155 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 168 个 Document
2026-02-20 19:49:04,154 - core.rag.document_processor - INFO - 文档处理完成: 216 个节点
2026-02-20 19:49:04,154 - core.rag.document_processor - INFO - 另外添加了 31 个来自 可选工具JSON 文档的节点
2026-02-20 19:49:04 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:594] - 第一阶段文档处理完成: 247 个片段
2026-02-20 19:49:04 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 19:49:04 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用
2026-02-20 19:49:04 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用
2026-02-20 19:49:04 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:834] - 生成答案失败: Error code: 400 - {'error': {'message': 'if content is list. item must be dict and key[type] should in dict', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_parameter_error'}, 'id': 'chatcmpl-137d1e8e-560f-91c1-aba4-4879feb7da43', 'request_id': '137d1e8e-560f-91c1-aba4-4879feb7da43'}
2026-02-20 19:49:07 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 19:49:08 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:49:08 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 19:49:09 - agents.executoragent - INFO - [executoragent.py:174] - wikipedia_search 返回了 1 条数据
2026-02-20 19:49:09 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 19:49:09 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 3 条结果
2026-02-20 19:49:09 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:49:11 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:49:14 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 19:49:14 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 4 条结果
2026-02-20 19:49:14 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_9451fe64d9204304b6fa6d']
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:49:16 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:49:21 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 19:49:21 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e0a13b64977d44fd857f89']
2026-02-20 19:49:21 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 19:49:21 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，**嵌套子图（Inner Graph）** 是实现模块化、可复用工作流设计的核心机制。通过将复杂逻辑封装为独立的子图，再由父图调用，可以显著提升代码的可维护性、测试性和团队协作效率。

---

## 一、构建嵌套子图的最佳实践

### 1. 明确职责分离
- **子图...
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:49:37 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/muzinan110/p/18540191
2026-02-20 19:49:37 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://assets.jimmysong.io/books/agentic-design-patterns-zh-20251011.pdf
2026-02-20 19:49:37 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/subgraph
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=3, 去重后=3, 去重率=0.0%
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 3 篇
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 3 篇
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 3 篇文档
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 3 篇文档
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:49:37 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 系统中，实现**错误恢复或中断恢复机制**主要依赖于其内置的**状态持久化（Checkpointer）** 和 **`interrupt`/`Command(resume=...)` 机制**。虽然它没有传统意义上的“错误恢复”，但其设计哲学是通过状态管理和条件分支来优雅地处...
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 19:49:38 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%BA%94%E7%9
2026-02-20 19:49:38 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148828318
2026-02-20 19:49:38 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1983908115285046678
2026-02-20 19:49:38 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/durable_execution
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=4, 去重后=4, 去重率=0.0%
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 4 篇
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 4 篇
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 4 篇文档
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 4 篇文档
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 wikipedia 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 wikipedia_download 处理 wikipedia 数据
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 2 篇文档
2026-02-20 19:49:38 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用' 的处理
2026-02-20 19:49:38 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用' 的处理
2026-02-20 19:49:38 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用后 sub_url_pool 包含 17 个 URL
2026-02-20 19:49:38 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中构建嵌套子图（Inner Graph）的最佳实践及其在模块化工作流设计中的作用后 downloaded_papers 包含 2 个结果
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 wikipedia_download 返回类型: <class 'list'>
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 wikipedia_download 首项类型: <class 'dict'>
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 wikipedia 文档
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 2 篇文档
2026-02-20 19:49:40 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些' 的处理
2026-02-20 19:49:40 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些' 的处理
2026-02-20 19:49:40 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些后 sub_url_pool 包含 18 个 URL
2026-02-20 19:49:40 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 系统中实现错误恢复或中断恢复机制的典型方法有哪些后 downloaded_papers 包含 2 个结果
2026-02-20 19:49:40 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 19:49:40 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 19:49:40 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 19:49:40 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 14 -> 21 个 URL
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:388] - 第二阶段执行完成，获得 2 个结果
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:389] - 第二阶段 URL Pool: 14 -> 21
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 19:49:40 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 4 个文件, 阈值=0.8
2026-02-20 19:49:40 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 4 个, 未输出 0 个
2026-02-20 19:49:40 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 4 个, 输出 4 个, 未输出 0 个
2026-02-20 19:49:40 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 14 个文件, 阈值=0.8
2026-02-20 19:49:40 - core.file_deduplicator - DEBUG - [file_deduplicator.py:258] - 检测到相似文件 (sim=0.801): tavily_LangGraph批.md vs tavily_LangGraph .md
2026-02-20 19:49:40 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 13 个, 未输出 1 个
2026-02-20 19:49:40 - core.file_deduplicator - INFO - [file_deduplicator.py:335] - 跨集合去重完成: 候选 4 个, 输出 4 个, 未输出 0 个
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 4 个, 输出 4 个, 未输出 0 个
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 4 个文档元数据
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：10 + 4 = 4 个去重后的文档
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:982] - [节点 10] 评估生成答案
2026-02-20 19:49:40 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 19:49:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:687] - 成功添加 247 个第一阶段文档到向量库
2026-02-20 19:49:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 19:49:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:997] - 评估模型原始输出: {
  "passed": true,
  "suggestions": []
}
2026-02-20 19:49:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:965] - 评估结果解析成功: {'passed': True, 'suggestions': []}
2026-02-20 19:49:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1010] - 评估结果原始内容(str格式): {
  "passed": true,
  "suggestions": []
}
2026-02-20 19:49:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 19:49:51,013 - core.rag.document_processor - INFO - 开始处理 4 个文档
2026-02-20 19:49:51,014 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_[PDF] Agen.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 19:49:51,014 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何添加和使用子图.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 19:49:51,015 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/wiki_9117337.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 19:49:51,015 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_破除AI Agent.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 19:49:51,016 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 12 个 Document
2026-02-20 20:17:16,071 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16,073 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16,215 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16,335 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 20:17:16,454 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 20:17:16,575 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 20:17:16,691 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 20:17:16,807 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:17:16 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 20:17:16 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 20:17:16 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 20:17:16,808 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 20:17:16,808 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 20:17:16,937 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 20:17:16 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 20:17:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1142] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 20:17:16 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 20:17:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1160] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 20:17:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 20:17:17,102 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 20:17:17,103 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 20:17:17,103 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 20:17:17,325 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4992 个文档
2026-02-20 20:17:17,325 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 20:17:17,326 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 20:17:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 20:17:17 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 20:17:17,330 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:17:18,871 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶使用技巧和最佳实践', 'libraryName': 'langgraph'}, 'id': 'call_7ebf823e7efc4ef0a0744d', 'type': 'tool_call'}]
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:17:23 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:17:28 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_7ebf823e7efc4ef0a0744d']
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'LangGraph 高阶技巧和最佳实践，包括状态管理、多代理协作、错误恢复机制等'}, 'id': 'call_a5bab070f35147e1b5d6a4', 'type': 'tool_call'}]
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:17:29 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:17:34 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_a5bab070f35147e1b5d6a4']
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'LangGraph 高阶技巧 最佳实践 多代理协作 错误恢复机制 状态持久化', 'type': 'deep'}, 'id': 'call_3b7c7a708f104a3fbf8531', 'type': 'tool_call'}]
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 20:17:35 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:17:41 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_3b7c7a708f104a3fbf8531']
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些",
        "LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行",
        "在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例",
        "LangGraph 的错误恢复机制中 Retry Policy 的配置方式及其在生产环境中的应用效果",
        "LangGraph 如何利用 Checkpointer 实现对话或任务状态的持久化存储与历史回溯"
    ]
}
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\uff08\u5982\u5d4c\u5957\u72b6\u6001\u3001\u7c7b\u578b\u5316\u72b6\u6001\uff09\u7684\u5177\u4f53\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\u6709\u54ea\u4e9b", "LangGraph \u5982\u4f55\u901a\u8fc7\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u548c Send \u673a\u5236\u5b9e\u73b0\u52a8\u6001\u8def\u7531\u4e0e\u5e76\u884c\u4efb\u52a1\u6267\u884c", "\u5728 LangGraph \u4e2d\u6784\u5efa\u591a\u4ee3\u7406\u534f\u4f5c\u7cfb\u7edf\u7684\u6838\u5fc3\u6a21\u5f0f\uff08\u5982\u8d23\u4efb\u94fe\u3001\u89c2\u5bdf\u8005\u6a21\u5f0f\uff09\u548c\u5b9e\u73b0\u793a\u4f8b", "LangGraph \u7684\u9519\u8bef\u6062\u590d\u673a\u5236\u4e2d Retry Policy \u7684\u914d\u7f6e\u65b9\u5f0f\u53ca\u5176\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5e94\u7528\u6548\u679c", "LangGraph \u5982\u4f55\u5229\u7528 Checkpointer \u5b9e\u73b0\u5bf9\u8bdd\u6216\u4efb\u52a1\u72b6\u6001\u7684\u6301\u4e45\u5316\u5b58\u50a8\u4e0e\u5386\u53f2\u56de\u6eaf"]}
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\uff08\u5982\u5d4c\u5957\u72b6\u6001\u3001\u7c7b\u578b\u5316\u72b6\u6001\uff09\u7684\u5177\u4f53\u65b9\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\u6709\u54ea\u4e9b", "LangGraph \u5982\u4f55\u901a\u8fc7\u6761\u4ef6\u8fb9\uff08conditional edges\uff09\u548c Send \u673a\u5236\u5b9e\u73b0\u52a8\u6001\u8def\u7531\u4e0e\u5e76\u884c\u4efb\u52a1\u6267\u884c", "\u5728 LangGraph \u4e2d\u6784\u5efa\u591a\u4ee3\u7406\u534f\u4f5c\u7cfb\u7edf\u7684\u6838\u5fc3\u6a21\u5f0f\uff08\u5982\u8d23\u4efb\u94fe\u3001\u89c2\u5bdf\u8005\u6a21\u5f0f\uff09\u548c\u5b9e\u73b0\u793a\u4f8b", "LangGraph \u7684\u9519\u8bef\u6062\u590d\u673a\u5236\u4e2d Retry Policy \u7684\u914d\u7f6e\u65b9\u5f0f\u53ca\u5176\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u7684\u5e94\u7528\u6548\u679c", "LangGraph \u5982\u4f55\u5229\u7528 Checkpointer \u5b9e\u73b0\u5bf9\u8bdd\u6216\u4efb\u52a1\u72b6\u6001\u7684\u6301\u4e45\u5316\u5b58\u50a8\u4e0e\u5386\u53f2\u56de\u6eaf"]}
2026-02-20 20:17:45 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些', 'LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行', '在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例', 'LangGraph 的错误恢复机制中 Retry Policy 的配置方式及其在生产环境中的应用效果', 'LangGraph 如何利用 Checkpointer 实现对话或任务状态的持久化存储与历史回溯']}
2026-02-20 20:17:45 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 20:17:45 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 20:17:45 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 20:17:45 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 20:17:45 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 20:17:45 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 20:17:45 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 20:17:45 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 20:17:45 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 20:17:45 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 20:17:45,612 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:17:45,613 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:17:45,613 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:17:47,203 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:17:47,263 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:17:47,323 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:17:50 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 '在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: 在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: 在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: 在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:17:50 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:17:50 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行
2026-02-20 20:17:50 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行
2026-02-20 20:17:54 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:17:54 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:17:54 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:17:55 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:17:55 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:17:55 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:17:56 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:17:56 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:17:56 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:17:57 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:17:57 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:17:57 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:17:57 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:17:57 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:17:57 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:17:58 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_0f3be2f070d742f28ea46c']
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ad360be7fa49497a94f4e2']
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_bbd167bb1e6042299ee636']
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:18:03 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:04 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d0c4dd2391f846dea29e07']
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_bca0041c919a47b1b9f97a']
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_5cb22faa25694312b4402c']
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:18:09 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:10 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:18:11 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:18:11 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4fbded7d4acb472b85ede5']
2026-02-20 20:18:11 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:18:11 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，**条件边（conditional edges）** 和 **Send 机制** 是实现动态路由与并行任务执行的核心工具。以下是它们的具体工作原理和结合使用方法：

---

## 1. 条件边（Conditional Edges）：实现动态路由

### 原理：
- 条...
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:18:21 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行时sub_url_pool 为空
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:18:21 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_41645817/article/details/149813487
2026-02-20 20:18:21 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas
2026-02-20 20:18:21 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 20:18:21 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/how-tos/branching/
2026-02-20 20:18:21 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:18:21 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 20:18:21,889 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:18:23,239 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:18:23 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:18:23 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:18:23 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:18:23 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践如下：

---

### 1. **使用 `TypedDict` 定义类型化状态**

LangGraph 推荐使用 Python 的 `typing_extensions.TypedDict` 来定义状态结构...
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:18:24 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些时sub_url_pool 为空
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:18:24 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.qpython.com.cn/langgraph-state-machine-managing-complex-agent-task-f
2026-02-20 20:18:24 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.wuzao.com/p/langgraph/tutorial/state-management
2026-02-20 20:18:24 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/muzinan110/p/18554629
2026-02-20 20:18:24 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_41645817/article/details/149915750
2026-02-20 20:18:24 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7517488132989681699
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 20:18:24,399 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 20:18:24 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行' 的处理
2026-02-20 20:18:24 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行' 的处理
2026-02-20 20:18:24 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行后 sub_url_pool 包含 5 个 URL
2026-02-20 20:18:24 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路由与并行任务执行后 downloaded_papers 包含 5 个结果
2026-02-20 20:18:25,752 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:18:25 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:18:25 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:18:25 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:18:25 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 20:18:27 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些' 的处理
2026-02-20 20:18:27 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些' 的处理
2026-02-20 20:18:27 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些后 sub_url_pool 包含 5 个 URL
2026-02-20 20:18:27 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些后 downloaded_papers 包含 4 个结果
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中构建多代理协作系统，虽然没有直接提及“责任链模式”或“观察者模式”这些传统设计模式的术语，但其核心设计理念和提供的工具天然支持实现类似的功能。

LangGraph 的核心是**有状态（stateful）的、基于图（graph）的编排框架**。它通过定义节点（Nodes，通...
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:18:33 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例时sub_url_pool 为空
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:18:33 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas
2026-02-20 20:18:33 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://codelabs.developers.google.com/aidemy-multi-agent/instructions?hl=zh-cn
2026-02-20 20:18:33 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.atyun.com/61086.html
2026-02-20 20:18:33 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2539681
2026-02-20 20:18:33 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://jangwook.net/zh/blog/zh/langgraph-multi-agent/
2026-02-20 20:18:33 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/qq_22017479/article/details/149054286
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:18:33 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 20:18:33,802 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:18:35,151 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:18:35 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:18:35 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:18:35 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:18:35 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 20:18:36 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 '在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例' 的处理
2026-02-20 20:18:36 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 '在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例' 的处理
2026-02-20 20:18:36 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例后 sub_url_pool 包含 6 个 URL
2026-02-20 20:18:36 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例后 downloaded_papers 包含 6 个结果
2026-02-20 20:18:36 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 20:18:36 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 20:18:36 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 20:18:36 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 20:18:36 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 15 个 URL
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 15 个 URL
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 20:18:36 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 14 个文件, 阈值=0.8
2026-02-20 20:18:36 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 14 个, 未输出 0 个
2026-02-20 20:18:36 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 14 个, 输出 14 个, 未输出 0 个
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 14 个, 输出 14 个, 未输出 0 个
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 15 个文档元数据
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 20:18:36 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 20:18:36,711 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 20:18:36,711 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 20:18:36,918 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 20:18:36,918 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中实现复杂状态管理（如嵌套状态、类型化状态）的具体方法和最佳实践有哪些..., 文档数量: 5
2026-02-20 20:18:37,245 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:18:37,248 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 20:18:37,272 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 20:18:37,272 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过条件边（conditional edges）和 Send 机制实现动态路..., 文档数量: 5
2026-02-20 20:18:37,314 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:18:37,315 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 5 个节点
2026-02-20 20:18:37,339 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 20:18:37,339 - core.rag.reranker - INFO - 开始异步 rerank，查询: 在 LangGraph 中构建多代理协作系统的核心模式（如责任链、观察者模式）和实现示例..., 文档数量: 5
2026-02-20 20:18:37,402 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 20:18:37,402 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 1 个节点
2026-02-20 20:18:37,425 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 20:18:37,425 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 的错误恢复机制中 Retry Policy 的配置方式及其在生产环境中的应用效果..., 文档数量: 5
2026-02-20 20:18:37,467 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:18:37,468 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 20:18:37,492 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 4 个节点
2026-02-20 20:18:37,492 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何利用 Checkpointer 实现对话或任务状态的持久化存储与历史回溯..., 文档数量: 4
2026-02-20 20:18:37,531 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:18:37,531 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 4 个节点
2026-02-20 20:18:37,532 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 20 个节点
2026-02-20 20:18:37,532 - core.rag.rag_postprocess_module - INFO - 去重后保留 20 个节点
2026-02-20 20:18:37,538 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 16 个节点
2026-02-20 20:18:37,538 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 20:18:37,538 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 16 个节点
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1503
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://ithelp.ithome.com.tw/m/articles/10347138, 相似度得分: 0.6981237
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1442
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1974
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2164
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1967
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://aicoding.juejin.cn/post/7536422046021615643, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 298
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1797
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/rootb/article/details/148797512, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 517
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 596
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1439
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/weixin_41645817/article/details/149813487, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1533
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1631
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 2161
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:765] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:768] - 已将检索已将basenode添加到question_pool到,问题个数: 1520
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:770] - 检索到节点，来源: https://blog.csdn.net/rootb/article/details/148797512, 相似度得分: 0.5
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:784] - 从全部检索结果中提取并去重后，问题池中共有 359 个问题
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 2 个子问题，使用第一阶段收集的 15 个 URL
2026-02-20 20:18:37 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=15)
2026-02-20 20:18:37 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 20:18:37 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:817] - [节点 9] 尝试生成最终答案
2026-02-20 20:18:37 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 20:18:37,547 - core.rag.document_processor - INFO - 开始处理 14 个文档
2026-02-20 20:18:37,548 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph状.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 20:18:37,548 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_2. 状态管理核心-.md 加载为 27 个 Document 并加入 pipeline
2026-02-20 20:18:37,549 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 20:18:37,549 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_无标题_202602.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 20:18:37,550 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph认.md 加载为 38 个 Document 并加入 pipeline
2026-02-20 20:18:37,551 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_快时尚电商行业智能体.md 加载为 35 个 Document 并加入 pipeline
2026-02-20 20:18:37,552 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_Multi-Agen.md 加载为 14 个 Document 并加入 pipeline
2026-02-20 20:18:37,554 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何创建用于并行节点.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:18:37,554 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph从.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:18:37,556 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_在Google Cl.md 加载为 32 个 Document 并加入 pipeline
2026-02-20 20:18:37,557 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_利用LangGrap.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 20:18:37,557 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何用LangGra.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 20:18:37,558 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph多.md 加载为 9 个 Document 并加入 pipeline
2026-02-20 20:18:37,559 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_第四章：构建你的AI.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 20:18:37,559 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 215 个 Document
2026-02-20 20:30:29,932 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:30:29,933 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 20:30:30,075 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:30:30,197 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 20:30:30,320 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:30:30 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 20:30:30,441 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:30:30 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 20:30:30,559 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:30:30 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 20:30:30,681 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:30:30 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 20:30:30 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 20:30:30 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 20:30:30,681 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 20:30:30,682 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 20:30:30,819 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 20:30:30 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 20:30:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1144] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 20:30:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 20:30:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1162] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 20:30:30 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 20:30:30,960 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 20:30:30,960 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 20:30:30,960 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 20:30:31,233 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4992 个文档
2026-02-20 20:30:31,233 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 20:30:31,234 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 20:30:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 20:30:31 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 20:30:31,238 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:30:32,876 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶技巧有哪些？', 'libraryName': 'langgraph'}, 'id': 'call_eef30f9c1fdd4fb7af14e5', 'type': 'tool_call'}]
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:30:37 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:30:41 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_eef30f9c1fdd4fb7af14e5']
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/langchain-ai/langgraph', 'query': 'langgraph 高阶技巧有哪些？包括状态管理、条件分支、持久化、并行执行等'}, 'id': 'call_e35c6bc5707043b2afd060', 'type': 'tool_call'}]
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:30:43 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:30:48 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e35c6bc5707043b2afd060']
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'langgraph 高阶技巧 最佳实践 状态管理 条件分支 持久化 并行执行', 'type': 'deep'}, 'id': 'call_f7888c806c9c4608980e5a', 'type': 'tool_call'}]
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 20:30:50 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:30:56 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_f7888c806c9c4608980e5a']
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构",
        "LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么",
        "LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复",
        "LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率",
        "LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用"
    ]
}
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\u7684\u9ad8\u9636\u6280\u5de7\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u4f7f\u7528 TypedDict \u6216 dataclass \u5b9a\u4e49\u5d4c\u5957\u72b6\u6001\u7ed3\u6784", "LangGraph \u5982\u4f55\u901a\u8fc7\u6761\u4ef6\u5206\u652f\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u6d41\u7a0b\u63a7\u5236\uff0c\u5178\u578b\u5e94\u7528\u573a\u666f\u548c\u6700\u4f73\u5b9e\u8df5\u662f\u4ec0\u4e48", "LangGraph \u652f\u6301\u54ea\u4e9b\u6301\u4e45\u5316\u673a\u5236\uff08\u5982 InMemorySaver\u3001\u6570\u636e\u5e93\u7b49\uff09\uff0c\u5982\u4f55\u914d\u7f6e\u4ee5\u5b9e\u73b0\u8de8\u4f1a\u8bdd\u72b6\u6001\u6062\u590d", "LangGraph \u4e2d\u5982\u4f55\u5229\u7528 Send \u7c7b\u6216 ThreadPoolExecutor \u5b9e\u73b0\u8282\u70b9\u7684\u5e76\u884c\u6267\u884c\uff0c\u63d0\u5347\u5904\u7406\u6548\u7387", "LangGraph \u9ad8\u9636\u8bbe\u8ba1\u6a21\u5f0f\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u8d23\u4efb\u94fe\u6a21\u5f0f\u3001\u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u6784\u5efa\u590d\u6742\u667a\u80fd\u4f53\u7cfb\u7edf\u4e2d\u7684\u5e94\u7528"]}
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\u7684\u9ad8\u9636\u6280\u5de7\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u4f7f\u7528 TypedDict \u6216 dataclass \u5b9a\u4e49\u5d4c\u5957\u72b6\u6001\u7ed3\u6784", "LangGraph \u5982\u4f55\u901a\u8fc7\u6761\u4ef6\u5206\u652f\uff08conditional edges\uff09\u5b9e\u73b0\u52a8\u6001\u6d41\u7a0b\u63a7\u5236\uff0c\u5178\u578b\u5e94\u7528\u573a\u666f\u548c\u6700\u4f73\u5b9e\u8df5\u662f\u4ec0\u4e48", "LangGraph \u652f\u6301\u54ea\u4e9b\u6301\u4e45\u5316\u673a\u5236\uff08\u5982 InMemorySaver\u3001\u6570\u636e\u5e93\u7b49\uff09\uff0c\u5982\u4f55\u914d\u7f6e\u4ee5\u5b9e\u73b0\u8de8\u4f1a\u8bdd\u72b6\u6001\u6062\u590d", "LangGraph \u4e2d\u5982\u4f55\u5229\u7528 Send \u7c7b\u6216 ThreadPoolExecutor \u5b9e\u73b0\u8282\u70b9\u7684\u5e76\u884c\u6267\u884c\uff0c\u63d0\u5347\u5904\u7406\u6548\u7387", "LangGraph \u9ad8\u9636\u8bbe\u8ba1\u6a21\u5f0f\u6709\u54ea\u4e9b\uff0c\u4f8b\u5982\u8d23\u4efb\u94fe\u6a21\u5f0f\u3001\u89c2\u5bdf\u8005\u6a21\u5f0f\u5728\u6784\u5efa\u590d\u6742\u667a\u80fd\u4f53\u7cfb\u7edf\u4e2d\u7684\u5e94\u7528"]}
2026-02-20 20:31:01 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构', 'LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么', 'LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复', 'LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率', 'LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用']}
2026-02-20 20:31:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 5 个子问题
2026-02-20 20:31:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 20:31:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 20:31:01 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 20:31:01 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 20:31:01 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 20:31:01 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 20:31:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 20:31:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 20:31:01 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 20:31:01,043 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:31:01,043 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:31:01,043 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:31:02,754 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:31:02,813 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:31:02,813 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:31:05 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:31:05 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:31:05 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么
2026-02-20 20:31:05 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么
2026-02-20 20:31:09 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:31:10 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:31:10 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:31:11 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:31:11 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:31:12 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:31:12 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 1 条数据
2026-02-20 20:31:12 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 4 条结果
2026-02-20 20:31:12 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:13 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:14 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:17 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:31:17 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:31:17 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_1ec927c8d4904bb1986aa5']
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:31:18 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:19 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:19 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_4581e753a0804da6900b34']
2026-02-20 20:31:19 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:31:19 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:20 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:23 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:23 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_7213b437f89c46a1abb58f']
2026-02-20 20:31:23 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:31:23 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:24 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_0547105db0d447819d50c0']
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d13e3dc1c5e4480a80ff5b']
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:31:25 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:26 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:27 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:27 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_26701da8098d44e388a232']
2026-02-20 20:31:27 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:31:27 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:29 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:30 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:30 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_bf751730c1064dbb80655e']
2026-02-20 20:31:30 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:31:30 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:31 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:31 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_921f29c0ce6943d482c758']
2026-02-20 20:31:31 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:31:31 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:32 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:31:33 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:31:33 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_df6dd86f3d47425fa0eac5']
2026-02-20 20:31:33 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:31:33 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: ### LangGraph 通过条件分支（Conditional Edges）实现动态流程控制

LangGraph 是一个用于构建状态化、多步骤智能体工作流的框架，其核心特性之一是支持**条件分支（Conditional Edges）**，允许在运行时根据当前状态动态决定下一步执行哪个节点。这种能...
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:31:42 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么时sub_url_pool 为空
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:31:42 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/yangykaifa/p/19623253
2026-02-20 20:31:42 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://kilong31442.medium.com/langgraph-lowlevel-important-concepts-2b8a61499cc
2026-02-20 20:31:42 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/m290345792/article/details/155467460
2026-02-20 20:31:42 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/Attitude93/article/details/137156447
2026-02-20 20:31:42 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 20:31:42 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4f625511483559e2a628.html
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:31:42 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 20:31:42,883 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:31:44,240 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:31:44 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:31:44 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:31:44 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:31:44 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 20:31:45 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么' 的处理
2026-02-20 20:31:45 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么' 的处理
2026-02-20 20:31:45 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么后 sub_url_pool 包含 6 个 URL
2026-02-20 20:31:45 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用场景和最佳实践是什么后 downloaded_papers 包含 5 个结果
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中实现复杂状态管理的高阶技巧主要包括使用 `TypedDict` 或 `dataclass` 来定义结构化的状态，从而确保类型安全、清晰的数据流和易于维护的代码。以下是核心要点和示例：

### 1. 使用 `TypedDict` 定义状态结构
`TypedDict` 是 P...
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:31:46 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构时sub_url_pool 为空
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:31:46 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/gccbuaa/p/19616522
2026-02-20 20:31:46 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/sio2zyh/p/19010575
2026-02-20 20:31:46 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://adg.csdn.net/697075cf437a6b40336a58b1.html
2026-02-20 20:31:46 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/zzzlip/langchain-langgraph-learning
2026-02-20 20:31:46 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7517488132989681699
2026-02-20 20:31:46 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://adg.csdn.net/694cf9645b9f5f31781ab47b.html
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:31:46 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 20:31:46,052 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:31:47,391 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:31:47 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:31:47 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:31:47 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:31:47 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 20:31:48 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构' 的处理
2026-02-20 20:31:48 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构' 的处理
2026-02-20 20:31:48 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构后 sub_url_pool 包含 6 个 URL
2026-02-20 20:31:48 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 dataclass 定义嵌套状态结构后 downloaded_papers 包含 5 个结果
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: LangGraph 支持多种持久化机制，用于实现跨会话的状态恢复。这些机制主要通过其“检查点”（Checkpointer）系统来实现，允许您将代理（agent）或图（graph）的中间状态保存下来，以便在后续会话中恢复、调试或进行“时间旅行”。

以下是 LangGraph 支持的主要持久化机制及其...
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:31:49 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复时sub_url_pool 为空
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:31:49 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/clnchanpin/p/19338460
2026-02-20 20:31:49 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/concepts/persistence/
2026-02-20 20:31:49 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/persistence.1.html
2026-02-20 20:31:49 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1981392181592871894
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=4, 去重后=4, 去重率=0.0%
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 4 篇
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 4 篇
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 4 篇文档
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:31:49 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 4 篇文档
2026-02-20 20:31:49,229 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:31:50,567 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:31:50 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 1 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:31:50 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:31:50 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:31:50 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 tavily 文档
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 2 篇文档
2026-02-20 20:31:52 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复' 的处理
2026-02-20 20:31:52 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复' 的处理
2026-02-20 20:31:52 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复后 sub_url_pool 包含 4 个 URL
2026-02-20 20:31:52 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨会话状态恢复后 downloaded_papers 包含 2 个结果
2026-02-20 20:31:52 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 20:31:52 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 20:31:52 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 20:31:52 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 20:31:52 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 16 个 URL
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 16 个 URL
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 20:31:52 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 11 个文件, 阈值=0.8
2026-02-20 20:31:52 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 11 个, 未输出 0 个
2026-02-20 20:31:52 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 11 个, 输出 11 个, 未输出 0 个
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 11 个, 输出 11 个, 未输出 0 个
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 12 个文档元数据
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 20:31:52 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 20:31:52,092 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 20:31:52,092 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 5
2026-02-20 20:31:52,393 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 初步检索到 5 个节点
2026-02-20 20:31:52,393 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中实现复杂状态管理的高阶技巧有哪些，例如使用 TypedDict 或 datac..., 文档数量: 5
2026-02-20 20:31:52,640 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:31:52,642 - core.rag.rag_postprocess_module - DEBUG - 问题 1/5 重排序+过滤后保留 5 个节点
2026-02-20 20:31:52,731 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 初步检索到 5 个节点
2026-02-20 20:31:52,732 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何通过条件分支（conditional edges）实现动态流程控制，典型应用..., 文档数量: 5
2026-02-20 20:31:52,904 - core.rag.reranker - INFO - 异步 Rerank 完成，返回 5 个结果
2026-02-20 20:31:52,904 - core.rag.rag_postprocess_module - DEBUG - 问题 2/5 重排序+过滤后保留 2 个节点
2026-02-20 20:31:52,931 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 初步检索到 5 个节点
2026-02-20 20:31:52,931 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 支持哪些持久化机制（如 InMemorySaver、数据库等），如何配置以实现跨..., 文档数量: 5
2026-02-20 20:31:53,020 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:31:53,021 - core.rag.rag_postprocess_module - DEBUG - 问题 3/5 重排序+过滤后保留 5 个节点
2026-02-20 20:31:53,089 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 初步检索到 5 个节点
2026-02-20 20:31:53,090 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行..., 文档数量: 5
2026-02-20 20:31:53,585 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:31:53,586 - core.rag.rag_postprocess_module - DEBUG - 问题 4/5 重排序+过滤后保留 5 个节点
2026-02-20 20:31:53,636 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 初步检索到 5 个节点
2026-02-20 20:31:53,636 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用..., 文档数量: 5
2026-02-20 20:31:53,713 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:31:53,714 - core.rag.rag_postprocess_module - DEBUG - 问题 5/5 重排序+过滤后保留 5 个节点
2026-02-20 20:31:53,714 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 22 个节点
2026-02-20 20:31:53,714 - core.rag.rag_postprocess_module - INFO - 去重后保留 22 个节点
2026-02-20 20:31:53,721 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 20 个节点
2026-02-20 20:31:53,721 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 5 个去重后的问题
2026-02-20 20:31:53,721 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 5 个问题
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 20 个节点
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 517
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.99455196
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1243
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.57045096
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 730
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://modelengine.csdn.net/690b1b915511483559e2672f.html, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2159
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://www.aidoczh.com/langgraph/concepts/low_level/, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1766
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2331
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1978
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 3181
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2161
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2177
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1870
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/rootb/article/details/148797512, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:766] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:766] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1484
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/rootb/article/details/148797512, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:766] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1307
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://www.cnblogs.com/sio2zyh/p/19010575, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2550
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas-and-application-practice-part-two/, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1511
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 446
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://modelengine.csdn.net/690b1b915511483559e2672f.html, 相似度得分: 0.5
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:786] - 从全部检索结果中提取并去重后，问题池中共有 449 个问题
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 2 个子问题，使用第一阶段收集的 16 个 URL
2026-02-20 20:31:53 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 2 个子问题 (user_id=test_user_001, url_pool_size=16)
2026-02-20 20:31:53 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 20:31:53 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:819] - [节点 9] 尝试生成最终答案
2026-02-20 20:31:53 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 20:31:53,731 - core.rag.document_processor - INFO - 开始处理 11 个文档
2026-02-20 20:31:53,732 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_基于LangGrap.md 加载为 27 个 Document 并加入 pipeline
2026-02-20 20:31:53,732 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_深入理解 LangG.md 加载为 6 个 Document 并加入 pipeline
2026-02-20 20:31:53,733 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 16 个 Document 并加入 pipeline
2026-02-20 20:31:53,734 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_zzzlip_lan.md 加载为 14 个 Document 并加入 pipeline
2026-02-20 20:31:53,734 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_收藏！一文掌握Lan.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:31:53,736 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangChain入.md 加载为 103 个 Document 并加入 pipeline
2026-02-20 20:31:53,737 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph系.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 20:31:53,738 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_给你的LangGra.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 20:31:53,738 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_ModelEngin.md 加载为 10 个 Document 并加入 pipeline
2026-02-20 20:31:53,738 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_实用指南：LangG.md 加载为 2 个 Document 并加入 pipeline
2026-02-20 20:31:53,739 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_持久化 ¶.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 20:31:53,740 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 195 个 Document
2026-02-20 20:31:54,043 - core.rag.document_processor - ERROR - IngestionPipeline 处理失败: No columns to parse from file
2026-02-20 20:31:54 - agents.multi_agent_graph - ERROR - [multi_agent_graph.py:627] - 第一阶段文档处理失败: No columns to parse from file
2026-02-20 20:31:54 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 20:31:54 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用
2026-02-20 20:31:54 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用
2026-02-20 20:31:57 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:31:57 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:31:57 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:31:58 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:31:59 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:31:59 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:31:59 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:00 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:32:00 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:32:00 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:01 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:02 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_5ff2a737c8de44fe9a1efa']
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d9a7ad39b61747a4bad420']
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:32:06 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:08 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:09 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:09 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ebe0c28e52cb4c89a020a8']
2026-02-20 20:32:09 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:32:09 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:10 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:12 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:12 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_32d9a0c7b63f442d96ddbd']
2026-02-20 20:32:12 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:32:12 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_36e1f515089c4869ac6413']
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=13
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:13 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c71cfe95c54346c8adb42e']
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=13
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:14 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:32:15 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:32:15 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_6c0d4ad2ff0b40b7aee296']
2026-02-20 20:32:15 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:32:15 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=15
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中，实现节点并行执行以提升处理效率的核心机制是使用 **`Send` 类**。LangGraph 本身并不直接依赖 `ThreadPoolExecutor` 进行底层并行化，而是通过其运行时引擎（通常基于异步或事件循环）自动调度和并发执行由 `Send` 触发的多个节点实例。...
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:32:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/rootb/article/details/148797512
2026-02-20 20:32:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.tencent.com/developer/article/2601752
2026-02-20 20:32:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.imooc.com/article/376724
2026-02-20 20:32:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/async/
2026-02-20 20:32:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://ginonotes.com/posts/agentic-design-patterns-parallelization-translation
2026-02-20 20:32:35 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://langgraph.com.cn/concepts/pregel/index.html
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:32:35 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 20:32:36 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率' 的处理
2026-02-20 20:32:36 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率' 的处理
2026-02-20 20:32:36 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率后 sub_url_pool 包含 22 个 URL
2026-02-20 20:32:36 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中如何利用 Send 类或 ThreadPoolExecutor 实现节点的并行执行，提升处理效率后 downloaded_papers 包含 6 个结果
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=15
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 虽然 LangGraph 官方文档和源码中**没有直接实现或命名“责任链模式（Chain of Responsibility）”或“观察者模式（Observer Pattern）”**，但其核心架构天然支持这些设计模式的思想，并通过状态图（StateGraph）、条件边（Conditional Ed...
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:32:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://aws.amazon.com/cn/blogs/china/fast-fashion-e-commerce-agent-design-ideas
2026-02-20 20:32:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 20:32:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://cloud.google.com/discover/what-is-a-multi-agent-system?hl=zh-CN
2026-02-20 20:32:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.gm7.org/archives/6734
2026-02-20 20:32:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/The_Thieves/article/details/148829864
2026-02-20 20:32:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://grapecity.csdn.net/68ccbcb18867235e138605e0.html
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:32:41 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=1
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 1 篇 exa_context 文档
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 4 篇文档
2026-02-20 20:32:43 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用' 的处理
2026-02-20 20:32:43 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用' 的处理
2026-02-20 20:32:43 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用后 sub_url_pool 包含 22 个 URL
2026-02-20 20:32:43 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 高阶设计模式有哪些，例如责任链模式、观察者模式在构建复杂智能体系统中的应用后 downloaded_papers 包含 4 个结果
2026-02-20 20:32:43 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 20:32:43 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 20:32:43 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 2/2, 失败 0
2026-02-20 20:32:43 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 16 -> 28 个 URL
2026-02-20 20:32:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:388] - 第二阶段执行完成，获得 2 个结果
2026-02-20 20:32:43 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:389] - 第二阶段 URL Pool: 16 -> 28
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:827] - 轮次：1答案生成完成(注:轮次从1开始计数)
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:509] - [节点 4b] 第二次文档收集与去重
2026-02-20 20:32:49 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 10 个文件, 阈值=0.8
2026-02-20 20:32:49 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 10 个, 未输出 0 个
2026-02-20 20:32:49 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 10 个, 输出 10 个, 未输出 0 个
2026-02-20 20:32:49 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 21 个文件, 阈值=0.8
2026-02-20 20:32:49 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 21 个, 未输出 0 个
2026-02-20 20:32:49 - core.file_deduplicator - INFO - [file_deduplicator.py:335] - 跨集合去重完成: 候选 10 个, 输出 10 个, 未输出 0 个
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:544] - 第二次去重完成: 输入 10 个, 输出 10 个, 未输出 0 个
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:565] - 从第二阶段 executor_results 提取到 10 个文档元数据
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:566] - 两阶段总计：11 + 10 = 10 个去重后的文档
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:984] - [节点 10] 评估生成答案
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 20:32:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 20:32:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:999] - 评估模型原始输出: {
  "passed": true,
  "suggestions": []
}
2026-02-20 20:32:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:967] - 评估结果解析成功: {'passed': True, 'suggestions': []}
2026-02-20 20:32:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1012] - 评估结果原始内容(str格式): {
  "passed": true,
  "suggestions": []
}
2026-02-20 20:32:51 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:638] - [节点 5b] 第二阶段文档处理（去重后）
2026-02-20 20:32:51,764 - core.rag.document_processor - INFO - 开始处理 10 个文档
2026-02-20 20:32:51,765 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph批.md 加载为 30 个 Document 并加入 pipeline
2026-02-20 20:32:51,766 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_Multi-Agen.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 20:32:51,767 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_使用LangGrap.md 加载为 21 个 Document 并加入 pipeline
2026-02-20 20:32:51,768 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_如何异步运行图 -.md 加载为 8 个 Document 并加入 pipeline
2026-02-20 20:32:51,769 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_《智能体设计模式》之.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:32:51,769 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_运行时概览 - La.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 20:32:51,770 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_快时尚电商行业智能体.md 加载为 35 个 Document 并加入 pipeline
2026-02-20 20:32:51,771 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_WEEK057 - .md 加载为 20 个 Document 并加入 pipeline
2026-02-20 20:32:51,773 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_什么是AI 中的多智.md 加载为 12 个 Document 并加入 pipeline
2026-02-20 20:32:51,773 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangChain_.md 加载为 11 个 Document 并加入 pipeline
2026-02-20 20:32:51,774 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 156 个 Document
2026-02-20 20:39:18,831 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:39:18,831 - core.llms - INFO - 成功初始化 LlamaIndex Chat(qwen)/Embedding(bge)
2026-02-20 20:39:18,972 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:39:19,095 - core.rag.reranker - INFO - 初始化 BGEReranker: base_url=http://localhost:8100
2026-02-20 20:39:19,219 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:39:19 - agents.planneragent - INFO - [planneragent.py:301] - 完成planner_graph的初始化构造
2026-02-20 20:39:19,355 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:39:19 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 1/3
2026-02-20 20:39:19,493 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:39:19 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 2/3
2026-02-20 20:39:19,613 - core.llms - INFO - 成功初始化 LangChain Chat(qwen)/Embedding(bge)
2026-02-20 20:39:19 - agents.executor_pool - DEBUG - [executor_pool.py:62] - 创建 ExecutorAgent 3/3
2026-02-20 20:39:19 - agents.executor_pool - INFO - [executor_pool.py:64] - 成功创建 3 个 ExecutorAgent 实例
2026-02-20 20:39:19 - agents.executor_pool - INFO - [executor_pool.py:54] - 初始化 ExecutorAgentPool: pool_size=3, model=qwen
2026-02-20 20:39:19,613 - core.rag.rag_preprocess_module - INFO - 初始化 VectorStoreManager: persist_dir=vector_storage, collection=base_crunchbase_collection
2026-02-20 20:39:19,614 - core.llms - INFO - 成功初始化 LlamaIndex Chat(deepseek)/Embedding(bge)
2026-02-20 20:39:19,745 - core.rag.document_processor - INFO - 初始化 DocumentProcessor: mineru_url=http://localhost:8080, max_chunk_size=1000
2026-02-20 20:39:19 - core.file_deduplicator - INFO - [file_deduplicator.py:51] - 初始化 FileDeduplicator: threshold=0.8, sklearn=可用
2026-02-20 20:39:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1144] - MultiAgentGraph 构建完成（两阶段执行版本）
2026-02-20 20:39:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:209] - 初始化 MultiAgentGraph: executor_pool_size=3
2026-02-20 20:39:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:1162] - 开始处理用户查询: langgraph 高阶技巧有哪些？ (user_id=test_user_001, thread_id=test_thread_001)
2026-02-20 20:39:19 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:220] - [节点 1] 初始化向量存储
2026-02-20 20:39:19,878 - core.rag.rag_preprocess_module - INFO - 检查本地向量库是否存在
2026-02-20 20:39:19,879 - core.rag.rag_preprocess_module - INFO - 向量库目录存在: True, Chroma 数据库存在: True
2026-02-20 20:39:19,879 - core.rag.rag_preprocess_module - INFO - 检测到本地向量库，尝试加载
2026-02-20 20:39:20,203 - core.rag.rag_preprocess_module - INFO - 找到集合 'base_crunchbase_collection'，包含 4992 个文档
2026-02-20 20:39:20,204 - core.rag.rag_preprocess_module - INFO - 从现有向量库加载索引
2026-02-20 20:39:20,205 - core.rag.rag_preprocess_module - INFO - 成功从本地加载向量索引
2026-02-20 20:39:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:225] - 向量存储初始化完成
2026-02-20 20:39:20 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:246] - [节点 2] 调用 PlannerAgent 拆解查询
2026-02-20 20:39:20,208 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:39:21,798 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=2
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'resolve-library-id', 'args': {'query': 'langgraph 高阶使用技巧和最佳实践', 'libraryName': 'langgraph'}, 'id': 'call_980b1be01dd24d02a0d112', 'type': 'tool_call'}]
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:39:25 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:39:30 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_980b1be01dd24d02a0d112']
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=4
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/websites/langchain_oss_python_langgraph', 'query': 'langgraph 高阶技巧：状态管理、条件分支、循环控制、错误恢复机制'}, 'id': 'call_b94513d18bf742d085db09', 'type': 'tool_call'}]
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:39:32 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:39:37 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_b94513d18bf742d085db09']
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=6
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'query-docs', 'args': {'libraryId': '/websites/langchain_oss_python_langgraph', 'query': 'langgraph 高阶技巧：人类干预节点、持久化检查点、流式输出控制、调试与监控方法'}, 'id': 'call_a0e1277cfdb94fe69228c8', 'type': 'tool_call'}]
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:39:38 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:39:43 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_a0e1277cfdb94fe69228c8']
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=1, tool_names=['exa_summary_search']
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=8
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:143] - planner_agent llm_chat 节点在第0轮迭代中，生成的AIMessage类型的消息包含工具调用，工具调用内容为:[{'name': 'exa_summary_search', 'args': {'query': 'langgraph 高级调试技巧、性能优化、多代理协作模式、生产环境部署最佳实践', 'type': 'deep'}, 'id': 'call_62776df4a4fc4e22851e4d', 'type': 'tool_call'}]
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:236] - planner_agent 条件路由器检测到上一步存在工具调用，进入tool_node节点
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:166] - planner_agent tool_node: tool_calls=['exa_summary_search']
2026-02-20 20:39:45 - agents.planneragent - INFO - [planneragent.py:167] - planner_agent tool_node: registered_tools=['exa_summary_search', 'resolve-library-id', 'query-docs']
2026-02-20 20:39:53 - agents.planneragent - INFO - [planneragent.py:190] - planner_agent tool_node: tool_messages_count=1, tool_message_ids=['call_62776df4a4fc4e22851e4d']
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:131] - planner_agent llm_chat 节点在第0轮迭代中，成功生成AIMessage类型的消息，内容为:{
    "tasks": [
        "LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例",
        "LangGraph 如何配置人类干预节点以支持人机协作流程",
        "LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式",
        "LangGraph 流式输出控制中如何启用并处理子图的中间输出",
        "LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景",
        "LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践",
        "LangGraph 在生产环境中部署时的性能优化策略和内存管理技巧"
    ]
}
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:133] - planner_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:138] - planner_agent llm_chat: planner_messages_len=10
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:243] - planner_agent 在第1轮迭代中，成功生成有效的json结构，进入persist_result节点
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:279] - planner_agent persist_result 节点写入结果:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\u4e0e\u6761\u4ef6\u5206\u652f\u63a7\u5236\u7684\u5177\u4f53\u65b9\u6cd5\u548c\u4ee3\u7801\u793a\u4f8b", "LangGraph \u5982\u4f55\u914d\u7f6e\u4eba\u7c7b\u5e72\u9884\u8282\u70b9\u4ee5\u652f\u6301\u4eba\u673a\u534f\u4f5c\u6d41\u7a0b", "LangGraph \u6301\u4e45\u5316\u68c0\u67e5\u70b9\u673a\u5236\u5728 PostgreSQL \u548c Redis \u4e2d\u7684\u5b9e\u73b0\u65b9\u5f0f", "LangGraph \u6d41\u5f0f\u8f93\u51fa\u63a7\u5236\u4e2d\u5982\u4f55\u542f\u7528\u5e76\u5904\u7406\u5b50\u56fe\u7684\u4e2d\u95f4\u8f93\u51fa", "LangGraph \u591a\u4ee3\u7406\u534f\u4f5c\u6a21\u5f0f\u4e2d\u7684\u4e09\u79cd\u5178\u578b\u67b6\u6784\uff08\u5171\u4eab\u753b\u5e03\u3001\u76d1\u7763\u8005\u3001\u5206\u5c42\u56e2\u961f\uff09\u53ca\u5176\u9002\u7528\u573a\u666f", "LangGraph \u4e0e LangSmith \u96c6\u6210\u8fdb\u884c\u9ad8\u7ea7\u8c03\u8bd5\u4e0e\u8fd0\u884c\u65f6\u76d1\u63a7\u7684\u6700\u4f73\u5b9e\u8df5", "LangGraph \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u90e8\u7f72\u65f6\u7684\u6027\u80fd\u4f18\u5316\u7b56\u7565\u548c\u5185\u5b58\u7ba1\u7406\u6280\u5de7"]}
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:311] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果为:{"tasks": ["LangGraph \u4e2d\u5b9e\u73b0\u590d\u6742\u72b6\u6001\u7ba1\u7406\u4e0e\u6761\u4ef6\u5206\u652f\u63a7\u5236\u7684\u5177\u4f53\u65b9\u6cd5\u548c\u4ee3\u7801\u793a\u4f8b", "LangGraph \u5982\u4f55\u914d\u7f6e\u4eba\u7c7b\u5e72\u9884\u8282\u70b9\u4ee5\u652f\u6301\u4eba\u673a\u534f\u4f5c\u6d41\u7a0b", "LangGraph \u6301\u4e45\u5316\u68c0\u67e5\u70b9\u673a\u5236\u5728 PostgreSQL \u548c Redis \u4e2d\u7684\u5b9e\u73b0\u65b9\u5f0f", "LangGraph \u6d41\u5f0f\u8f93\u51fa\u63a7\u5236\u4e2d\u5982\u4f55\u542f\u7528\u5e76\u5904\u7406\u5b50\u56fe\u7684\u4e2d\u95f4\u8f93\u51fa", "LangGraph \u591a\u4ee3\u7406\u534f\u4f5c\u6a21\u5f0f\u4e2d\u7684\u4e09\u79cd\u5178\u578b\u67b6\u6784\uff08\u5171\u4eab\u753b\u5e03\u3001\u76d1\u7763\u8005\u3001\u5206\u5c42\u56e2\u961f\uff09\u53ca\u5176\u9002\u7528\u573a\u666f", "LangGraph \u4e0e LangSmith \u96c6\u6210\u8fdb\u884c\u9ad8\u7ea7\u8c03\u8bd5\u4e0e\u8fd0\u884c\u65f6\u76d1\u63a7\u7684\u6700\u4f73\u5b9e\u8df5", "LangGraph \u5728\u751f\u4ea7\u73af\u5883\u4e2d\u90e8\u7f72\u65f6\u7684\u6027\u80fd\u4f18\u5316\u7b56\u7565\u548c\u5185\u5b58\u7ba1\u7406\u6280\u5de7"]}
2026-02-20 20:39:56 - agents.planneragent - INFO - [planneragent.py:315] - planner_chatmodel对于用户的langgraph 高阶技巧有哪些？ 返回结果json解析成功，内容为:{'tasks': ['LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例', 'LangGraph 如何配置人类干预节点以支持人机协作流程', 'LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式', 'LangGraph 流式输出控制中如何启用并处理子图的中间输出', 'LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景', 'LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践', 'LangGraph 在生产环境中部署时的性能优化策略和内存管理技巧']}
2026-02-20 20:39:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:283] - 查询拆解完成，生成 7 个子问题
2026-02-20 20:39:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:307] - [节点 3a] 第一阶段执行 - 探索阶段（url_pool=[]）
2026-02-20 20:39:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:327] - 第一阶段执行: 3 个子问题，初始 URL 池为空
2026-02-20 20:39:56 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 3 个子问题 (user_id=test_user_001, url_pool_size=0)
2026-02-20 20:39:56 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 20:39:56 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 20:39:56 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 20:39:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:673] - [节点 6] 向量化文档并入库
2026-02-20 20:39:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:694] - 阶段一和阶段二都没有新的BaseNodes需要向量化
2026-02-20 20:39:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:696] - 阶段二没有新的BaseNodes需要向量化，仅阶段一有文档被向量化
2026-02-20 20:39:56,613 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:39:56,613 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:39:56,613 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:39:58,304 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:39:58,365 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:39:58,366 - core.mcp.tools - INFO - 返回 6 个搜索工具
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:40:01 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:40:01 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:1015] - 完成 executor_graph 的初始化构造
2026-02-20 20:40:01 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 如何配置人类干预节点以支持人机协作流程' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 如何配置人类干预节点以支持人机协作流程
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 如何配置人类干预节点以支持人机协作流程
2026-02-20 20:40:01 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 如何配置人类干预节点以支持人机协作流程
2026-02-20 20:40:06 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:40:06 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:40:06 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:40:07 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:40:07 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:40:07 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:40:08 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 20:40:08 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 3 条结果
2026-02-20 20:40:08 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:40:09 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:10 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=1
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:11 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:14 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:14 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_33d12743c2564c1b9d6a46']
2026-02-20 20:40:14 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:40:14 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_2a234278d16544709069f4']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ea6e271c2b224f54ba51cb']
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:40:15 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=3
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:16 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:20 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:20 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_ee7f14cd705946928a84c1']
2026-02-20 20:40:20 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:40:20 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:21 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:21 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_34cdd8a205744ffebc5ac1']
2026-02-20 20:40:21 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:40:21 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_1f59cf862c704370b1894b']
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:22 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:23 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:40:24 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:24 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_698d8eb9c7254532aabbd7']
2026-02-20 20:40:24 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:40:24 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:28 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:40:28 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_208d2c924d8149b7b7f0c4']
2026-02-20 20:40:28 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:40:28 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中配置人类干预节点以支持人机协作流程，主要通过其内置的“中断（Interrupts）”机制实现。虽然核心文档和示例代码中没有直接命名为“人类干预节点”的独立组件，但其“Agent Inbox”功能提供了完善的人类交互能力。

以下是配置方法的核心要点：

1.  **利用中断...
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:40:31 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 如何配置人类干预节点以支持人机协作流程时sub_url_pool 为空
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:40:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraphjs/concepts/human_in_the_loop/
2026-02-20 20:40:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/crazymakercircle/p/19412858
2026-02-20 20:40:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://zhuanlan.zhihu.com/p/1983908115285046678
2026-02-20 20:40:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/tutorials/get-started/4-human-in-the-lo
2026-02-20 20:40:31 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.aidoczh.com/langgraph/tutorials/introduction/
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=5, 去重后=5, 去重率=0.0%
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 5 篇
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 5 篇文档
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:40:31 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 5 篇文档
2026-02-20 20:40:31,527 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:40:33,383 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:40:33 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 2 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:40:33 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:40:33 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:40:33 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 tavily 文档
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 5 篇文档
2026-02-20 20:40:34 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 如何配置人类干预节点以支持人机协作流程' 的处理
2026-02-20 20:40:34 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 如何配置人类干预节点以支持人机协作流程' 的处理
2026-02-20 20:40:34 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 如何配置人类干预节点以支持人机协作流程后 sub_url_pool 包含 5 个 URL
2026-02-20 20:40:34 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 如何配置人类干预节点以支持人机协作流程后 downloaded_papers 包含 5 个结果
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=5
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 在 LangGraph 中实现复杂状态管理与条件分支控制，主要依赖于以下几个核心概念和方法：

1.  **定义状态 (State)**: 使用 `TypedDict` 或 Pydantic 模型来定义图中流动的数据结构。
2.  **创建节点 (Nodes)**: 编写处理函数，这些函数接收当前状...
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:40:41 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例时sub_url_pool 为空
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:40:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.volcengine.com/articles/7587308093848551430
2026-02-20 20:40:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/weixin_41645817/article/details/149915750
2026-02-20 20:40:41 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://juejin.cn/post/7545886696912928802
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=3, 去重后=3, 去重率=0.0%
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 3 篇
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 3 篇
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 3 篇文档
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:40:41 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 3 篇文档
2026-02-20 20:40:41,785 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:40:43,155 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:40:43 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:40:43 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:40:44 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:40:44 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:40:44 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=2
2026-02-20 20:40:44 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 2 篇 exa_context 文档
2026-02-20 20:40:44 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 2 篇文档
2026-02-20 20:40:44 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例' 的处理
2026-02-20 20:40:44 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例' 的处理
2026-02-20 20:40:44 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例后 sub_url_pool 包含 3 个 URL
2026-02-20 20:40:44 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例后 downloaded_papers 包含 2 个结果
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: ### LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式

LangGraph 提供了灵活的持久化检查点机制，允许开发者将应用状态保存到外部存储系统中，以便实现状态恢复、多轮对话管理和时间旅行等功能。以下是它在 **PostgreSQL** 和 **Redi...
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:40:45 - agents.executoragent - WARNING - [executoragent.py:756] - 处理langgraph 高阶技巧有哪些？----LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式时sub_url_pool 为空
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:40:45 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://www.cnblogs.com/zhanggaoxing/p/18791377
2026-02-20 20:40:45 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://view.inews.qq.com/a/20251208A06MZ900
2026-02-20 20:40:45 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.com/aneasystone/weekly-practice/blob/main/notes/week057-create-ag
2026-02-20 20:40:45 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://blog.csdn.net/u013172930/article/details/148042595
2026-02-20 20:40:45 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://github.langchain.ac.cn/langgraph/how-tos/persistence_postgres/
2026-02-20 20:40:45 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://adg.csdn.net/69706e16437a6b40336a384f.html
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=6, 去重后=6, 去重率=0.0%
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 6 篇
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 6 篇
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 6 篇文档
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:40:45 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 6 篇文档
2026-02-20 20:40:45,176 - core.mcp.tools - INFO - 环境变量验证通过: TAVILY_API_KEY 和 EXA_API_KEY 已配置
2026-02-20 20:40:46,527 - core.mcp.tools - INFO - 返回 6 个下载工具
2026-02-20 20:40:46 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 tavily 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:40:46 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 tavily_download 处理 tavily 数据
2026-02-20 20:40:46 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:40:46 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:40:47 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:40:47 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:40:47 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:40:47 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 20:40:48 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 tavily_download 返回类型: <class 'list'>
2026-02-20 20:40:48 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 tavily_download 首项类型: <class 'dict'>
2026-02-20 20:40:48 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:40:48 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 tavily 文档
2026-02-20 20:40:48 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 6 篇文档
2026-02-20 20:40:48 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式' 的处理
2026-02-20 20:40:48 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式' 的处理
2026-02-20 20:40:48 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式后 sub_url_pool 包含 6 个 URL
2026-02-20 20:40:48 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式后 downloaded_papers 包含 6 个结果
2026-02-20 20:40:48 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 1 执行成功
2026-02-20 20:40:48 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 2 执行成功
2026-02-20 20:40:48 - agents.executor_pool - DEBUG - [executor_pool.py:129] - 子问题 3 执行成功
2026-02-20 20:40:48 - agents.executor_pool - INFO - [executor_pool.py:134] - 并发执行完成: 成功 3/3, 失败 0
2026-02-20 20:40:48 - agents.executor_pool - INFO - [executor_pool.py:135] - URL 池更新: 0 -> 14 个 URL
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:336] - 第一阶段执行完成，完成3 个子问题的检索
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:337] - 第一阶段收集到 14 个 URL
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:450] - [节点 4a] 第一次文档收集与去重
2026-02-20 20:40:48 - core.file_deduplicator - INFO - [file_deduplicator.py:164] - 使用 TF-IDF 去重: 13 个文件, 阈值=0.8
2026-02-20 20:40:48 - core.file_deduplicator - INFO - [file_deduplicator.py:267] - TF-IDF 去重完成: 保留 13 个, 未输出 0 个
2026-02-20 20:40:48 - core.file_deduplicator - INFO - [file_deduplicator.py:297] - 列表去重完成: 输入 13 个, 输出 13 个, 未输出 0 个
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:466] - 第一次去重完成: 输入 13 个, 输出 13 个, 未输出 0 个
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:485] - 从第一阶段 executor_results 提取到 13 个文档元数据
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:710] - [节点 7] RAG 检索
2026-02-20 20:40:48 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:727] - 尝试创建 RAG 检索器，使用 top_k=5
2026-02-20 20:40:48,099 - core.rag.rag_postprocess_module - INFO - 初始化 RAGModule: top_k=5
2026-02-20 20:40:48,099 - core.rag.rag_postprocess_module - INFO - 开始 RAG 检索，planner问题数: 7
2026-02-20 20:40:48,389 - core.rag.rag_postprocess_module - DEBUG - 问题 1/7 初步检索到 5 个节点
2026-02-20 20:40:48,389 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 中实现复杂状态管理与条件分支控制的具体方法和代码示例..., 文档数量: 5
2026-02-20 20:40:48,694 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:48,697 - core.rag.rag_postprocess_module - DEBUG - 问题 1/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:48,725 - core.rag.rag_postprocess_module - DEBUG - 问题 2/7 初步检索到 5 个节点
2026-02-20 20:40:48,726 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 如何配置人类干预节点以支持人机协作流程..., 文档数量: 5
2026-02-20 20:40:48,838 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:48,839 - core.rag.rag_postprocess_module - DEBUG - 问题 2/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:48,885 - core.rag.rag_postprocess_module - DEBUG - 问题 3/7 初步检索到 5 个节点
2026-02-20 20:40:48,885 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 持久化检查点机制在 PostgreSQL 和 Redis 中的实现方式..., 文档数量: 5
2026-02-20 20:40:49,096 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:49,096 - core.rag.rag_postprocess_module - DEBUG - 问题 3/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:49,138 - core.rag.rag_postprocess_module - DEBUG - 问题 4/7 初步检索到 5 个节点
2026-02-20 20:40:49,138 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 流式输出控制中如何启用并处理子图的中间输出..., 文档数量: 5
2026-02-20 20:40:49,186 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:49,187 - core.rag.rag_postprocess_module - DEBUG - 问题 4/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:49,228 - core.rag.rag_postprocess_module - DEBUG - 问题 5/7 初步检索到 5 个节点
2026-02-20 20:40:49,228 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景..., 文档数量: 5
2026-02-20 20:40:49,301 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:49,302 - core.rag.rag_postprocess_module - DEBUG - 问题 5/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:49,335 - core.rag.rag_postprocess_module - DEBUG - 问题 6/7 初步检索到 5 个节点
2026-02-20 20:40:49,335 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践..., 文档数量: 5
2026-02-20 20:40:49,404 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:49,404 - core.rag.rag_postprocess_module - DEBUG - 问题 6/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:49,445 - core.rag.rag_postprocess_module - DEBUG - 问题 7/7 初步检索到 5 个节点
2026-02-20 20:40:49,445 - core.rag.reranker - INFO - 开始异步 rerank，查询: LangGraph 在生产环境中部署时的性能优化策略和内存管理技巧..., 文档数量: 5
2026-02-20 20:40:49,497 - core.rag.reranker - ERROR - 异步 Rerank 过程出错: 1 validation error for RerankScore
  Input should be a valid dictionary or instance of RerankScore [type=model_type, input_value='error', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/model_type
2026-02-20 20:40:49,497 - core.rag.rag_postprocess_module - DEBUG - 问题 7/7 重排序+过滤后保留 5 个节点
2026-02-20 20:40:49,497 - core.rag.rag_postprocess_module - INFO - 所有问题检索并重排序完成，共 35 个节点
2026-02-20 20:40:49,498 - core.rag.rag_postprocess_module - INFO - 去重后保留 34 个节点
2026-02-20 20:40:49,507 - core.rag.rag_postprocess_module - INFO - 内容去重后保留 33 个节点
2026-02-20 20:40:49,507 - core.rag.rag_postprocess_module - DEBUG - 问题池构建完成，包含 7 个去重后的问题
2026-02-20 20:40:49,507 - core.rag.rag_postprocess_module - INFO - 构建问题池完成，共 7 个问题
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:742] - RAG 检索完成，获得 33 个节点
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 298
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 517
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://juejin.cn/post/7545886696912928802, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1307
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://www.cnblogs.com/sio2zyh/p/19010575, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1924
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1997
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://www.aidoczh.com/langgraph/concepts/low_level/, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1541
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1673
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1266
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://ithelp.ithome.com.tw/m/articles/10347138, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2162
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 3030
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 376
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:766] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1344
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - WARNING - [multi_agent_graph.py:766] - 检索出的basenode缺少 'questions_this_excerpt_can_answer' 元数据，无法展示改写的问题
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: 联网搜索, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2118
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/rootb/article/details/148797512, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2078
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1605
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://github.langchain.ac.cn/langgraphjs/how-tos/command, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2052
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/M1rage/article/details/146586179, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 514
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://developer.volcengine.com/articles/7587308093848551430, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 818
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://github.langchain.ac.cn/langgraph/how-tos/async/, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1511
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1503
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://ithelp.ithome.com.tw/m/articles/10347138, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1345
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/The_Thieves/article/details/148798756, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2211
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/Attitude93/article/details/137156447, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1333
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/3547448, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1216
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://github.langchain.ac.cn/langgraph/how-tos/graph-api, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1410
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://github.langchain.ac.cn/langgraph/how-tos/async/, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1375
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://www.cnblogs.com/muzinan110/p/18541090, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 2003
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1435
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://blog.csdn.net/rootb/article/details/148797512, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1346
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1899
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:769] - 已将检索已将basenode添加到question_pool到,问题个数: 1974
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:771] - 检索到节点，来源: https://cloud.tencent.com/developer/news/2490695, 相似度得分: 0.5
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:786] - 从全部检索结果中提取并去重后，问题池中共有 497 个问题
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:358] - [节点 3b] 第二阶段执行 - 精炼阶段（使用第一阶段的 url_pool）
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:379] - 第二阶段执行: 4 个子问题，使用第一阶段收集的 14 个 URL
2026-02-20 20:40:49 - agents.executor_pool - INFO - [executor_pool.py:94] - 开始并发执行 4 个子问题 (user_id=test_user_001, url_pool_size=14)
2026-02-20 20:40:49 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 1 到 Agent 0
2026-02-20 20:40:49 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 2 到 Agent 1
2026-02-20 20:40:49 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 3 到 Agent 2
2026-02-20 20:40:49 - agents.executor_pool - DEBUG - [executor_pool.py:110] - 分配子问题 4 到 Agent 0
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:819] - [节点 9] 尝试生成最终答案
2026-02-20 20:40:49 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:602] - [节点 5a] 第一阶段文档处理（去重后）
2026-02-20 20:40:49,521 - core.rag.document_processor - INFO - 开始处理 13 个文档
2026-02-20 20:40:49,522 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_从零开始学LangG.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 20:40:49,523 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph从.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:40:49,523 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_人机协作(Human.md 加载为 16 个 Document 并加入 pipeline
2026-02-20 20:40:49,526 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_LangGraph .md 加载为 58 个 Document 并加入 pipeline
2026-02-20 20:40:49,526 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_破除AI Agent.md 加载为 3 个 Document 并加入 pipeline
2026-02-20 20:40:49,526 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_4. 添加人工干预.md 加载为 7 个 Document 并加入 pipeline
2026-02-20 20:40:49,527 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_LangGraph.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 20:40:49,527 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_张高兴的大模型开发实.md 加载为 5 个 Document 并加入 pipeline
2026-02-20 20:40:49,529 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_让AI智能体拥有像人.md 加载为 59 个 Document 并加入 pipeline
2026-02-20 20:40:49,530 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/tavily_WEEK057 - .md 加载为 20 个 Document 并加入 pipeline
2026-02-20 20:40:49,531 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_将状态图的检查点保存.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:40:49,532 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_无标题_202602.md 加载为 4 个 Document 并加入 pipeline
2026-02-20 20:40:49,532 - core.rag.document_processor - INFO - Markdown 文档 /home/qinshan/widthresearch/data/downloads/exa_革命性持久化：Lan.md 加载为 17 个 Document 并加入 pipeline
2026-02-20 20:40:49,532 - core.rag.document_processor - INFO - 开始通过 IngestionPipeline 处理 209 个 Document
2026-02-20 20:52:56,362 - core.rag.document_processor - INFO - 文档处理完成: 308 个节点
2026-02-20 20:52:56,363 - core.rag.document_processor - INFO - 另外添加了 4 个来自 可选工具JSON 文档的节点
2026-02-20 20:52:56 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:594] - 第一阶段文档处理完成: 312 个片段
2026-02-20 20:52:56 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 流式输出控制中如何启用并处理子图的中间输出' (user_id=test_user_001, thread_id=test_thread_001_executor_0)
2026-02-20 20:52:56 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景' (user_id=test_user_001, thread_id=test_thread_001_executor_1)
2026-02-20 20:52:56 - agents.executor_pool - INFO - [executor_pool.py:167] - executor_pool开始处理子问题 'LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践' (user_id=test_user_001, thread_id=test_thread_001_executor_2)
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 流式输出控制中如何启用并处理子图的中间输出
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 流式输出控制中如何启用并处理子图的中间输出
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 流式输出控制中如何启用并处理子图的中间输出
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:627] - 开始并行调用必需工具: ['wikipedia_search', 'exa_context_search', 'tavily_search']
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 与 LangSmith 集成进行高级调试与运行时监控的最佳实践
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 wikipedia_search 搜索: LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 exa_context_search 搜索: LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景
2026-02-20 20:52:56 - agents.executoragent - INFO - [executoragent.py:115] - 调用工具 tavily_search 搜索: LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景
2026-02-20 20:53:41 - agents.multi_agent_graph - INFO - [multi_agent_graph.py:827] - 轮次：1答案生成完成(注:轮次从1开始计数)
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:53:41 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:174] - exa_context_search 返回了 3 条数据
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:174] - tavily_search 返回了 3 条数据
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 6 条结果
2026-02-20 20:53:41 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:41 - agents.executoragent - WARNING - [executoragent.py:176] - tavily_search 返回了 0 条数据
2026-02-20 20:53:42 - agents.executoragent - INFO - [executoragent.py:174] - wikipedia_search 返回了 1 条数据
2026-02-20 20:53:42 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 7 条结果
2026-02-20 20:53:42 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['resolve-library-id']
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['resolve-library-id']
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:43 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=7
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:53:44 - agents.executoragent - WARNING - [executoragent.py:176] - wikipedia_search 返回了 0 条数据
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:651] - 搜索完成，共获得 3 条结果
2026-02-20 20:53:44 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=9
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:46 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:53:48 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:53:48 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_642598e0d3bf410c9b1ed1']
2026-02-20 20:53:48 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 resolve-library-id 返回 1 条结果
2026-02-20 20:53:48 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_d6d34cb3e1fb4e5886b78e']
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:49 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:53:50 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:53:50 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_8b4cf491ceb14c4b8ce1ec']
2026-02-20 20:53:50 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:53:50 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=11
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:52 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:53:53 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:53:53 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_528e4ea22700404faed3de']
2026-02-20 20:53:53 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:53:53 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:55 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:53:55 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_eb5b9a1de7ae402ca42884']
2026-02-20 20:53:55 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:53:55 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['query-docs']
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=13
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['query-docs']
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:53:56 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:54:01 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:54:01 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_c80e4bf214fa447ba9fea5']
2026-02-20 20:54:01 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 query-docs 返回 1 条结果
2026-02-20 20:54:01 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=True
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=1, tool_names=['grep_query']
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=15
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:536] - LLM 决定调用 1 个可选工具
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:568] - executor_agent tool_node: tool_calls=['grep_query']
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:569] - executor_agent tool_node: registered_tools=['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:54:03 - agents.executoragent - INFO - [executoragent.py:574] - 准备执行 1 个可选工具调用
2026-02-20 20:54:04 - agents.executoragent - INFO - [executoragent.py:584] - 可选工具执行完成，返回 1 条 ToolMessage
2026-02-20 20:54:04 - agents.executoragent - INFO - [executoragent.py:590] - executor_agent tool_node: tool_messages_count=1, tool_message_ids=['call_e354e75b95b24e0384732b']
2026-02-20 20:54:04 - agents.executoragent - INFO - [executoragent.py:607] -   - 工具 grep_query 返回 1 条结果
2026-02-20 20:54:04 - agents.executoragent - INFO - [executoragent.py:499] - 让 LLM 决定是否调用可选工具: ['sec_edgar_search', 'akshare_search', 'resolve-library-id', 'query-docs', 'grep_query']
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:510] - LLM 决策结果: 是否调用工具=False
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:511] - executor_agent llm_chat: tool_calls_count=0, tool_names=[]
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:516] - executor_agent llm_chat: executor_messages_len=13
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:521] - LLM 思考: 根据对 LangGraph 官方文档和示例代码库的检索，目前在其核心库 `/langchain-ai/langgraph` 的公开文档、教程和代码示例中，并未明确将多代理协作模式归纳为“共享画布”、“监督者”和“分层团队”这三种标准化架构。

LangGraph 作为一个底层的状态图编排框架，其设计...
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:540] - LLM 决定不调用可选工具，进入清洗阶段
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 resolve-library-id 的结果（非 paper 结构）
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 query-docs 的结果（非 paper 结构）
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:776] - 跳过工具 grep_query 的结果（非 paper 结构）
2026-02-20 20:54:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://developer.aliyun.com/article/1684663
2026-02-20 20:54:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://jangwook.net/zh/blog/zh/langgraph-multi-agent/
2026-02-20 20:54:06 - agents.executoragent - DEBUG - [executoragent.py:712] - 保留结果（URL去重）: https://modelengine.csdn.net/690c4fb75511483559e2a7f5.html
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:739] - 去重统计: 去重前=3, 去重后=3, 去重率=0.0%
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:837] - 去重前: 3 篇
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:838] - 去重后: 3 篇
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:865] - 从 deduplicated_results 获取 3 篇文档
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:878] - 跳过工具 resolve-library-id 的下载结果合并
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 query-docs 结果追加写入 context7_grep.json
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:875] - 已将工具 grep_query 结果追加写入 context7_grep.json
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:903] - 总共需要下载 3 篇文档
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:924] - 开始下载 exa_context 的 3 篇文档到 /home/qinshan/widthresearch/data/downloads
2026-02-20 20:54:06 - agents.executoragent - INFO - [executoragent.py:930] - 使用下载工具 exa_context_download 处理 exa_context 数据
2026-02-20 20:54:08 - agents.executoragent - INFO - [executoragent.py:937] - 下载工具 exa_context_download 返回类型: <class 'list'>
2026-02-20 20:54:08 - agents.executoragent - INFO - [executoragent.py:939] - 下载工具 exa_context_download 首项类型: <class 'dict'>
2026-02-20 20:54:08 - agents.executoragent - INFO - [executoragent.py:944] - 下载解析 payload: keys=['source_tool', 'result_type', 'count', 'papers'], count=3
2026-02-20 20:54:08 - agents.executoragent - INFO - [executoragent.py:954] - 成功下载 3 篇 exa_context 文档
2026-02-20 20:54:08 - agents.executoragent - INFO - [executoragent.py:982] - 下载完成，共下载 3 篇文档
2026-02-20 20:54:08 - agents.executoragent - INFO - [executoragent.py:1037] - executor 完成子问题 'LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景' 的处理
2026-02-20 20:54:08 - agents.executor_pool - INFO - [executor_pool.py:169] - executor 完成子问题 'LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景' 的处理
2026-02-20 20:54:08 - agents.executor_pool - INFO - [executor_pool.py:175] - executor_pool中 完成LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景后 sub_url_pool 包含 17 个 URL
2026-02-20 20:54:08 - agents.executor_pool - INFO - [executor_pool.py:179] - executor_pool中 完成LangGraph 多代理协作模式中的三种典型架构（共享画布、监督者、分层团队）及其适用场景后 downloaded_papers 包含 3 个结果
